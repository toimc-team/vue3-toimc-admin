import{d as W}from"./dayjs.min.954d66e7.js";import{bw as et,s as ke,x as ce,z as la,v as sa,L as We,e as xe,av as Le,A as Me,am as Be,aV as oa,aW as ra,g as j,R as Te,aK as Re,aY as _t,B as O,b4 as De,aC as ua,y as ia,bx as ca,aX as da,C as e,by as fa,aH as bt,o as _,j as ye,w as le,M as Xe,F as f,S as $t,a9 as Je,D as me,G as ct,H as fe,c as N,a as F,W as rt,t as de,T as xt,aO as pa,a6 as ge,aZ as va,a3 as ma,J as be,I as Se,k as Ge,au as ha,a7 as Ie,b as A,bz as ba,aQ as ga,aA as ya,aa as ka,b2 as lt,bA as At,bB as Nt,b6 as Ft,bC as wa,bt as st,aR as gt,a8 as at,bD as ut,bb as yt,at as dt,bE as it,l as pt,az as kt,ax as Et,h as Da}from"./index.6b8e7d20.js";import{v as Tt,p as Vt,f as Ot,m as vt,b as mt,d as Sa,r as Bt,e as Lt,a as zt,l as Ca}from"./utils.790c0546.js";import{v as Yt}from"./index.d60f0620.js";const el=b=>[...new Set(b)],Qe=b=>!b&&b!==0?[]:Array.isArray(b)?b:[b],Pt=Symbol();var Kt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,m=/\d\d/,v=/\d\d?/,D=/\d*[^-_:/,()\s\d]+/,P={},k=function(s){return(s=+s)+(s>68?1900:2e3)},w=function(s){return function(c){this[s]=+c}},Y=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(c){if(!c||c==="Z")return 0;var h=c.match(/([+-]|\d\d)/g),V=60*h[1]+(+h[2]||0);return V===0?0:h[0]==="+"?-V:V}(s)}],B=function(s){var c=P[s];return c&&(c.indexOf?c:c.s.concat(c.f))},M=function(s,c){var h,V=P.meridiem;if(V){for(var u=1;u<=24;u+=1)if(s.indexOf(V(u,0,c))>-1){h=u>12;break}}else h=s===(c?"pm":"PM");return h},d={A:[D,function(s){this.afternoon=M(s,!1)}],a:[D,function(s){this.afternoon=M(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[m,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[v,w("seconds")],ss:[v,w("seconds")],m:[v,w("minutes")],mm:[v,w("minutes")],H:[v,w("hours")],h:[v,w("hours")],HH:[v,w("hours")],hh:[v,w("hours")],D:[v,w("day")],DD:[m,w("day")],Do:[D,function(s){var c=P.ordinal,h=s.match(/\d+/);if(this.day=h[0],c)for(var V=1;V<=31;V+=1)c(V).replace(/\[|\]/g,"")===s&&(this.day=V)}],M:[v,w("month")],MM:[m,w("month")],MMM:[D,function(s){var c=B("months"),h=(B("monthsShort")||c.map(function(V){return V.slice(0,3)})).indexOf(s)+1;if(h<1)throw new Error;this.month=h%12||h}],MMMM:[D,function(s){var c=B("months").indexOf(s)+1;if(c<1)throw new Error;this.month=c%12||c}],Y:[/[+-]?\d+/,w("year")],YY:[m,function(s){this.year=k(s)}],YYYY:[/\d{4}/,w("year")],Z:Y,ZZ:Y};function C(s){var c,h;c=s,h=P&&P.formats;for(var V=(s=c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,q,G){var Z=G&&G.toUpperCase();return q||h[G]||l[G]||h[Z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ne,J,re){return J||re.slice(1)})})).match(n),u=V.length,y=0;y<u;y+=1){var R=V[y],L=d[R],K=L&&L[0],x=L&&L[1];V[y]=x?{regex:K,parser:x}:R.replace(/^\[|\]$/g,"")}return function(H){for(var q={},G=0,Z=0;G<u;G+=1){var ne=V[G];if(typeof ne=="string")Z+=ne.length;else{var J=ne.regex,re=ne.parser,Q=H.slice(Z),oe=J.exec(Q)[0];re.call(q,oe),H=H.replace(oe,"")}}return function(r){var a=r.afternoon;if(a!==void 0){var o=r.hours;a?o<12&&(r.hours+=12):o===12&&(r.hours=0),delete r.afternoon}}(q),q}}return function(s,c,h){h.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(k=s.parseTwoDigitYear);var V=c.prototype,u=V.parse;V.parse=function(y){var R=y.date,L=y.utc,K=y.args;this.$u=L;var x=K[1];if(typeof x=="string"){var H=K[2]===!0,q=K[3]===!0,G=H||q,Z=K[2];q&&(Z=K[2]),P=this.$locale(),!H&&Z&&(P=h.Ls[Z]),this.$d=function(Q,oe,r){try{if(["x","X"].indexOf(oe)>-1)return new Date((oe==="X"?1e3:1)*Q);var a=C(oe)(Q),o=a.year,g=a.month,E=a.day,X=a.hours,ee=a.minutes,te=a.seconds,pe=a.milliseconds,se=a.zone,_e=new Date,$e=E||(o||g?1:_e.getDate()),Ce=o||_e.getFullYear(),we=0;o&&!g||(we=g>0?g-1:_e.getMonth());var Ve=X||0,he=ee||0,Pe=te||0,ae=pe||0;return se?new Date(Date.UTC(Ce,we,$e,Ve,he,Pe,ae+60*se.offset*1e3)):r?new Date(Date.UTC(Ce,we,$e,Ve,he,Pe,ae)):new Date(Ce,we,$e,Ve,he,Pe,ae)}catch{return new Date("")}}(R,x,L),this.init(),Z&&Z!==!0&&(this.$L=this.locale(Z).$L),G&&R!=this.format(x)&&(this.$d=new Date("")),P={}}else if(x instanceof Array)for(var ne=x.length,J=1;J<=ne;J+=1){K[1]=x[J-1];var re=h.apply(this,K);if(re.isValid()){this.$d=re.$d,this.$L=re.$L,this.init();break}J===ne&&(this.$d=new Date(""))}else u.call(this,y)}}})})(Kt);const Pa=Kt.exports,It=["hours","minutes","seconds"],Rt="HH:mm:ss",nt="YYYY-MM-DD",Ma={date:nt,dates:nt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${nt} ${Rt}`,monthrange:"YYYY-MM",daterange:nt,datetimerange:`${nt} ${Rt}`},Ht=ke({disabledHours:{type:ce(Function)},disabledMinutes:{type:ce(Function)},disabledSeconds:{type:ce(Function)}}),_a=ke({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Ut=ke({id:{type:ce([Array,String])},name:{type:ce([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ce([String,Object]),default:la},editable:{type:Boolean,default:!0},prefixIcon:{type:ce([String,Object]),default:""},size:sa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},modelValue:{type:ce([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ce([Date,Array])},defaultTime:{type:ce([Date,Array])},isRange:{type:Boolean,default:!1},...Ht,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ce([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),$a=["id","name","placeholder","value","disabled","readonly"],Ta=["id","name","placeholder","value","disabled","readonly"],Va={name:"Picker"},Oa=xe({...Va,props:Ut,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(b,{expose:p,emit:l}){const n=b,{lang:m}=Le(),v=Me("date"),D=Me("input"),P=Me("range"),k=Be(oa,{}),w=Be(ra,{}),Y=Be("ElPopperOptions",{}),B=j(),M=j(),d=j(!1),C=j(!1),s=j(null);let c=!1,h=!1;Te(d,t=>{t?s.value=n.modelValue:(ae.value=null,Re(()=>{V(n.modelValue)}))});const V=(t,S)=>{var U;(S||!Tt(t,s.value))&&(l("change",t),n.validateEvent&&((U=w.validate)==null||U.call(w,"change").catch(ue=>_t())))},u=t=>{if(!Tt(n.modelValue,t)){let S;De(t)?S=t.map(U=>Ot(U,n.valueFormat,m.value)):t&&(S=Ot(t,n.valueFormat,m.value)),l("update:modelValue",t&&S,m.value)}},y=t=>{l("keydown",t)},R=O(()=>{if(M.value){const t=we.value?M.value:M.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),L=(t,S,U)=>{const ue=R.value;!ue.length||(!U||U==="min"?(ue[0].setSelectionRange(t,S),ue[0].focus()):U==="max"&&(ue[1].setSelectionRange(t,S),ue[1].focus()))},K=()=>{ne(!0,!0),Re(()=>{h=!1})},x=(t="",S=!1)=>{S||K(),d.value=S;let U;De(t)?U=t.map(ue=>ue.toDate()):U=t&&t.toDate(),ae.value=null,u(U)},H=()=>{C.value=!0},q=()=>{l("visible-change",!0)},G=t=>{(t==null?void 0:t.key)===ge.esc&&ne(!0,!0)},Z=()=>{C.value=!1,h=!1,l("visible-change",!1)},ne=(t=!0,S=!1)=>{h=S;const[U,ue]=e(R);let T=U;!t&&we.value&&(T=ue),T&&T.focus()},J=t=>{n.readonly||oe.value||d.value||h||(d.value=!0,l("focus",t))};let re;const Q=t=>{const S=async()=>{setTimeout(()=>{var U,ue;re===S&&(!(((U=B.value)==null?void 0:U.isFocusInsideContent())&&!c)&&R.value.filter(T=>T.contains(document.activeElement)).length===0&&(Ae(),d.value=!1,l("blur",t),n.validateEvent&&((ue=w.validate)==null||ue.call(w,"blur").catch(T=>_t()))),c=!1)},0)};re=S,S()},oe=O(()=>n.disabled||k.disabled),r=O(()=>{let t;if(pe.value?ve.value.getDefaultValue&&(t=ve.value.getDefaultValue()):De(n.modelValue)?t=n.modelValue.map(S=>Vt(S,n.valueFormat,m.value)):t=Vt(n.modelValue,n.valueFormat,m.value),ve.value.getRangeAvailableTime){const S=ve.value.getRangeAvailableTime(t);ua(S,t)||(t=S,u(De(t)?t.map(U=>U.toDate()):t.toDate()))}return De(t)&&t.some(S=>!S)&&(t=[]),t}),a=O(()=>{if(!ve.value.panelReady)return"";const t=je(r.value);return De(ae.value)?[ae.value[0]||t&&t[0]||"",ae.value[1]||t&&t[1]||""]:ae.value!==null?ae.value:!g.value&&pe.value||!d.value&&pe.value?"":t?E.value?t.join(", "):t:""}),o=O(()=>n.type.includes("time")),g=O(()=>n.type.startsWith("time")),E=O(()=>n.type==="dates"),X=O(()=>n.prefixIcon||(o.value?ia:ca)),ee=j(!1),te=t=>{n.readonly||oe.value||ee.value&&(t.stopPropagation(),K(),u(null),V(null,!0),ee.value=!1,d.value=!1,ve.value.handleClear&&ve.value.handleClear())},pe=O(()=>{const{modelValue:t}=n;return!t||De(t)&&!t.filter(Boolean).length}),se=async t=>{var S;n.readonly||oe.value||(((S=t.target)==null?void 0:S.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(d.value=!0)},_e=()=>{n.readonly||oe.value||!pe.value&&n.clearable&&(ee.value=!0)},$e=()=>{ee.value=!1},Ce=t=>{var S;(((S=t.touches[0].target)==null?void 0:S.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(d.value=!0)},we=O(()=>n.type.includes("range")),Ve=da(),he=O(()=>{var t,S;return(S=(t=e(B))==null?void 0:t.popperRef)==null?void 0:S.contentRef}),Pe=O(()=>{var t;return e(we)?e(M):(t=e(M))==null?void 0:t.$el});fa(Pe,t=>{const S=e(he),U=e(Pe);S&&(t.target===S||t.composedPath().includes(S))||t.target===U||t.composedPath().includes(U)||(d.value=!1)});const ae=j(null),Ae=()=>{if(ae.value){const t=Oe(a.value);t&&ze(t)&&(u(De(t)?t.map(S=>S.toDate()):t.toDate()),ae.value=null)}ae.value===""&&(u(null),V(null),ae.value=null)},Oe=t=>t?ve.value.parseUserInput(t):null,je=t=>t?ve.value.formatToString(t):null,ze=t=>ve.value.isValidValue(t),Ye=async t=>{if(n.readonly||oe.value)return;const{code:S}=t;if(y(t),S===ge.esc){d.value===!0&&(d.value=!1,t.preventDefault(),t.stopPropagation());return}if(S===ge.down&&(ve.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),d.value===!1&&(d.value=!0,await Re()),ve.value.handleFocusPicker)){ve.value.handleFocusPicker();return}if(S===ge.tab){c=!0;return}if(S===ge.enter||S===ge.numpadEnter){(ae.value===null||ae.value===""||ze(Oe(a.value)))&&(Ae(),d.value=!1),t.stopPropagation();return}if(ae.value){t.stopPropagation();return}ve.value.handleKeydownInput&&ve.value.handleKeydownInput(t)},Ne=t=>{ae.value=t,d.value||(d.value=!0)},ot=t=>{const S=t.target;ae.value?ae.value=[S.value,ae.value[1]]:ae.value=[S.value,null]},qe=t=>{const S=t.target;ae.value?ae.value=[ae.value[0],S.value]:ae.value=[null,S.value]},Ke=()=>{var t;const S=ae.value,U=Oe(S&&S[0]),ue=e(r);if(U&&U.isValid()){ae.value=[je(U),((t=a.value)==null?void 0:t[1])||null];const T=[U,ue&&(ue[1]||null)];ze(T)&&(u(T),ae.value=null)}},tt=()=>{var t;const S=e(ae),U=Oe(S&&S[1]),ue=e(r);if(U&&U.isValid()){ae.value=[((t=e(a))==null?void 0:t[0])||null,je(U)];const T=[ue&&ue[0],U];ze(T)&&(u(T),ae.value=null)}},ve=j({}),He=t=>{ve.value[t[0]]=t[1],ve.value.panelReady=!0},i=t=>{l("calendar-change",t)},$=(t,S,U)=>{l("panel-change",t,S,U)};return bt("EP_PICKER_BASE",{props:n}),p({focus:ne,handleFocusInput:J,handleBlurInput:Q,onPick:x}),(t,S)=>(_(),ye(e(pa),xt({ref_key:"refPopper",ref:B,visible:d.value,"onUpdate:visible":S[2]||(S[2]=U=>d.value=U),effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(v).namespace.value}-zoom-in-top`,"popper-class":[`${e(v).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(Y),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:H,onShow:q,onHide:Z}),{default:le(()=>[e(we)?(_(),N("div",{key:1,ref_key:"inputRef",ref:M,class:f([e(v).b("editor"),e(v).bm("editor",t.type),e(D).e("wrapper"),e(v).is("disabled",e(oe)),e(v).is("active",d.value),e(P).b("editor"),e(Ve)?e(P).bm("editor",e(Ve)):"",t.$attrs.class]),style:$t(t.$attrs.style),onClick:J,onMousedown:se,onMouseenter:_e,onMouseleave:$e,onTouchstart:Ce,onKeydown:Ye},[e(X)?(_(),ye(e(me),{key:0,class:f([e(D).e("icon"),e(P).e("icon")]),onMousedown:se,onTouchstart:Ce},{default:le(()=>[(_(),ye(ct(e(X))))]),_:1},8,["class"])):fe("v-if",!0),F("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(a)&&e(a)[0],disabled:e(oe),readonly:!t.editable||t.readonly,class:f(e(P).b("input")),onInput:ot,onChange:Ke,onFocus:J,onBlur:Q},null,42,$a),rt(t.$slots,"range-separator",{},()=>[F("span",{class:f(e(P).b("separator"))},de(t.rangeSeparator),3)]),F("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(a)&&e(a)[1],disabled:e(oe),readonly:!t.editable||t.readonly,class:f(e(P).b("input")),onFocus:J,onBlur:Q,onInput:qe,onChange:tt},null,42,Ta),t.clearIcon?(_(),ye(e(me),{key:1,class:f([e(D).e("icon"),e(P).e("close-icon"),{[e(P).e("close-icon--hidden")]:!ee.value}]),onClick:te},{default:le(()=>[(_(),ye(ct(t.clearIcon)))]),_:1},8,["class"])):fe("v-if",!0)],38)):(_(),ye(e(Xe),{key:0,id:t.id,ref_key:"inputRef",ref:M,"container-role":"combobox","model-value":e(a),name:t.name,size:e(Ve),disabled:e(oe),placeholder:t.placeholder,class:f([e(v).b("editor"),e(v).bm("editor",t.type),t.$attrs.class]),style:$t(t.$attrs.style),readonly:!t.editable||t.readonly||e(E)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":t.validateEvent,onInput:Ne,onFocus:J,onBlur:Q,onKeydown:Ye,onChange:Ae,onMousedown:se,onMouseenter:_e,onMouseleave:$e,onTouchstart:Ce,onClick:S[0]||(S[0]=Je(()=>{},["stop"]))},{prefix:le(()=>[e(X)?(_(),ye(e(me),{key:0,class:f(e(D).e("icon")),onMousedown:se,onTouchstart:Ce},{default:le(()=>[(_(),ye(ct(e(X))))]),_:1},8,["class"])):fe("v-if",!0)]),suffix:le(()=>[ee.value&&t.clearIcon?(_(),ye(e(me),{key:0,class:f(`${e(D).e("icon")} clear-icon`),onClick:Je(te,["stop"])},{default:le(()=>[(_(),ye(ct(t.clearIcon)))]),_:1},8,["class","onClick"])):fe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","validate-event","onKeydown"]))]),content:le(()=>[rt(t.$slots,"default",{visible:d.value,actualVisible:C.value,parsedValue:e(r),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:x,onSelectRange:L,onSetPickerOption:He,onCalendarChange:i,onPanelChange:$,onKeydown:G,onMousedown:S[1]||(S[1]=Je(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Ya=We(Oa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ia=ke({..._a,datetimeRole:String,parsedValue:{type:ce(Object)}}),Ra=({getAvailableHours:b,getAvailableMinutes:p,getAvailableSeconds:l})=>{const n=(D,P,k,w)=>{const Y={hour:b,minute:p,second:l};let B=D;return["hour","minute","second"].forEach(M=>{if(Y[M]){let d;const C=Y[M];switch(M){case"minute":{d=C(B.hour(),P,w);break}case"second":{d=C(B.hour(),B.minute(),P,w);break}default:{d=C(P,w);break}}if((d==null?void 0:d.length)&&!d.includes(B[M]())){const s=k?0:d.length-1;B=B[M](d[s])}}}),B},m={};return{timePickerOptions:m,getAvailableTime:n,onSetOption:([D,P])=>{m[D]=P}}},ht=b=>{const p=(n,m)=>n||m,l=n=>n!==!0;return b.map(p).filter(l)},Wt=(b,p,l)=>({getHoursList:(D,P)=>vt(24,b&&(()=>b==null?void 0:b(D,P))),getMinutesList:(D,P,k)=>vt(60,p&&(()=>p==null?void 0:p(D,P,k))),getSecondsList:(D,P,k,w)=>vt(60,l&&(()=>l==null?void 0:l(D,P,k,w)))}),xa=(b,p,l)=>{const{getHoursList:n,getMinutesList:m,getSecondsList:v}=Wt(b,p,l);return{getAvailableHours:(w,Y)=>ht(n(w,Y)),getAvailableMinutes:(w,Y,B)=>ht(m(w,Y,B)),getAvailableSeconds:(w,Y,B,M)=>ht(v(w,Y,B,M))}},Aa=b=>{const p=j(b.parsedValue);return Te(()=>b.visible,l=>{l||(p.value=b.parsedValue)}),p},Na=ke({role:{type:String,required:!0},spinnerDate:{type:ce(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ce(String),default:""},...Ht}),Fa=["onClick"],Ea=["onMouseenter"],Ba=xe({__name:"basic-time-spinner",props:Na,emits:["change","select-range","set-option"],setup(b,{emit:p}){const l=b,n=Me("time"),{getHoursList:m,getMinutesList:v,getSecondsList:D}=Wt(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let P=!1;const k=j(),w=j(),Y=j(),B=j(),M={hours:w,minutes:Y,seconds:B},d=O(()=>l.showSeconds?It:It.slice(0,2)),C=O(()=>{const{spinnerDate:r}=l,a=r.hour(),o=r.minute(),g=r.second();return{hours:a,minutes:o,seconds:g}}),s=O(()=>{const{hours:r,minutes:a}=e(C);return{hours:m(l.role),minutes:v(r,l.role),seconds:D(r,a,l.role)}}),c=O(()=>{const{hours:r,minutes:a,seconds:o}=e(C);return{hours:mt(r,23),minutes:mt(a,59),seconds:mt(o,59)}}),h=va(r=>{P=!1,y(r)},200),V=r=>{if(!!!l.amPmMode)return"";const o=l.amPmMode==="A";let g=r<12?" am":" pm";return o&&(g=g.toUpperCase()),g},u=r=>{let a;switch(r){case"hours":a=[0,2];break;case"minutes":a=[3,5];break;case"seconds":a=[6,8];break}const[o,g]=a;p("select-range",o,g),k.value=r},y=r=>{K(r,e(C)[r])},R=()=>{y("hours"),y("minutes"),y("seconds")},L=r=>r.querySelector(`.${n.namespace.value}-scrollbar__wrap`),K=(r,a)=>{if(l.arrowControl)return;const o=e(M[r]);o&&o.$el&&(L(o.$el).scrollTop=Math.max(0,a*x(r)))},x=r=>{const a=e(M[r]);return(a==null?void 0:a.$el.querySelector("li").offsetHeight)||0},H=()=>{G(1)},q=()=>{G(-1)},G=r=>{k.value||u("hours");const a=k.value;let o=e(C)[a];const g=k.value==="hours"?24:60;o=(o+r+g)%g,Z(a,o),K(a,o),Re(()=>u(a))},Z=(r,a)=>{if(e(s)[r][a])return;const{hours:E,minutes:X,seconds:ee}=e(C);let te;switch(r){case"hours":te=l.spinnerDate.hour(a).minute(X).second(ee);break;case"minutes":te=l.spinnerDate.hour(E).minute(a).second(ee);break;case"seconds":te=l.spinnerDate.hour(E).minute(X).second(a);break}p("change",te)},ne=(r,{value:a,disabled:o})=>{o||(Z(r,a),u(r),K(r,a))},J=r=>{P=!0,h(r);const a=Math.min(Math.round((L(e(M[r]).$el).scrollTop-(re(r)*.5-10)/x(r)+3)/x(r)),r==="hours"?23:59);Z(r,a)},re=r=>e(M[r]).$el.offsetHeight,Q=()=>{const r=a=>{const o=e(M[a]);o&&o.$el&&(L(o.$el).onscroll=()=>{J(a)})};r("hours"),r("minutes"),r("seconds")};ma(()=>{Re(()=>{!l.arrowControl&&Q(),R(),l.role==="start"&&u("hours")})});const oe=(r,a)=>{M[a].value=r};return p("set-option",[`${l.role}_scrollDown`,G]),p("set-option",[`${l.role}_emitSelectRange`,u]),Te(()=>l.spinnerDate,()=>{P||R()}),(r,a)=>(_(),N("div",{class:f([e(n).b("spinner"),{"has-seconds":r.showSeconds}])},[r.arrowControl?fe("v-if",!0):(_(!0),N(be,{key:0},Se(e(d),o=>(_(),ye(e(ha),{key:o,ref_for:!0,ref:g=>oe(g,o),class:f(e(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:g=>u(o),onMousemove:g=>y(o)},{default:le(()=>[(_(!0),N(be,null,Se(e(s)[o],(g,E)=>(_(),N("li",{key:E,class:f([e(n).be("spinner","item"),e(n).is("active",E===e(C)[o]),e(n).is("disabled",g)]),onClick:X=>ne(o,{value:E,disabled:g})},[o==="hours"?(_(),N(be,{key:0},[Ge(de(("0"+(r.amPmMode?E%12||12:E)).slice(-2))+de(V(E)),1)],64)):(_(),N(be,{key:1},[Ge(de(("0"+E).slice(-2)),1)],64))],10,Fa))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),r.arrowControl?(_(!0),N(be,{key:1},Se(e(d),o=>(_(),N("div",{key:o,class:f([e(n).be("spinner","wrapper"),e(n).is("arrow")]),onMouseenter:g=>u(o)},[Ie((_(),ye(e(me),{class:f(["arrow-up",e(n).be("spinner","arrow")])},{default:le(()=>[A(e(ba))]),_:1},8,["class"])),[[e(Yt),q]]),Ie((_(),ye(e(me),{class:f(["arrow-down",e(n).be("spinner","arrow")])},{default:le(()=>[A(e(ga))]),_:1},8,["class"])),[[e(Yt),H]]),F("ul",{class:f(e(n).be("spinner","list"))},[(_(!0),N(be,null,Se(e(c)[o],(g,E)=>(_(),N("li",{key:E,class:f([e(n).be("spinner","item"),e(n).is("active",g===e(C)[o]),e(n).is("disabled",e(s)[o][g])])},[typeof g=="number"?(_(),N(be,{key:0},[o==="hours"?(_(),N(be,{key:0},[Ge(de(("0"+(r.amPmMode?g%12||12:g)).slice(-2))+de(V(g)),1)],64)):(_(),N(be,{key:1},[Ge(de(("0"+g).slice(-2)),1)],64))],64)):fe("v-if",!0)],2))),128))],2)],42,Ea))),128)):fe("v-if",!0)],2))}});var La=We(Ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const za=xe({__name:"panel-time-pick",props:Ia,emits:["pick","select-range","set-picker-option"],setup(b,{emit:p}){const l=b,n=Be("EP_PICKER_BASE"),{arrowControl:m,disabledHours:v,disabledMinutes:D,disabledSeconds:P,defaultValue:k}=n.props,{getAvailableHours:w,getAvailableMinutes:Y,getAvailableSeconds:B}=xa(v,D,P),M=Me("time"),{t:d,lang:C}=Le(),s=j([0,2]),c=Aa(l),h=O(()=>ya(l.actualVisible)?`${M.namespace.value}-zoom-in-top`:""),V=O(()=>l.format.includes("ss")),u=O(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),y=r=>{const a=W(r).locale(C.value),o=J(a);return a.isSame(o)},R=()=>{p("pick",c.value,!1)},L=(r=!1,a=!1)=>{a||p("pick",l.parsedValue,r)},K=r=>{if(!l.visible)return;const a=J(r).millisecond(0);p("pick",a,!0)},x=(r,a)=>{p("select-range",r,a),s.value=[r,a]},H=r=>{const a=[0,3].concat(V.value?[6]:[]),o=["hours","minutes"].concat(V.value?["seconds"]:[]),E=(a.indexOf(s.value[0])+r+a.length)%a.length;G.start_emitSelectRange(o[E])},q=r=>{const a=r.code,{left:o,right:g,up:E,down:X}=ge;if([o,g].includes(a)){H(a===o?-1:1),r.preventDefault();return}if([E,X].includes(a)){const ee=a===E?-1:1;G.start_scrollDown(ee),r.preventDefault();return}},{timePickerOptions:G,onSetOption:Z,getAvailableTime:ne}=Ra({getAvailableHours:w,getAvailableMinutes:Y,getAvailableSeconds:B}),J=r=>ne(r,l.datetimeRole||"",!0),re=r=>r?W(r,l.format).locale(C.value):null,Q=r=>r?r.format(l.format):null,oe=()=>W(k).locale(C.value);return p("set-picker-option",["isValidValue",y]),p("set-picker-option",["formatToString",Q]),p("set-picker-option",["parseUserInput",re]),p("set-picker-option",["handleKeydownInput",q]),p("set-picker-option",["getRangeAvailableTime",J]),p("set-picker-option",["getDefaultValue",oe]),(r,a)=>(_(),ye(ka,{name:e(h)},{default:le(()=>[r.actualVisible||r.visible?(_(),N("div",{key:0,class:f(e(M).b("panel"))},[F("div",{class:f([e(M).be("panel","content"),{"has-seconds":e(V)}])},[A(La,{ref:"spinner",role:r.datetimeRole||"start","arrow-control":e(m),"show-seconds":e(V),"am-pm-mode":e(u),"spinner-date":r.parsedValue,"disabled-hours":e(v),"disabled-minutes":e(D),"disabled-seconds":e(P),onChange:K,onSetOption:e(Z),onSelectRange:x},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),F("div",{class:f(e(M).be("panel","footer"))},[F("button",{type:"button",class:f([e(M).be("panel","btn"),"cancel"]),onClick:R},de(e(d)("el.datepicker.cancel")),3),F("button",{type:"button",class:f([e(M).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=o=>L())},de(e(d)("el.datepicker.confirm")),3)],2)],2)):fe("v-if",!0)]),_:1},8,["name"]))}});var wt=We(za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),jt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){return function(l,n,m){var v=n.prototype,D=v.format;m.en.ordinal=function(P){var k=["th","st","nd","rd"],w=P%100;return"["+P+(k[(w-20)%10]||k[w]||k[0])+"]"},v.format=function(P){var k=this,w=this.$locale();if(!this.isValid())return D.bind(this)(P);var Y=this.$utils(),B=(P||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(M){switch(M){case"Q":return Math.ceil((k.$M+1)/3);case"Do":return w.ordinal(k.$D);case"gggg":return k.weekYear();case"GGGG":return k.isoWeekYear();case"wo":return w.ordinal(k.week(),"W");case"w":case"ww":return Y.s(k.week(),M==="w"?1:2,"0");case"W":case"WW":return Y.s(k.isoWeek(),M==="W"?1:2,"0");case"k":case"kk":return Y.s(String(k.$H===0?24:k.$H),M==="k"?1:2,"0");case"X":return Math.floor(k.$d.getTime()/1e3);case"x":return k.$d.getTime();case"z":return"["+k.offsetName()+"]";case"zzz":return"["+k.offsetName("long")+"]";default:return M}});return D.bind(this)(B)}}})})(jt);const Ka=jt.exports;var Gt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){var l="week",n="year";return function(m,v,D){var P=v.prototype;P.week=function(k){if(k===void 0&&(k=null),k!==null)return this.add(7*(k-this.week()),"day");var w=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var Y=D(this).startOf(n).add(1,n).date(w),B=D(this).endOf(l);if(Y.isBefore(B))return 1}var M=D(this).startOf(n).date(w).startOf(l).subtract(1,"millisecond"),d=this.diff(M,l,!0);return d<0?D(this).startOf("week").week():Math.ceil(d)},P.weeks=function(k){return k===void 0&&(k=null),this.week(k)}}})})(Gt);const Ha=Gt.exports;var qt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){return function(l,n){n.prototype.weekYear=function(){var m=this.month(),v=this.week(),D=this.year();return v===1&&m===11?D+1:m===0&&v>=52?D-1:D}}})})(qt);const Ua=qt.exports;var Zt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){return function(l,n,m){n.prototype.dayOfYear=function(v){var D=Math.round((m(this).startOf("day")-m(this).startOf("year"))/864e5)+1;return v==null?D:this.add(v-D,"day")}}})})(Zt);const Wa=Zt.exports;var Xt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){return function(l,n){n.prototype.isSameOrAfter=function(m,v){return this.isSame(m,v)||this.isAfter(m,v)}}})})(Xt);const ja=Xt.exports;var Jt={exports:{}};(function(b,p){(function(l,n){b.exports=n()})(et,function(){return function(l,n){n.prototype.isSameOrBefore=function(m,v){return this.isSame(m,v)||this.isBefore(m,v)}}})})(Jt);const Ga=Jt.exports,qa=ke({type:{type:ce(String),default:"date"}}),Za=["date","dates","year","month","week","range"],Mt=ke({disabledDate:{type:ce(Function)},date:{type:ce(Object),required:!0},minDate:{type:ce(Object)},maxDate:{type:ce(Object)},parsedValue:{type:ce([Object,Array])},rangeState:{type:ce(Object),default:()=>({endDate:null,selecting:!1})}}),Qt=ke({type:{type:ce(String),required:!0,values:Sa}}),ea=ke({unlinkPanels:Boolean,parsedValue:{type:ce(Array)}}),ta=b=>({type:String,values:Za,default:b}),Xa=ke({...Qt,parsedValue:{type:ce([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Ja=ke({...Mt,cellClassName:{type:ce(Function)},showWeekNumber:Boolean,selectionMode:ta("date")}),Dt=b=>{if(!De(b))return!1;const[p,l]=b;return W.isDayjs(p)&&W.isDayjs(l)&&p.isSameOrBefore(l)},aa=(b,{lang:p,unit:l,unlinkPanels:n})=>{let m;if(De(b)){let[v,D]=b.map(P=>W(P).locale(p));return n||(D=v.add(1,l)),[v,D]}else b?m=W(b):m=W();return m=m.locale(p),[m,m.add(1,l)]},Qa=(b,p,{columnIndexOffset:l,startDate:n,nextEndDate:m,now:v,unit:D,relativeDateGetter:P,setCellMetadata:k,setRowMetadata:w})=>{for(let Y=0;Y<b.row;Y++){const B=p[Y];for(let M=0;M<b.column;M++){let d=B[M+l];d||(d={row:Y,column:M,type:"normal",inRange:!1,start:!1,end:!1});const C=Y*b.column+M,s=P(C);d.dayjs=s,d.date=s.toDate(),d.timestamp=s.valueOf(),d.type="normal",d.inRange=!!(n&&s.isSameOrAfter(n,D)&&m&&s.isSameOrBefore(m,D))||!!(n&&s.isSameOrBefore(n,D)&&m&&s.isSameOrAfter(m,D)),n!=null&&n.isSameOrAfter(m)?(d.start=!!m&&s.isSame(m,D),d.end=n&&s.isSame(n,D)):(d.start=!!n&&s.isSame(n,D),d.end=!!m&&s.isSame(m,D)),s.isSame(v,D)&&(d.type="today"),k==null||k(d,{rowIndex:Y,columnIndex:M}),B[M+l]=d}w==null||w(B)}},en=ke({cell:{type:ce(Object)}});var tn=xe({name:"ElDatePickerCell",props:en,setup(b){const p=Me("date-table-cell"),{slots:l}=Be(Pt);return()=>{const{cell:n}=b;if(l.default){const m=l.default(n).filter(v=>v.patchFlag!==-2&&v.type.toString()!=="Symbol(Comment)");if(m.length)return m}return A("div",{class:p.b()},[A("span",{class:p.e("text")},[n==null?void 0:n.text])])}}});const an=["aria-label"],nn={key:0,scope:"col"},ln=["aria-label"],sn=["aria-current","aria-selected","tabindex"],on=xe({__name:"basic-date-table",props:Ja,emits:["changerange","pick","select"],setup(b,{expose:p,emit:l}){const n=b,m=Me("date-table"),{t:v,lang:D}=Le(),P=j(),k=j(),w=j(),Y=j(),B=j([[],[],[],[],[],[]]),M=n.date.$locale().weekStart||7,d=n.date.locale("en").localeData().weekdaysShort().map(a=>a.toLowerCase()),C=O(()=>M>3?7-M:-M),s=O(()=>{const a=n.date.startOf("month");return a.subtract(a.day()||7,"day")}),c=O(()=>d.concat(d).slice(M,M+7)),h=O(()=>K.value.flat().some(a=>a.isCurrent)),V=O(()=>{const a=n.date.startOf("month"),o=a.day()||7,g=a.daysInMonth(),E=a.subtract(1,"month").daysInMonth();return{startOfMonthDay:o,dateCountOfMonth:g,dateCountOfLastMonth:E}}),u=O(()=>n.selectionMode==="dates"?Qe(n.parsedValue):[]),y=(a,{count:o,rowIndex:g,columnIndex:E})=>{const{startOfMonthDay:X,dateCountOfMonth:ee,dateCountOfLastMonth:te}=e(V),pe=e(C);if(g>=0&&g<=1){const se=X+pe<0?7+X+pe:X+pe;if(E+g*7>=se)return a.text=o,!0;a.text=te-(se-E%7)+1+g*7,a.type="prev-month"}else return o<=ee?a.text=o:(a.text=o-ee,a.type="next-month"),!0;return!1},R=(a,{columnIndex:o,rowIndex:g},E)=>{const{disabledDate:X,cellClassName:ee}=n,te=e(u),pe=y(a,{count:E,rowIndex:g,columnIndex:o}),se=a.dayjs.toDate();return a.selected=te.find(_e=>_e.valueOf()===a.dayjs.valueOf()),a.isSelected=!!a.selected,a.isCurrent=q(a),a.disabled=X==null?void 0:X(se),a.customClass=ee==null?void 0:ee(se),pe},L=a=>{if(n.selectionMode==="week"){const[o,g]=n.showWeekNumber?[1,7]:[0,6],E=r(a[o+1]);a[o].inRange=E,a[o].start=E,a[g].inRange=E,a[g].end=E}},K=O(()=>{const{minDate:a,maxDate:o,rangeState:g,showWeekNumber:E}=n,X=C.value,ee=B.value,te="day";let pe=1;if(E)for(let se=0;se<6;se++)ee[se][0]||(ee[se][0]={type:"week",text:s.value.add(se*7+1,te).week()});return Qa({row:6,column:7},ee,{startDate:a,columnIndexOffset:E?1:0,nextEndDate:g.endDate||o||g.selecting&&a||null,now:W().locale(e(D)).startOf(te),unit:te,relativeDateGetter:se=>s.value.add(se-X,te),setCellMetadata:(...se)=>{R(...se,pe)&&(pe+=1)},setRowMetadata:L}),ee});Te(()=>n.date,async()=>{var a,o;(a=P.value)!=null&&a.contains(document.activeElement)&&(await Re(),(o=k.value)==null||o.focus())});const x=async()=>{var a;(a=k.value)==null||a.focus()},H=(a="")=>["normal","today"].includes(a),q=a=>n.selectionMode==="date"&&H(a.type)&&G(a,n.parsedValue),G=(a,o)=>o?W(o).locale(D.value).isSame(n.date.date(Number(a.text)),"day"):!1,Z=a=>{const o=[];return H(a.type)&&!a.disabled?(o.push("available"),a.type==="today"&&o.push("today")):o.push(a.type),q(a)&&o.push("current"),a.inRange&&(H(a.type)||n.selectionMode==="week")&&(o.push("in-range"),a.start&&o.push("start-date"),a.end&&o.push("end-date")),a.disabled&&o.push("disabled"),a.selected&&o.push("selected"),a.customClass&&o.push(a.customClass),o.join(" ")},ne=(a,o)=>{const g=a*7+(o-(n.showWeekNumber?1:0))-C.value;return s.value.add(g,"day")},J=a=>{var o;if(!n.rangeState.selecting)return;let g=a.target;if(g.tagName==="SPAN"&&(g=(o=g.parentNode)==null?void 0:o.parentNode),g.tagName==="DIV"&&(g=g.parentNode),g.tagName!=="TD")return;const E=g.parentNode.rowIndex-1,X=g.cellIndex;K.value[E][X].disabled||(E!==w.value||X!==Y.value)&&(w.value=E,Y.value=X,l("changerange",{selecting:!0,endDate:ne(E,X)}))},re=a=>!h.value&&(a==null?void 0:a.text)===1&&a.type==="normal"||a.isCurrent,Q=a=>{!h.value&&n.selectionMode==="date"&&oe(a,!0)},oe=(a,o=!1)=>{const g=a.target.closest("td");if(!g||g.tagName!=="TD")return;const E=g.parentNode.rowIndex-1,X=g.cellIndex,ee=K.value[E][X];if(ee.disabled||ee.type==="week")return;const te=ne(E,X);if(n.selectionMode==="range")!n.rangeState.selecting||!n.minDate?(l("pick",{minDate:te,maxDate:null}),l("select",!0)):(te>=n.minDate?l("pick",{minDate:n.minDate,maxDate:te}):l("pick",{minDate:te,maxDate:n.minDate}),l("select",!1));else if(n.selectionMode==="date")l("pick",te,o);else if(n.selectionMode==="week"){const pe=te.week(),se=`${te.year()}w${pe}`;l("pick",{year:te.year(),week:pe,value:se,date:te.startOf("week")})}else if(n.selectionMode==="dates"){const pe=ee.selected?Qe(n.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==te.valueOf()):Qe(n.parsedValue).concat([te]);l("pick",pe)}},r=a=>{if(n.selectionMode!=="week")return!1;let o=n.date.startOf("day");if(a.type==="prev-month"&&(o=o.subtract(1,"month")),a.type==="next-month"&&(o=o.add(1,"month")),o=o.date(Number.parseInt(a.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const g=(n.parsedValue.day()-M+7)%7-1;return n.parsedValue.subtract(g,"day").isSame(o,"day")}return!1};return p({focus:x}),(a,o)=>(_(),N("table",{role:"grid","aria-label":e(v)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:f([e(m).b(),{"is-week-mode":a.selectionMode==="week"}]),onClick:oe,onMousemove:J},[F("tbody",{ref_key:"tbodyRef",ref:P},[F("tr",null,[a.showWeekNumber?(_(),N("th",nn,de(e(v)("el.datepicker.week")),1)):fe("v-if",!0),(_(!0),N(be,null,Se(e(c),(g,E)=>(_(),N("th",{key:E,scope:"col","aria-label":e(v)("el.datepicker.weeksFull."+g)},de(e(v)("el.datepicker.weeks."+g)),9,ln))),128))]),(_(!0),N(be,null,Se(e(K),(g,E)=>(_(),N("tr",{key:E,class:f([e(m).e("row"),{current:r(g[1])}])},[(_(!0),N(be,null,Se(g,(X,ee)=>(_(),N("td",{key:`${E}.${ee}`,ref_for:!0,ref:te=>{re(X)&&(k.value=te)},class:f(Z(X)),"aria-current":X.isCurrent?"date":void 0,"aria-selected":X.isCurrent,tabindex:re(X)?0:-1,onFocus:Q},[A(e(tn),{cell:X},null,8,["cell"])],42,sn))),128))],2))),128))],512)],42,an))}});var St=We(on,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const rn=ke({...Mt,selectionMode:ta("month")}),un=["aria-label"],cn=["aria-selected","aria-label","tabindex","onKeydown"],dn={class:"cell"},fn=xe({__name:"basic-month-table",props:rn,emits:["changerange","pick","select"],setup(b,{expose:p,emit:l}){const n=b,m=(y,R,L)=>{const K=W().locale(L).startOf("month").month(R).year(y),x=K.daysInMonth();return Bt(x).map(H=>K.add(H,"day").toDate())},v=Me("month-table"),{t:D,lang:P}=Le(),k=j(),w=j(),Y=j(n.date.locale("en").localeData().monthsShort().map(y=>y.toLowerCase())),B=j([[],[],[]]),M=j(),d=j(),C=O(()=>{var y,R;const L=B.value,K=W().locale(P.value).startOf("month");for(let x=0;x<3;x++){const H=L[x];for(let q=0;q<4;q++){const G=H[q]||(H[q]={row:x,column:q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});G.type="normal";const Z=x*4+q,ne=n.date.startOf("year").month(Z),J=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;G.inRange=!!(n.minDate&&ne.isSameOrAfter(n.minDate,"month")&&J&&ne.isSameOrBefore(J,"month"))||!!(n.minDate&&ne.isSameOrBefore(n.minDate,"month")&&J&&ne.isSameOrAfter(J,"month")),(y=n.minDate)!=null&&y.isSameOrAfter(J)?(G.start=!!(J&&ne.isSame(J,"month")),G.end=n.minDate&&ne.isSame(n.minDate,"month")):(G.start=!!(n.minDate&&ne.isSame(n.minDate,"month")),G.end=!!(J&&ne.isSame(J,"month"))),K.isSame(ne)&&(G.type="today"),G.text=Z,G.disabled=((R=n.disabledDate)==null?void 0:R.call(n,ne.toDate()))||!1}}return L}),s=()=>{var y;(y=w.value)==null||y.focus()},c=y=>{const R={},L=n.date.year(),K=new Date,x=y.text;return R.disabled=n.disabledDate?m(L,x,P.value).every(n.disabledDate):!1,R.current=Qe(n.parsedValue).findIndex(H=>W.isDayjs(H)&&H.year()===L&&H.month()===x)>=0,R.today=K.getFullYear()===L&&K.getMonth()===x,y.inRange&&(R["in-range"]=!0,y.start&&(R["start-date"]=!0),y.end&&(R["end-date"]=!0)),R},h=y=>{const R=n.date.year(),L=y.text;return Qe(n.date).findIndex(K=>K.year()===R&&K.month()===L)>=0},V=y=>{var R;if(!n.rangeState.selecting)return;let L=y.target;if(L.tagName==="A"&&(L=(R=L.parentNode)==null?void 0:R.parentNode),L.tagName==="DIV"&&(L=L.parentNode),L.tagName!=="TD")return;const K=L.parentNode.rowIndex,x=L.cellIndex;C.value[K][x].disabled||(K!==M.value||x!==d.value)&&(M.value=K,d.value=x,l("changerange",{selecting:!0,endDate:n.date.startOf("year").month(K*4+x)}))},u=y=>{var R;const L=(R=y.target)==null?void 0:R.closest("td");if((L==null?void 0:L.tagName)!=="TD"||At(L,"disabled"))return;const K=L.cellIndex,H=L.parentNode.rowIndex*4+K,q=n.date.startOf("year").month(H);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&q>=n.minDate?l("pick",{minDate:n.minDate,maxDate:q}):l("pick",{minDate:q,maxDate:n.minDate}),l("select",!1)):(l("pick",{minDate:q,maxDate:null}),l("select",!0)):l("pick",H)};return Te(()=>n.date,async()=>{var y,R;(y=k.value)!=null&&y.contains(document.activeElement)&&(await Re(),(R=w.value)==null||R.focus())}),p({focus:s}),(y,R)=>(_(),N("table",{role:"grid","aria-label":e(D)("el.datepicker.monthTablePrompt"),class:f(e(v).b()),onClick:u,onMousemove:V},[F("tbody",{ref_key:"tbodyRef",ref:k},[(_(!0),N(be,null,Se(e(C),(L,K)=>(_(),N("tr",{key:K},[(_(!0),N(be,null,Se(L,(x,H)=>(_(),N("td",{key:H,ref_for:!0,ref:q=>h(x)&&(w.value=q),class:f(c(x)),"aria-selected":`${h(x)}`,"aria-label":e(D)(`el.datepicker.month${+x.text+1}`),tabindex:h(x)?0:-1,onKeydown:[lt(Je(u,["prevent","stop"]),["space"]),lt(Je(u,["prevent","stop"]),["enter"])]},[F("div",null,[F("span",dn,de(e(D)("el.datepicker.months."+Y.value[x.text])),1)])],42,cn))),128))]))),128))],512)],42,un))}});var Ct=We(fn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:pn,disabledDate:vn,parsedValue:mn}=Mt,hn=ke({date:pn,disabledDate:vn,parsedValue:mn}),bn=["aria-label"],gn=["aria-selected","tabindex","onKeydown"],yn={class:"cell"},kn={key:1},wn=xe({__name:"basic-year-table",props:hn,emits:["pick"],setup(b,{expose:p,emit:l}){const n=b,m=(s,c)=>{const h=W(String(s)).locale(c).startOf("year"),u=h.endOf("year").dayOfYear();return Bt(u).map(y=>h.add(y,"day").toDate())},v=Me("year-table"),{t:D,lang:P}=Le(),k=j(),w=j(),Y=O(()=>Math.floor(n.date.year()/10)*10),B=()=>{var s;(s=w.value)==null||s.focus()},M=s=>{const c={},h=W().locale(P.value);return c.disabled=n.disabledDate?m(s,P.value).every(n.disabledDate):!1,c.current=Qe(n.parsedValue).findIndex(V=>V.year()===s)>=0,c.today=h.year()===s,c},d=s=>s===Y.value&&n.date.year()<Y.value&&n.date.year()>Y.value+9||Qe(n.date).findIndex(c=>c.year()===s)>=0,C=s=>{const h=s.target.closest("td");if(h){if(At(h,"disabled"))return;const V=h.textContent||h.innerText;l("pick",Number(V))}};return Te(()=>n.date,async()=>{var s,c;(s=k.value)!=null&&s.contains(document.activeElement)&&(await Re(),(c=w.value)==null||c.focus())}),p({focus:B}),(s,c)=>(_(),N("table",{role:"grid","aria-label":e(D)("el.datepicker.yearTablePrompt"),class:f(e(v).b()),onClick:C},[F("tbody",{ref_key:"tbodyRef",ref:k},[(_(),N(be,null,Se(3,(h,V)=>F("tr",{key:V},[(_(),N(be,null,Se(4,(u,y)=>(_(),N(be,{key:V+"_"+y},[V*4+y<10?(_(),N("td",{key:0,ref_for:!0,ref:R=>d(e(Y)+V*4+y)&&(w.value=R),class:f(["available",M(e(Y)+V*4+y)]),"aria-selected":`${d(e(Y)+V*4+y)}`,tabindex:d(e(Y)+V*4+y)?0:-1,onKeydown:[lt(Je(C,["prevent","stop"]),["space"]),lt(Je(C,["prevent","stop"]),["enter"])]},[F("span",yn,de(e(Y)+V*4+y),1)],42,gn)):(_(),N("td",kn))],64))),64))])),64))],512)],10,bn))}});var Dn=We(wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Sn=["onClick"],Cn=["aria-label"],Pn=["aria-label"],Mn=["aria-label"],_n=["aria-label"],$n=xe({__name:"panel-date-pick",props:Xa,emits:["pick","set-picker-option","panel-change"],setup(b,{emit:p}){const l=b,n=(i,$,t)=>!0,m=Me("picker-panel"),v=Me("date-picker"),D=Nt(),P=Ft(),{t:k,lang:w}=Le(),Y=Be("EP_PICKER_BASE"),B=Be(wa),{shortcuts:M,disabledDate:d,cellClassName:C,defaultTime:s,arrowControl:c}=Y.props,h=st(Y.props,"defaultValue"),V=j(),u=j(W().locale(w.value)),y=O(()=>W(s).locale(w.value)),R=O(()=>u.value.month()),L=O(()=>u.value.year()),K=j([]),x=j(null),H=j(null),q=i=>K.value.length>0?n(i,K.value,l.format||"HH:mm:ss"):!0,G=i=>s&&!we.value?y.value.year(i.year()).month(i.month()).date(i.date()):te.value?i.millisecond(0):i.startOf("day"),Z=(i,...$)=>{if(!i)p("pick",i,...$);else if(De(i)){const t=i.map(G);p("pick",t,...$)}else p("pick",G(i),...$);x.value=null,H.value=null},ne=(i,$)=>{if(a.value==="date"){i=i;let t=l.parsedValue?l.parsedValue.year(i.year()).month(i.month()).date(i.date()):i;q(t)||(t=K.value[0][0].year(i.year()).month(i.month()).date(i.date())),u.value=t,Z(t,te.value||$)}else a.value==="week"?Z(i.date):a.value==="dates"&&Z(i,!0)},J=i=>{const $=i?"add":"subtract";u.value=u.value[$](1,"month"),He("month")},re=i=>{const $=u.value,t=i?"add":"subtract";u.value=Q.value==="year"?$[t](10,"year"):$[t](1,"year"),He("year")},Q=j("date"),oe=O(()=>{const i=k("el.datepicker.year");if(Q.value==="year"){const $=Math.floor(L.value/10)*10;return i?`${$} ${i} - ${$+9} ${i}`:`${$} - ${$+9}`}return`${L.value} ${i}`}),r=i=>{const $=kt(i.value)?i.value():i.value;if($){Z(W($).locale(w.value));return}i.onClick&&i.onClick({attrs:D,slots:P,emit:p})},a=O(()=>{const{type:i}=l;return["week","month","year","dates"].includes(i)?i:"date"}),o=O(()=>a.value==="date"?Q.value:a.value),g=O(()=>!!M.length),E=async i=>{u.value=u.value.startOf("month").month(i),a.value==="month"?Z(u.value,!1):(Q.value="date",["month","year","date","week"].includes(a.value)&&(Z(u.value,!0),await Re(),Ke())),He("month")},X=async i=>{a.value==="year"?(u.value=u.value.startOf("year").year(i),Z(u.value,!1)):(u.value=u.value.year(i),Q.value="month",["month","year","date","week"].includes(a.value)&&(Z(u.value,!0),await Re(),Ke())),He("year")},ee=async i=>{Q.value=i,await Re(),Ke()},te=O(()=>l.type==="datetime"||l.type==="datetimerange"),pe=O(()=>te.value||a.value==="dates"),se=()=>{if(a.value==="dates")Z(l.parsedValue);else{let i=l.parsedValue;if(!i){const $=W(s).locale(w.value),t=qe();i=$.year(t.year()).month(t.month()).date(t.date())}u.value=i,Z(i)}},_e=()=>{const $=W().locale(w.value).toDate();(!d||!d($))&&q($)&&(u.value=W().locale(w.value),Z(u.value))},$e=O(()=>Lt(l.format)),Ce=O(()=>zt(l.format)),we=O(()=>{if(H.value)return H.value;if(!(!l.parsedValue&&!h.value))return(l.parsedValue||u.value).format($e.value)}),Ve=O(()=>{if(x.value)return x.value;if(!(!l.parsedValue&&!h.value))return(l.parsedValue||u.value).format(Ce.value)}),he=j(!1),Pe=()=>{he.value=!0},ae=()=>{he.value=!1},Ae=i=>({hour:i.hour(),minute:i.minute(),second:i.second(),year:i.year(),month:i.month(),date:i.date()}),Oe=(i,$,t)=>{const{hour:S,minute:U,second:ue}=Ae(i),T=l.parsedValue?l.parsedValue.hour(S).minute(U).second(ue):i;u.value=T,Z(u.value,!0),t||(he.value=$)},je=i=>{const $=W(i,$e.value).locale(w.value);if($.isValid()&&q($)){const{year:t,month:S,date:U}=Ae(u.value);u.value=$.year(t).month(S).date(U),H.value=null,he.value=!1,Z(u.value,!0)}},ze=i=>{const $=W(i,Ce.value).locale(w.value);if($.isValid()){if(d&&d($.toDate()))return;const{hour:t,minute:S,second:U}=Ae(u.value);u.value=$.hour(t).minute(S).second(U),x.value=null,Z(u.value,!0)}},Ye=i=>W.isDayjs(i)&&i.isValid()&&(d?!d(i.toDate()):!0),Ne=i=>a.value==="dates"?i.map($=>$.format(l.format)):i.format(l.format),ot=i=>W(i,l.format).locale(w.value),qe=()=>{const i=W(h.value).locale(w.value);if(!h.value){const $=y.value;return W().hour($.hour()).minute($.minute()).second($.second()).locale(w.value)}return i},Ke=async()=>{var i;["week","month","year","date"].includes(a.value)&&((i=V.value)==null||i.focus(),a.value==="week"&&ve(ge.down))},tt=i=>{const{code:$}=i;[ge.up,ge.down,ge.left,ge.right,ge.home,ge.end,ge.pageUp,ge.pageDown].includes($)&&(ve($),i.stopPropagation(),i.preventDefault()),[ge.enter,ge.space].includes($)&&x.value===null&&H.value===null&&(i.preventDefault(),Z(u.value,!1))},ve=i=>{var $;const{up:t,down:S,left:U,right:ue,home:T,end:I,pageUp:z,pageDown:Ue}=ge,Ze={year:{[t]:-4,[S]:4,[U]:-1,[ue]:1,offset:(ie,Ee)=>ie.setFullYear(ie.getFullYear()+Ee)},month:{[t]:-4,[S]:4,[U]:-1,[ue]:1,offset:(ie,Ee)=>ie.setMonth(ie.getMonth()+Ee)},week:{[t]:-1,[S]:1,[U]:-1,[ue]:1,offset:(ie,Ee)=>ie.setDate(ie.getDate()+Ee*7)},date:{[t]:-7,[S]:7,[U]:-1,[ue]:1,[T]:ie=>-ie.getDay(),[I]:ie=>-ie.getDay()+6,[z]:ie=>-new Date(ie.getFullYear(),ie.getMonth(),0).getDate(),[Ue]:ie=>new Date(ie.getFullYear(),ie.getMonth()+1,0).getDate(),offset:(ie,Ee)=>ie.setDate(ie.getDate()+Ee)}},Fe=u.value.toDate();for(;Math.abs(u.value.diff(Fe,"year",!0))<1;){const ie=Ze[o.value];if(!ie)return;if(ie.offset(Fe,kt(ie[i])?ie[i](Fe):($=ie[i])!=null?$:0),d&&d(Fe))break;const Ee=W(Fe).locale(w.value);u.value=Ee,p("pick",Ee,!0);break}},He=i=>{p("panel-change",u.value.toDate(),i,Q.value)};return Te(()=>a.value,i=>{if(["month","year"].includes(i)){Q.value=i;return}Q.value="date"},{immediate:!0}),Te(()=>Q.value,()=>{B==null||B.updatePopper()}),Te(()=>h.value,i=>{i&&(u.value=qe())},{immediate:!0}),Te(()=>l.parsedValue,i=>{if(i){if(a.value==="dates"||Array.isArray(i))return;u.value=i}else u.value=qe()},{immediate:!0}),p("set-picker-option",["isValidValue",Ye]),p("set-picker-option",["formatToString",Ne]),p("set-picker-option",["parseUserInput",ot]),p("set-picker-option",["handleFocusPicker",Ke]),(i,$)=>(_(),N("div",{class:f([e(m).b(),e(v).b(),{"has-sidebar":i.$slots.sidebar||e(g),"has-time":e(te)}])},[F("div",{class:f(e(m).e("body-wrapper"))},[rt(i.$slots,"sidebar",{class:f(e(m).e("sidebar"))}),e(g)?(_(),N("div",{key:0,class:f(e(m).e("sidebar"))},[(_(!0),N(be,null,Se(e(M),(t,S)=>(_(),N("button",{key:S,type:"button",class:f(e(m).e("shortcut")),onClick:U=>r(t)},de(t.text),11,Sn))),128))],2)):fe("v-if",!0),F("div",{class:f(e(m).e("body"))},[e(te)?(_(),N("div",{key:0,class:f(e(v).e("time-header"))},[F("span",{class:f(e(v).e("editor-wrap"))},[A(e(Xe),{placeholder:e(k)("el.datepicker.selectDate"),"model-value":e(Ve),size:"small",onInput:$[0]||($[0]=t=>x.value=t),onChange:ze},null,8,["placeholder","model-value"])],2),Ie((_(),N("span",{class:f(e(v).e("editor-wrap"))},[A(e(Xe),{placeholder:e(k)("el.datepicker.selectTime"),"model-value":e(we),size:"small",onFocus:Pe,onInput:$[1]||($[1]=t=>H.value=t),onChange:je},null,8,["placeholder","model-value"]),A(e(wt),{visible:he.value,format:e($e),"time-arrow-control":e(c),"parsed-value":u.value,onPick:Oe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(gt),ae]])],2)):fe("v-if",!0),Ie(F("div",{class:f([e(v).e("header"),(Q.value==="year"||Q.value==="month")&&e(v).e("header--bordered")])},[F("span",{class:f(e(v).e("prev-btn"))},[F("button",{type:"button","aria-label":e(k)("el.datepicker.prevYear"),class:f(["d-arrow-left",e(m).e("icon-btn")]),onClick:$[2]||($[2]=t=>re(!1))},[A(e(me),null,{default:le(()=>[A(e(ut))]),_:1})],10,Cn),Ie(F("button",{type:"button","aria-label":e(k)("el.datepicker.prevMonth"),class:f([e(m).e("icon-btn"),"arrow-left"]),onClick:$[3]||($[3]=t=>J(!1))},[A(e(me),null,{default:le(()=>[A(e(yt))]),_:1})],10,Pn),[[at,Q.value==="date"]])],2),F("span",{role:"button",class:f(e(v).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:$[4]||($[4]=lt(t=>ee("year"),["enter"])),onClick:$[5]||($[5]=t=>ee("year"))},de(e(oe)),35),Ie(F("span",{role:"button","aria-live":"polite",tabindex:"0",class:f([e(v).e("header-label"),{active:Q.value==="month"}]),onKeydown:$[6]||($[6]=lt(t=>ee("month"),["enter"])),onClick:$[7]||($[7]=t=>ee("month"))},de(e(k)(`el.datepicker.month${e(R)+1}`)),35),[[at,Q.value==="date"]]),F("span",{class:f(e(v).e("next-btn"))},[Ie(F("button",{type:"button","aria-label":e(k)("el.datepicker.nextMonth"),class:f([e(m).e("icon-btn"),"arrow-right"]),onClick:$[8]||($[8]=t=>J(!0))},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],10,Mn),[[at,Q.value==="date"]]),F("button",{type:"button","aria-label":e(k)("el.datepicker.nextYear"),class:f([e(m).e("icon-btn"),"d-arrow-right"]),onClick:$[9]||($[9]=t=>re(!0))},[A(e(me),null,{default:le(()=>[A(e(it))]),_:1})],10,_n)],2)],2),[[at,Q.value!=="time"]]),F("div",{class:f(e(m).e("content")),onKeydown:tt},[Q.value==="date"?(_(),ye(St,{key:0,ref_key:"currentViewRef",ref:V,"selection-mode":e(a),date:u.value,"parsed-value":i.parsedValue,"disabled-date":e(d),"cell-class-name":e(C),onPick:ne},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):fe("v-if",!0),Q.value==="year"?(_(),ye(Dn,{key:1,ref_key:"currentViewRef",ref:V,date:u.value,"disabled-date":e(d),"parsed-value":i.parsedValue,onPick:X},null,8,["date","disabled-date","parsed-value"])):fe("v-if",!0),Q.value==="month"?(_(),ye(Ct,{key:2,ref_key:"currentViewRef",ref:V,date:u.value,"parsed-value":i.parsedValue,"disabled-date":e(d),onPick:E},null,8,["date","parsed-value","disabled-date"])):fe("v-if",!0)],34)],2)],2),Ie(F("div",{class:f(e(m).e("footer"))},[Ie(A(e(pt),{text:"",size:"small",class:f(e(m).e("link-btn")),onClick:_e},{default:le(()=>[Ge(de(e(k)("el.datepicker.now")),1)]),_:1},8,["class"]),[[at,e(a)!=="dates"]]),A(e(pt),{plain:"",size:"small",class:f(e(m).e("link-btn")),onClick:se},{default:le(()=>[Ge(de(e(k)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[at,e(pe)&&Q.value==="date"]])],2))}});var Tn=We($n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Vn=ke({...Qt,...ea}),On=b=>{const{emit:p}=Et(),l=Nt(),n=Ft();return v=>{const D=kt(v.value)?v.value():v.value;if(D){p("pick",[W(D[0]).locale(b.value),W(D[1]).locale(b.value)]);return}v.onClick&&v.onClick({attrs:l,slots:n,emit:p})}},na=(b,{defaultValue:p,leftDate:l,rightDate:n,unit:m,onParsedValueChanged:v})=>{const{emit:D}=Et(),{pickerNs:P}=Be(Pt),k=Me("date-range-picker"),{t:w,lang:Y}=Le(),B=On(Y),M=j(),d=j(),C=j({endDate:null,selecting:!1}),s=u=>{C.value=u},c=(u=!1)=>{const y=e(M),R=e(d);Dt([y,R])&&D("pick",[y,R],u)},h=u=>{C.value.selecting=u,u||(C.value.endDate=null)},V=()=>{const[u,y]=aa(e(p),{lang:e(Y),unit:m,unlinkPanels:b.unlinkPanels});M.value=void 0,d.value=void 0,l.value=u,n.value=y};return Te(p,u=>{u&&V()},{immediate:!0}),Te(()=>b.parsedValue,u=>{if(De(u)&&u.length===2){const[y,R]=u;M.value=y,l.value=y,d.value=R,v(e(M),e(d))}else V()},{immediate:!0}),{minDate:M,maxDate:d,rangeState:C,lang:Y,ppNs:P,drpNs:k,handleChangeRange:s,handleRangeConfirm:c,handleShortcutClick:B,onSelect:h,t:w}},Yn=["onClick"],In=["disabled"],Rn=["disabled"],xn=["disabled"],An=["disabled"],Nn=xe({__name:"panel-date-range",props:Vn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(b,{emit:p}){const l=b,n="month",m=Be("EP_PICKER_BASE"),{disabledDate:v,cellClassName:D,format:P,defaultTime:k,arrowControl:w,clearable:Y}=m.props,B=st(m.props,"shortcuts"),M=st(m.props,"defaultValue"),{lang:d}=Le(),C=j(W().locale(d.value)),s=j(W().locale(d.value).add(1,n)),{minDate:c,maxDate:h,rangeState:V,ppNs:u,drpNs:y,handleChangeRange:R,handleRangeConfirm:L,handleShortcutClick:K,onSelect:x,t:H}=na(l,{defaultValue:M,leftDate:C,rightDate:s,unit:n,onParsedValueChanged:ue}),q=j({min:null,max:null}),G=j({min:null,max:null}),Z=O(()=>`${C.value.year()} ${H("el.datepicker.year")} ${H(`el.datepicker.month${C.value.month()+1}`)}`),ne=O(()=>`${s.value.year()} ${H("el.datepicker.year")} ${H(`el.datepicker.month${s.value.month()+1}`)}`),J=O(()=>C.value.year()),re=O(()=>C.value.month()),Q=O(()=>s.value.year()),oe=O(()=>s.value.month()),r=O(()=>!!B.value.length),a=O(()=>q.value.min!==null?q.value.min:c.value?c.value.format(ee.value):""),o=O(()=>q.value.max!==null?q.value.max:h.value||c.value?(h.value||c.value).format(ee.value):""),g=O(()=>G.value.min!==null?G.value.min:c.value?c.value.format(X.value):""),E=O(()=>G.value.max!==null?G.value.max:h.value||c.value?(h.value||c.value).format(X.value):""),X=O(()=>Lt(P)),ee=O(()=>zt(P)),te=()=>{C.value=C.value.subtract(1,"year"),l.unlinkPanels||(s.value=C.value.add(1,"month")),he("year")},pe=()=>{C.value=C.value.subtract(1,"month"),l.unlinkPanels||(s.value=C.value.add(1,"month")),he("month")},se=()=>{l.unlinkPanels?s.value=s.value.add(1,"year"):(C.value=C.value.add(1,"year"),s.value=C.value.add(1,"month")),he("year")},_e=()=>{l.unlinkPanels?s.value=s.value.add(1,"month"):(C.value=C.value.add(1,"month"),s.value=C.value.add(1,"month")),he("month")},$e=()=>{C.value=C.value.add(1,"year"),he("year")},Ce=()=>{C.value=C.value.add(1,"month"),he("month")},we=()=>{s.value=s.value.subtract(1,"year"),he("year")},Ve=()=>{s.value=s.value.subtract(1,"month"),he("month")},he=T=>{p("panel-change",[C.value.toDate(),s.value.toDate()],T)},Pe=O(()=>{const T=(re.value+1)%12,I=re.value+1>=12?1:0;return l.unlinkPanels&&new Date(J.value+I,T)<new Date(Q.value,oe.value)}),ae=O(()=>l.unlinkPanels&&Q.value*12+oe.value-(J.value*12+re.value+1)>=12),Ae=O(()=>!(c.value&&h.value&&!V.value.selecting&&Dt([c.value,h.value]))),Oe=O(()=>l.type==="datetime"||l.type==="datetimerange"),je=(T,I)=>{if(!!T)return k?W(k[I]||k).locale(d.value).year(T.year()).month(T.month()).date(T.date()):T},ze=(T,I=!0)=>{const z=T.minDate,Ue=T.maxDate,Ze=je(z,0),Fe=je(Ue,1);h.value===Fe&&c.value===Ze||(p("calendar-change",[z.toDate(),Ue&&Ue.toDate()]),h.value=Fe,c.value=Ze,!(!I||Oe.value)&&L())},Ye=j(!1),Ne=j(!1),ot=()=>{Ye.value=!1},qe=()=>{Ne.value=!1},Ke=(T,I)=>{q.value[I]=T;const z=W(T,ee.value).locale(d.value);if(z.isValid()){if(v&&v(z.toDate()))return;I==="min"?(C.value=z,c.value=(c.value||C.value).year(z.year()).month(z.month()).date(z.date()),l.unlinkPanels||(s.value=z.add(1,"month"),h.value=c.value.add(1,"month"))):(s.value=z,h.value=(h.value||s.value).year(z.year()).month(z.month()).date(z.date()),l.unlinkPanels||(C.value=z.subtract(1,"month"),c.value=h.value.subtract(1,"month")))}},tt=(T,I)=>{q.value[I]=null},ve=(T,I)=>{G.value[I]=T;const z=W(T,X.value).locale(d.value);z.isValid()&&(I==="min"?(Ye.value=!0,c.value=(c.value||C.value).hour(z.hour()).minute(z.minute()).second(z.second()),(!h.value||h.value.isBefore(c.value))&&(h.value=c.value)):(Ne.value=!0,h.value=(h.value||s.value).hour(z.hour()).minute(z.minute()).second(z.second()),s.value=h.value,h.value&&h.value.isBefore(c.value)&&(c.value=h.value)))},He=(T,I)=>{G.value[I]=null,I==="min"?(C.value=c.value,Ye.value=!1):(s.value=h.value,Ne.value=!1)},i=(T,I,z)=>{G.value.min||(T&&(C.value=T,c.value=(c.value||C.value).hour(T.hour()).minute(T.minute()).second(T.second())),z||(Ye.value=I),(!h.value||h.value.isBefore(c.value))&&(h.value=c.value,s.value=T))},$=(T,I,z)=>{G.value.max||(T&&(s.value=T,h.value=(h.value||s.value).hour(T.hour()).minute(T.minute()).second(T.second())),z||(Ne.value=I),h.value&&h.value.isBefore(c.value)&&(c.value=h.value))},t=()=>{C.value=aa(e(M),{lang:e(d),unit:"month",unlinkPanels:l.unlinkPanels})[0],s.value=C.value.add(1,"month"),p("pick",null)},S=T=>De(T)?T.map(I=>I.format(P)):T.format(P),U=T=>De(T)?T.map(I=>W(I,P).locale(d.value)):W(T,P).locale(d.value);function ue(T,I){if(l.unlinkPanels&&I){const z=(T==null?void 0:T.year())||0,Ue=(T==null?void 0:T.month())||0,Ze=I.year(),Fe=I.month();s.value=z===Ze&&Ue===Fe?I.add(1,n):I}else s.value=C.value.add(1,n),I&&(s.value=s.value.hour(I.hour()).minute(I.minute()).second(I.second()))}return p("set-picker-option",["isValidValue",Dt]),p("set-picker-option",["parseUserInput",U]),p("set-picker-option",["formatToString",S]),p("set-picker-option",["handleClear",t]),(T,I)=>(_(),N("div",{class:f([e(u).b(),e(y).b(),{"has-sidebar":T.$slots.sidebar||e(r),"has-time":e(Oe)}])},[F("div",{class:f(e(u).e("body-wrapper"))},[rt(T.$slots,"sidebar",{class:f(e(u).e("sidebar"))}),e(r)?(_(),N("div",{key:0,class:f(e(u).e("sidebar"))},[(_(!0),N(be,null,Se(e(B),(z,Ue)=>(_(),N("button",{key:Ue,type:"button",class:f(e(u).e("shortcut")),onClick:Ze=>e(K)(z)},de(z.text),11,Yn))),128))],2)):fe("v-if",!0),F("div",{class:f(e(u).e("body"))},[e(Oe)?(_(),N("div",{key:0,class:f(e(y).e("time-header"))},[F("span",{class:f(e(y).e("editors-wrap"))},[F("span",{class:f(e(y).e("time-picker-wrap"))},[A(e(Xe),{size:"small",disabled:e(V).selecting,placeholder:e(H)("el.datepicker.startDate"),class:f(e(y).e("editor")),"model-value":e(a),onInput:I[0]||(I[0]=z=>Ke(z,"min")),onChange:I[1]||(I[1]=z=>tt(z,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ie((_(),N("span",{class:f(e(y).e("time-picker-wrap"))},[A(e(Xe),{size:"small",class:f(e(y).e("editor")),disabled:e(V).selecting,placeholder:e(H)("el.datepicker.startTime"),"model-value":e(g),onFocus:I[2]||(I[2]=z=>Ye.value=!0),onInput:I[3]||(I[3]=z=>ve(z,"min")),onChange:I[4]||(I[4]=z=>He(z,"min"))},null,8,["class","disabled","placeholder","model-value"]),A(e(wt),{visible:Ye.value,format:e(X),"datetime-role":"start","time-arrow-control":e(w),"parsed-value":C.value,onPick:i},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(gt),ot]])],2),F("span",null,[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})]),F("span",{class:f([e(y).e("editors-wrap"),"is-right"])},[F("span",{class:f(e(y).e("time-picker-wrap"))},[A(e(Xe),{size:"small",class:f(e(y).e("editor")),disabled:e(V).selecting,placeholder:e(H)("el.datepicker.endDate"),"model-value":e(o),readonly:!e(c),onInput:I[5]||(I[5]=z=>Ke(z,"max")),onChange:I[6]||(I[6]=z=>tt(z,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ie((_(),N("span",{class:f(e(y).e("time-picker-wrap"))},[A(e(Xe),{size:"small",class:f(e(y).e("editor")),disabled:e(V).selecting,placeholder:e(H)("el.datepicker.endTime"),"model-value":e(E),readonly:!e(c),onFocus:I[7]||(I[7]=z=>e(c)&&(Ne.value=!0)),onInput:I[8]||(I[8]=z=>ve(z,"max")),onChange:I[9]||(I[9]=z=>He(z,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),A(e(wt),{"datetime-role":"end",visible:Ne.value,format:e(X),"time-arrow-control":e(w),"parsed-value":s.value,onPick:$},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(gt),qe]])],2)],2)):fe("v-if",!0),F("div",{class:f([[e(u).e("content"),e(y).e("content")],"is-left"])},[F("div",{class:f(e(y).e("header"))},[F("button",{type:"button",class:f([e(u).e("icon-btn"),"d-arrow-left"]),onClick:te},[A(e(me),null,{default:le(()=>[A(e(ut))]),_:1})],2),F("button",{type:"button",class:f([e(u).e("icon-btn"),"arrow-left"]),onClick:pe},[A(e(me),null,{default:le(()=>[A(e(yt))]),_:1})],2),T.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(ae),class:f([[e(u).e("icon-btn"),{"is-disabled":!e(ae)}],"d-arrow-right"]),onClick:$e},[A(e(me),null,{default:le(()=>[A(e(it))]),_:1})],10,In)):fe("v-if",!0),T.unlinkPanels?(_(),N("button",{key:1,type:"button",disabled:!e(Pe),class:f([[e(u).e("icon-btn"),{"is-disabled":!e(Pe)}],"arrow-right"]),onClick:Ce},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],10,Rn)):fe("v-if",!0),F("div",null,de(e(Z)),1)],2),A(St,{"selection-mode":"range",date:C.value,"min-date":e(c),"max-date":e(h),"range-state":e(V),"disabled-date":e(v),"cell-class-name":e(D),onChangerange:e(R),onPick:ze,onSelect:e(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),F("div",{class:f([[e(u).e("content"),e(y).e("content")],"is-right"])},[F("div",{class:f(e(y).e("header"))},[T.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(ae),class:f([[e(u).e("icon-btn"),{"is-disabled":!e(ae)}],"d-arrow-left"]),onClick:we},[A(e(me),null,{default:le(()=>[A(e(ut))]),_:1})],10,xn)):fe("v-if",!0),T.unlinkPanels?(_(),N("button",{key:1,type:"button",disabled:!e(Pe),class:f([[e(u).e("icon-btn"),{"is-disabled":!e(Pe)}],"arrow-left"]),onClick:Ve},[A(e(me),null,{default:le(()=>[A(e(yt))]),_:1})],10,An)):fe("v-if",!0),F("button",{type:"button",class:f([e(u).e("icon-btn"),"d-arrow-right"]),onClick:se},[A(e(me),null,{default:le(()=>[A(e(it))]),_:1})],2),F("button",{type:"button",class:f([e(u).e("icon-btn"),"arrow-right"]),onClick:_e},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],2),F("div",null,de(e(ne)),1)],2),A(St,{"selection-mode":"range",date:s.value,"min-date":e(c),"max-date":e(h),"range-state":e(V),"disabled-date":e(v),"cell-class-name":e(D),onChangerange:e(R),onPick:ze,onSelect:e(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Oe)?(_(),N("div",{key:0,class:f(e(u).e("footer"))},[e(Y)?(_(),ye(e(pt),{key:0,text:"",size:"small",class:f(e(u).e("link-btn")),onClick:t},{default:le(()=>[Ge(de(e(H)("el.datepicker.clear")),1)]),_:1},8,["class"])):fe("v-if",!0),A(e(pt),{plain:"",size:"small",class:f(e(u).e("link-btn")),disabled:e(Ae),onClick:I[10]||(I[10]=z=>e(L)(!1))},{default:le(()=>[Ge(de(e(H)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):fe("v-if",!0)],2))}});var Fn=We(Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const En=ke({...ea}),Bn=["pick","set-picker-option"],Ln=({unlinkPanels:b,leftDate:p,rightDate:l})=>{const{t:n}=Le(),m=()=>{p.value=p.value.subtract(1,"year"),b||(l.value=l.value.subtract(1,"year"))},v=()=>{b||(p.value=p.value.add(1,"year")),l.value=l.value.add(1,"year")},D=()=>{p.value=p.value.add(1,"year")},P=()=>{l.value=l.value.subtract(1,"year")},k=O(()=>`${p.value.year()} ${n("el.datepicker.year")}`),w=O(()=>`${l.value.year()} ${n("el.datepicker.year")}`),Y=O(()=>p.value.year()),B=O(()=>l.value.year()===p.value.year()?p.value.year()+1:l.value.year());return{leftPrevYear:m,rightNextYear:v,leftNextYear:D,rightPrevYear:P,leftLabel:k,rightLabel:w,leftYear:Y,rightYear:B}},zn=["onClick"],Kn=["disabled"],Hn=["disabled"],Un={name:"DatePickerMonthRange"},Wn=xe({...Un,props:En,emits:Bn,setup(b,{emit:p}){const l=b,n="year",{lang:m}=Le(),v=Be("EP_PICKER_BASE"),{shortcuts:D,disabledDate:P,format:k}=v.props,w=st(v.props,"defaultValue"),Y=j(W().locale(m.value)),B=j(W().locale(m.value).add(1,n)),{minDate:M,maxDate:d,rangeState:C,ppNs:s,drpNs:c,handleChangeRange:h,handleRangeConfirm:V,handleShortcutClick:u,onSelect:y}=na(l,{defaultValue:w,leftDate:Y,rightDate:B,unit:n,onParsedValueChanged:oe}),R=O(()=>!!D.length),{leftPrevYear:L,rightNextYear:K,leftNextYear:x,rightPrevYear:H,leftLabel:q,rightLabel:G,leftYear:Z,rightYear:ne}=Ln({unlinkPanels:st(l,"unlinkPanels"),leftDate:Y,rightDate:B}),J=O(()=>l.unlinkPanels&&ne.value>Z.value+1),re=(r,a=!0)=>{const o=r.minDate,g=r.maxDate;d.value===g&&M.value===o||(d.value=g,M.value=o,a&&V())},Q=r=>r.map(a=>a.format(k));function oe(r,a){if(l.unlinkPanels&&a){const o=(r==null?void 0:r.year())||0,g=a.year();B.value=o===g?a.add(1,n):a}else B.value=Y.value.add(1,n)}return p("set-picker-option",["formatToString",Q]),(r,a)=>(_(),N("div",{class:f([e(s).b(),e(c).b(),{"has-sidebar":Boolean(r.$slots.sidebar)||e(R)}])},[F("div",{class:f(e(s).e("body-wrapper"))},[rt(r.$slots,"sidebar",{class:f(e(s).e("sidebar"))}),e(R)?(_(),N("div",{key:0,class:f(e(s).e("sidebar"))},[(_(!0),N(be,null,Se(e(D),(o,g)=>(_(),N("button",{key:g,type:"button",class:f(e(s).e("shortcut")),onClick:E=>e(u)(o)},de(o.text),11,zn))),128))],2)):fe("v-if",!0),F("div",{class:f(e(s).e("body"))},[F("div",{class:f([[e(s).e("content"),e(c).e("content")],"is-left"])},[F("div",{class:f(e(c).e("header"))},[F("button",{type:"button",class:f([e(s).e("icon-btn"),"d-arrow-left"]),onClick:a[0]||(a[0]=(...o)=>e(L)&&e(L)(...o))},[A(e(me),null,{default:le(()=>[A(e(ut))]),_:1})],2),r.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(J),class:f([[e(s).e("icon-btn"),{[e(s).is("disabled")]:!e(J)}],"d-arrow-right"]),onClick:a[1]||(a[1]=(...o)=>e(x)&&e(x)(...o))},[A(e(me),null,{default:le(()=>[A(e(it))]),_:1})],10,Kn)):fe("v-if",!0),F("div",null,de(e(q)),1)],2),A(Ct,{"selection-mode":"range",date:Y.value,"min-date":e(M),"max-date":e(d),"range-state":e(C),"disabled-date":e(P),onChangerange:e(h),onPick:re,onSelect:e(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),F("div",{class:f([[e(s).e("content"),e(c).e("content")],"is-right"])},[F("div",{class:f(e(c).e("header"))},[r.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(J),class:f([[e(s).e("icon-btn"),{"is-disabled":!e(J)}],"d-arrow-left"]),onClick:a[2]||(a[2]=(...o)=>e(H)&&e(H)(...o))},[A(e(me),null,{default:le(()=>[A(e(ut))]),_:1})],10,Hn)):fe("v-if",!0),F("button",{type:"button",class:f([e(s).e("icon-btn"),"d-arrow-right"]),onClick:a[3]||(a[3]=(...o)=>e(K)&&e(K)(...o))},[A(e(me),null,{default:le(()=>[A(e(it))]),_:1})],2),F("div",null,de(e(G)),1)],2),A(Ct,{"selection-mode":"range",date:B.value,"min-date":e(M),"max-date":e(d),"range-state":e(C),"disabled-date":e(P),onChangerange:e(h),onPick:re,onSelect:e(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var jn=We(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Gn=function(b){switch(b){case"daterange":case"datetimerange":return Fn;case"monthrange":return jn;default:return Tn}};W.extend(Ca);W.extend(Ka);W.extend(Pa);W.extend(Ha);W.extend(Ua);W.extend(Wa);W.extend(ja);W.extend(Ga);var qn=xe({name:"ElDatePicker",install:null,props:{...Ut,...qa},emits:["update:modelValue"],setup(b,{expose:p,emit:l,slots:n}){const m=Me("picker-panel");bt("ElPopperOptions",Da(st(b,"popperOptions"))),bt(Pt,{slots:n,pickerNs:m});const v=j();p({focus:(k=!0)=>{var w;(w=v.value)==null||w.focus(k)}});const P=k=>{l("update:modelValue",k)};return()=>{var k;const w=(k=b.format)!=null?k:Ma[b.type]||nt,Y=Gn(b.type);return A(Ya,xt(b,{format:w,type:b.type,ref:v,"onUpdate:modelValue":P}),{default:B=>A(Y,B,null),"range-separator":n["range-separator"]})}}});const ft=qn;ft.install=b=>{b.component(ft.name,ft)};const tl=ft;export{Ya as C,Rt as D,tl as E,La as T,Qe as a,Aa as b,Pa as c,xa as d,Ra as e,Ut as f,wt as g,_a as t,el as u};
