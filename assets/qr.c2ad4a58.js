import{s as j,x as C,e as K,D as Y,a1 as U,A as V,g as W,B as g,a2 as z,a3 as X,a4 as J,L as Q,a5 as R,a6 as T,r as E,o as m,j as h,w as P,a7 as I,a8 as M,a as A,F as v,G as q,H as b,t as L,S as B,W as x,c as D,J as $,a9 as _,b as O,aa as ee,ab as te,ac as N,ad as ne,ae as H,af as se,ag as F,ah as oe,ai as S,h as ae,E as G,aj as ie,ak as re}from"./index.6b8e7d20.js";const Z=["success","info","warning","error"],le=j({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:C([String,Object]),default:""},id:{type:String,default:""},message:{type:C([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:C(Function),default:()=>{}},onClose:{type:C(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Z,""],default:""},zIndex:{type:Number,default:0}}),ue={destroy:()=>!0},ce=K({name:"ElNotification",components:{ElIcon:Y,...U},props:le,emits:ue,setup(e){const t=V("notification"),n=W(!1);let o;const a=g(()=>{const p=e.type;return p&&z[e.type]?t.m(p):""}),i=g(()=>z[e.type]||e.icon||""),c=g(()=>e.position.endsWith("right")?"right":"left"),u=g(()=>e.position.startsWith("top")?"top":"bottom"),s=g(()=>({[u.value]:`${e.offset}px`,zIndex:e.zIndex}));function r(){e.duration>0&&({stop:o}=R(()=>{n.value&&d()},e.duration))}function l(){o==null||o()}function d(){n.value=!1}function f({code:p}){p===T.delete||p===T.backspace?l():p===T.esc?n.value&&d():r()}return X(()=>{r(),n.value=!0}),J(document,"keydown",f),{ns:t,horizontalClass:c,typeClass:a,iconComponent:i,positionStyle:s,visible:n,close:d,clearTimer:l,startTimer:r}}}),de=["id"],fe=["textContent"],pe={key:0},me=["innerHTML"];function ve(e,t,n,o,a,i){const c=E("el-icon"),u=E("close");return m(),h(ee,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[3]||(t[3]=s=>e.$emit("destroy")),persisted:""},{default:P(()=>[I(A("div",{id:e.id,class:v([e.ns.b(),e.customClass,e.horizontalClass]),style:B(e.positionStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...s)=>e.clearTimer&&e.clearTimer(...s)),onMouseleave:t[1]||(t[1]=(...s)=>e.startTimer&&e.startTimer(...s)),onClick:t[2]||(t[2]=(...s)=>e.onClick&&e.onClick(...s))},[e.iconComponent?(m(),h(c,{key:0,class:v([e.ns.e("icon"),e.typeClass])},{default:P(()=>[(m(),h(q(e.iconComponent)))]),_:1},8,["class"])):b("v-if",!0),A("div",{class:v(e.ns.e("group"))},[A("h2",{class:v(e.ns.e("title")),textContent:L(e.title)},null,10,fe),I(A("div",{class:v(e.ns.e("content")),style:B(e.title?void 0:{margin:0})},[x(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),D($,{key:1},[b(" Caution here, message could've been compromized, nerver use user's input as message "),b(" eslint-disable-next-line "),A("p",{innerHTML:e.message},null,8,me)],2112)):(m(),D("p",pe,L(e.message),1))])],6),[[M,e.message]]),e.showClose?(m(),h(c,{key:0,class:v(e.ns.e("closeBtn")),onClick:_(e.close,["stop"])},{default:P(()=>[O(u)]),_:1},8,["class","onClick"])):b("v-if",!0)],2)],46,de),[[M,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var ge=Q(ce,[["render",ve],["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const w={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},k=16;let ye=1;const y=function(e={},t=null){if(!te)return{close:()=>{}};(typeof e=="string"||N(e))&&(e={message:e});const n=e.position||"top-right";let o=e.offset||0;w[n].forEach(({vm:d})=>{var f;o+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+k}),o+=k;const{nextZIndex:a}=ne(),i=`notification_${ye++}`,c=e.onClose,u={zIndex:a(),offset:o,...e,id:i,onClose:()=>{Ae(i,n,c)}};let s=document.body;H(e.appendTo)?s=e.appendTo:se(e.appendTo)&&(s=document.querySelector(e.appendTo)),H(s)||(s=document.body);const r=document.createElement("div"),l=O(ge,u,N(u.message)?{default:()=>u.message}:null);return l.appContext=t!=null?t:y._context,l.props.onDestroy=()=>{F(null,r)},F(l,r),w[n].push({vm:l}),s.appendChild(r.firstElementChild),{close:()=>{l.component.proxy.visible=!1}}};Z.forEach(e=>{y[e]=(t={})=>((typeof t=="string"||N(t))&&(t={message:t}),y({...t,type:e}))});function Ae(e,t,n){const o=w[t],a=o.findIndex(({vm:r})=>{var l;return((l=r.component)==null?void 0:l.props.id)===e});if(a===-1)return;const{vm:i}=o[a];if(!i)return;n==null||n(i);const c=i.el.offsetHeight,u=t.split("-")[0];o.splice(a,1);const s=o.length;if(!(s<1))for(let r=a;r<s;r++){const{el:l,component:d}=o[r].vm,f=Number.parseInt(l.style[u],10)-c-k;d.props.offset=f}}function Ce(){for(const e of Object.values(w))e.forEach(({vm:t})=>{t.component.proxy.visible=!1})}y.closeAll=Ce;y._context=null;const he=oe(y,"$notify");const Se=e=>new Promise(t=>{S.post("/api/user/login/pwd",e).then(n=>{t(n.data)})}),be=({phone:e})=>new Promise(t=>{S.post("/api/user/login/receive-code",{phone:e}).then(n=>{t(n.data)})}),Te=e=>new Promise(t=>{S.post("/api/user/login/sms-verify",e).then(n=>{t(n.data)})}),Pe=e=>new Promise(t=>{S.post("/api/user/register",e).then(n=>{t(n.data)})}),Ne=()=>{const e=ae({sending:!1,count:60}),t=g(()=>e.count<10?"0"+e.count:e.count+""),n=()=>{e.sending=!0;const a=setInterval(()=>{e.count--,e.count===0&&(clearInterval(a),e.count=60,e.sending=!1)},1e3)};return{state:e,sendCode:n,leftCount:t,handleSendCode:async(a="18782731215")=>{n(),be({phone:a}).then(i=>{if(i.code!==0){G.error(i.message);return}G({type:"success",message:"\u53D1\u9001\u6210\u529F",duration:1500}),ie.delay(()=>{he({title:"\u9A8C\u8BC1\u7801",message:re("i",{style:"color: teal"},`\u4F60\u7684\u9A8C\u8BC1\u7801\u4E3A\uFF1A${i.data.code}, \u6709\u6548\u671F\u4E3A5\u5206\u949F`),duration:0})},2e3,"later")})}}},ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA1CAMAAAA9D+hBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFfUExURUdwTP///8DAwP///8DAwP///////////////////7+/v////////7+/v8DAwP///729vf///////////////////////////8DAwNLS0tHR0f///9HR0b+/v////7y8vNzc3P///8DAwP///9HR0f///////8PDw9jY2P///////////////////////////////////////////8HBwff397+/v/X19f///8DAwNTU1NHR0fz8/P7+/vT09MHBwcXFxeLi4vj4+MfHx+fn5+Tk5MrKytzc3MjIyPb29tnZ2eXl5d/f3+7u7vf39/Pz8+Dg4N7e3svLy+Hh4dvb2+rq6vn5+fLy8sLCwuvr68zMzNPT0/v7+/r6+tXV1cnJye3t7dDQ0N3d3dbW1vX19c/Pz83Nzf39/fDw8PHx8ePj49ra2sbGxs7OzsTExNLS0u/v7+jo6MPDw+np6ezs7BmCwhgAAAA4dFJOUwANxHRV7X8BEAZhpdvx8LcjzOzg+ePygOth68vqJO7qjK3DpGCEfSKK1Tod142QVjPYVBuJpIylPpGpxgAAAqxJREFUSMed1md32jAUBmAThiG7e++9d3sZgYSwa4yZCWEmUDKbzv9/KsmyI0uyk/J+MLYuT3QiuBIKyHP50o25x+8/KG4Bz7x89XYahvLM75uGAQRDYQmLC+nvgo5eDIC2OXD9oSqwqJgEbKDrdwDDGplZPp2tJiCJXmIAWXtsISBhKS9Gi59Vno30Io2uD3impWntS4RjeWbdajz7ZZeWIk5WAkjoaZRdgBzPvgL0SHEFPqk801I4ZTnr49pmGtIfebZD/u2hxSro4ZvN4qSIWCrAz0Yq9mzFWi3XsFmMLChmi088GY3AovdVBzsk7K+cTUhRxyx6zcH+/IjFYp2KnNVRsdPvEXYzzDI7MmYFs3jIZlWGbfGszRQ3EQv6LLadOckRYV10VzbZ6KR2gGcDv3sH4MaZsB1gJw7z6tkbh2Hw3LVNKTPEWg7gNWb1+poz9eyKxTYMrrZmNAHeuW5BY5O55IUb63myN4jFrPwkQw1824/zbIe+qaOhh0fskmStT5TGwVaZJYF7LMuQekHOatYo6kI4Nx27gFglaabSJfUifh63eVakb6vo6OH8dCt5EbEVMWB93OAcBfMKgNi6kK1di2WY0UILWoX1oxFlXt/JOjuKNgV03SJsXt4BeMPb5jrA3EvihPkx+50r0AwGKcLG6P7QZKu0OGgxzHf7f/cSwpQQqjSEo4NhGSkL3yGzFYflcnnYPfNsyixheecZcDpTZzCrem3mMqYsL4pnQLfZbO55MyUgMvpLwZMpTwFKhLW5YxHvXIYrUx9AuappWrXIsf2qVt13ZUpkifu4k9LGaXFMicw5jw45I0cHyxT1bt7MMcv2GnkmOyV+NryeC+IZYEjPAAdTbs3QyrHJOgAHItvmmaLOXrXatGL+3TWRTQSGvtdXgnCW/ANNQVIsBq48SQAAAABJRU5ErkJggg==";export{ke as _,Te as a,Se as l,Pe as r,Ne as s};
