var oe=Object.defineProperty,ae=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var J=(l,s,n)=>s in l?oe(l,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[s]=n,z=(l,s)=>{for(var n in s||(s={}))se.call(s,n)&&J(l,n,s[n]);if(q)for(var n of q(s))te.call(s,n)&&J(l,n,s[n]);return l},K=(l,s)=>ae(l,ne(s));import{s as re,v as ue,x as Q,y as pe,z as de,e as x,A as ce,g as R,B as k,o as p,j as f,w as d,C as h,D as ie,F as E,G as V,H as $,c as T,I as C,J as N,K as W,L as fe,M as me,N as be,O as ve,P as ye,Q as X,R as ge,_ as ke,b as j,S as Se,t as P,T as v,U as O,k as D,V as H,W as m,X as A,a as he,l as Ee,Y as Ve,Z as $e,$ as Te,a0 as Ce}from"./index.2df2d850.js";import{E as Fe}from"./el-col.ad7343f4.js";import{E as ee,a as Ie}from"./el-cascader-panel.b9534341.js";import{E as we,a as Be,b as Ue}from"./el-checkbox.65bfa4a2.js";/* empty css                 */import{E as le}from"./el-upload.d2364009.js";import"./el-progress.7cbeacfd.js";import{_ as _e}from"./TInput.599c2533.js";import{c as Pe,E as Ne}from"./index2.9c4a2a68.js";import{E as ze}from"./index2.3fcba6f9.js";import{E as je,a as Oe,b as De}from"./index2.61b9d74f.js";import{E as He}from"./index2.9c230384.js";import{E as Re}from"./index2.88f8c1b6.js";import{E as Me}from"./index2.c6ca1ef4.js";import{d as Y}from"./dayjs.min.92ea9f3a.js";const Ae=re({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:ue,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Q([String,Object]),default:()=>pe},clearIcon:{type:Q([String,Object]),default:()=>de}}),y=l=>{const s=(l||"").split(":");if(s.length>=2){let n=Number.parseInt(s[0],10);const u=Number.parseInt(s[1],10),c=l.toUpperCase();return c.includes("AM")&&n===12?n=0:c.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:u}}return null},G=(l,s)=>{const n=y(l);if(!n)return-1;const u=y(s);if(!u)return-1;const c=n.minutes+n.hours*60,i=u.minutes+u.hours*60;return c===i?0:c>i?1:-1},Z=l=>`${l}`.padStart(2,"0"),F=l=>`${Z(l.hours)}:${Z(l.minutes)}`,Ge=(l,s)=>{const n=y(l);if(!n)return"";const u=y(s);if(!u)return"";const c={hours:n.hours,minutes:n.minutes};return c.minutes+=u.minutes,c.hours+=u.hours,c.hours+=Math.floor(c.minutes/60),c.minutes=c.minutes%60,F(c)},We={name:"ElTimeSelect"},Le=x(K(z({},We),{props:Ae,emits:["change","blur","focus","update:modelValue"],setup(l,{expose:s}){const n=l;Y.extend(Pe);const{Option:u}=W,c=ce("input"),i=R(),I=k(()=>n.modelValue),g=k(()=>{const e=y(n.start);return e?F(e):null}),S=k(()=>{const e=y(n.end);return e?F(e):null}),w=k(()=>{const e=y(n.step);return e?F(e):null}),B=k(()=>{const e=y(n.minTime||"");return e?F(e):null}),U=k(()=>{const e=y(n.maxTime||"");return e?F(e):null}),a=k(()=>{const e=[];if(n.start&&n.end&&n.step){let r=g.value,o;for(;r&&S.value&&G(r,S.value)<=0;)o=Y(r,"HH:mm").format(n.format),e.push({value:o,disabled:G(r,B.value||"-1:-1")<=0||G(r,U.value||"100:100")>=0}),r=Ge(r,w.value)}return e});return s({blur:()=>{var e,r;(r=(e=i.value)==null?void 0:e.blur)==null||r.call(e)},focus:()=>{var e,r;(r=(e=i.value)==null?void 0:e.focus)==null||r.call(e)}}),(e,r)=>(p(),f(h(W),{ref_key:"select",ref:i,"model-value":h(I),disabled:e.disabled,clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":r[0]||(r[0]=o=>e.$emit("update:modelValue",o)),onChange:r[1]||(r[1]=o=>e.$emit("change",o)),onBlur:r[2]||(r[2]=o=>e.$emit("blur",o)),onFocus:r[3]||(r[3]=o=>e.$emit("focus",o))},{prefix:d(()=>[e.prefixIcon?(p(),f(h(ie),{key:0,class:E(h(c).e("prefix-icon"))},{default:d(()=>[(p(),f(V(e.prefixIcon)))]),_:1},8,["class"])):$("v-if",!0)]),default:d(()=>[(p(!0),T(N,null,C(h(a),o=>(p(),f(h(u),{key:o.value,label:o.value,value:o.value,disabled:o.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}}));var M=fe(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);M.install=l=>{l.component(M.name,M)};const qe=M,Je=qe;var Ke=x({name:"DForm",components:{ElInput:me,ElCascader:ee,ElCheckbox:we,ElCheckboxGroup:Be,ElCheckboxButton:Ue,ElColorPicker:be,ElDatePicker:Ne,ElInputNumber:ze,ElRadio:je,ElRadioButton:Oe,ElRate:He,ElRadioGroup:De,ElSelect:W,ElOption:ve,ElSlider:Re,ElSwitch:ye,ElTimePicker:Me,ElTimeSelect:Je,ElTransfer:Ie,ElUpload:le},props:{schemas:{type:Array,default:()=>[],required:!0},labelWidth:{type:String,default:"80px"},action:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},actionClass:{type:String,default:""},submitText:{type:String,default:"\u63D0\u4EA4"},cancelText:{type:String,default:"\u91CD\u7F6E"}},emits:["change","submit","reset","error"],setup(l,{emit:s,expose:n}){const u=R(),c=R(z({},X(l.schemas.reduce((a,t)=>(a[t.prop]=t.rules,a),{})))),i=R(z({},X(l.schemas.reduce((a,t)=>(a[t.prop]=t.value,a),{}))));ge(()=>i,()=>{s("change",i.value)},{deep:!0});const I=()=>{!u.value||u.value.validate(a=>{if(a)s("submit",i.value);else return s("error",i.value),!1})},g=()=>{!u.value||(u.value.resetFields(),s("reset",i.value))},S=a=>!!a&&typeof a!="string"&&!!a.length&&a.length>0,w=a=>typeof(a==null?void 0:a.itemSlot)=="string"&&(a==null?void 0:a.itemSlot)||"defalut",B=a=>{let t=[];return typeof(a==null?void 0:a.itemSlot)=="object"&&(t=Object.keys(a.itemSlot)),t},U=a=>{const t=["cascader","checkbox","checkbox-group","checkbox-button","color-picker","date-picker","input","input-number","radio","radio-group","radio-button","rate","select","option","slider","switch","time-picker","time-select","transfer","upload","editor"];return!!(typeof a.component=="string"&&t.includes(a.component))};return n({validate:async function(a){var t;return(t=u.value)==null?void 0:t.validate(a)},validateField:function(a,t){var _;return(_=u.value)==null?void 0:_.validateField(a,t)},clearValidate:function(a){var t;return(t=u.value)==null?void 0:t.clearValidate(a)},scrollToField:function(a){var t;return(t=u.value)==null?void 0:t.scrollToField(a)}}),{model:i,rules:c,form:u,submitForm:I,resetForm:g,resetFields:g,showSlot:S,getSlotName:w,getSlotItemNames:B,isElemComp:U,getFieldsValue:()=>i.value,getFieldValue:a=>i.value[a]||void 0}}});function Qe(l,s,n,u,c,i){const I=_e,g=Ee,S=Ve,w=le,B=ee,U=$e,a=Fe,t=Te,_=Ce;return l.model?(p(),f(_,v({key:0,ref:"form","label-width":l.labelWidth,"validate-on-rule-change":!1,model:l.model,rules:l.rules,inline:l.inline},l.$attrs),{default:d(()=>[j(t,null,{default:d(()=>[(p(!0),T(N,null,C(l.schemas,(e,r)=>(p(),f(a,{key:r,span:l.inline?(e==null?void 0:e.span)||-1:24},{default:d(()=>[j(U,{modelValue:l.model,"onUpdate:modelValue":s[0]||(s[0]=o=>l.model=o),prop:e.prop,label:e.label,class:E(e.class)},{default:d(()=>[e.component==="innerText"?(p(),T("div",{key:0,class:E(e.class),style:Se(e.style)},P(e.value||l.model[e.prop]),7)):typeof e.component=="object"||!l.isElemComp(e)?(p(),f(V(e.component),v({key:1},e.attrs,O(e.events||{})),null,16)):typeof e.component=="string"&&l.isElemComp(e)&&["radio-group","checkbox-group"].includes(e.component)?(p(),f(V("el-"+e.component),v({key:2,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs,O(e.events||{})),{default:d(()=>[(p(!0),T(N,null,C(e.children,(o,b)=>(p(),f(V("el-"+o.component),{key:b,label:o.value},{default:d(()=>[D(P(o.label),1)]),_:2},1032,["label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])):e.component==="input"?(p(),f(I,v({key:3,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs,O(e.events||{})),H({_:2},[C(l.getSlotItemNames(e),(o,b)=>({name:o,fn:d(()=>[e.itemSlot&&e.itemSlot[o]?m(l.$slots,e.itemSlot[o],{key:b}):$("",!0)])}))]),1040,["modelValue","onUpdate:modelValue"])):e.component==="upload"?(p(),f(w,A(v({key:4},e==null?void 0:e.upload)),H({default:d(()=>[m(l.$slots,e.slot?e.slot+"-trigger":"trigger"),m(l.$slots,e.slot?e.slot+"tip":"tip"),m(l.$slots,e.slot?e.slot+"file":"file")]),_:2},[e.upload&&e.upload.type?{name:"trigger",fn:d(()=>{var o,b,L;return[((o=e.upload)==null?void 0:o.type)==="button"?(p(),f(g,{key:0,type:e.upload.btnType||"primary",class:E(e.upload.class)},{default:d(()=>[m(l.$slots,e.slot?e.slot+"prefix":"prefix"),m(l.$slots,"default",{},()=>[D(P(e.upload.text),1)]),m(l.$slots,e.slot?e.slot+"suffix":"suffix")]),_:2},1032,["type","class"])):(p(),f(S,{key:1,icon:((b=e.upload)==null?void 0:b.icon)||"ep:upload",class:E((L=e.upload)==null?void 0:L.class)},null,8,["icon","class"]))]})}:void 0]),1040)):e.component==="cascader"?(p(),f(B,v({key:5},e.attrs,{modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o,label:e.label}),H({_:2},[e.slot?{name:"default",fn:d(({data:o})=>[l.showSlot(e.slot)?m(l.$slots,e.slot&&(e==null?void 0:e.slot[0]),A(v({key:0},o))):m(l.$slots,e.slot,A(v({key:1},o)))])}:void 0]),1040,["modelValue","onUpdate:modelValue","label"])):(p(),f(V("el-"+e.component),v({key:6,modelValue:l.model[e.prop],"onUpdate:modelValue":o=>l.model[e.prop]=o},e.attrs,O(e.events||{})),H({_:2},[e.children&&e.children.length?{name:"default",fn:d(()=>[(p(!0),T(N,null,C(e.children,(o,b)=>(p(),f(V("el-"+o.component),v({key:b,label:o.label,value:o.value},e.attrs),null,16,["label","value"]))),128))])}:l.showSlot(e.slot)?{name:"default",fn:d(()=>[(p(!0),T(N,null,C(e.slot,(o,b)=>m(l.$slots,o,{key:b,scope:l.$scope})),128))])}:e.itemSlot?{name:l.getSlotName(e),fn:d(()=>[e.slot?m(l.$slots,e.slot,{key:0}):$("",!0)])}:{name:"default",fn:d(()=>[e.slot?m(l.$slots,e.slot,{key:0}):$("",!0)])}]),1040,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["modelValue","prop","label","class"])]),_:2},1032,["span"]))),128))]),_:3}),l.action?m(l.$slots,"action",{key:0,form:l.form,model:l.model,validate:l.form&&l.form.validate},()=>[he("div",{class:E(l.actionClass)},[j(g,{type:"primary",onClick:l.submitForm},{default:d(()=>[D(P(l.submitText),1)]),_:1},8,["onClick"]),j(g,{onClick:l.resetForm},{default:d(()=>[D(P(l.cancelText),1)]),_:1},8,["onClick"])],2)]):$("",!0)]),_:3},16,["label-width","model","rules","inline"])):$("",!0)}var il=ke(Ke,[["render",Qe]]);export{il as _};
