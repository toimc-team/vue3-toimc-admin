var pe=Object.defineProperty,me=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var O=(r,u,s)=>u in r?pe(r,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[u]=s,P=(r,u)=>{for(var s in u||(u={}))ye.call(u,s)&&O(r,s,u[s]);if(F)for(var s of F(u))be.call(u,s)&&O(r,s,u[s]);return r},K=(r,u)=>me(r,he(u));import{e as B,am as ee,o as v,c as h,a as ae,Y as _e,Z as $,ai as R,bB as W,aN as we,aA as _,aj as q,aQ as xe,aR as Ve,aS as ge,z as Ce,b4 as Se,g as I,A as c,bi as G,bC as Q,N as $e,H as Ie,G as Te,C as b,ba as t,b as Ee,w as U,j as T,D as X,F as E,O as Y,v as Z,t as Be,B as Le,a4 as V,bt as J,al as De}from"./index.c76706f6.js";const Me=B({name:"StarFilled"}),Ne={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ae=ae("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),He=[Ae];function ke(r,u,s,e,y,w){return v(),h("svg",Ne,He)}var g=ee(Me,[["render",ke]]);const ze=B({name:"Star"}),je={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Fe=ae("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),Oe=[Fe];function Pe(r,u,s,e,y,w){return v(),h("svg",je,Oe)}var Ke=ee(ze,[["render",Pe]]);const Re=_e({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:$([Array,Object]),default:()=>R(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:$([Array,Object]),default:()=>[g,g,g]},voidIcon:{type:W,default:()=>Ke},disabledVoidIcon:{type:W,default:()=>g},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:""},texts:{type:$(Array),default:()=>R(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:we},label:{type:String,default:void 0}}),We={change:r=>typeof r=="number",[_]:r=>typeof r=="number"},qe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Ge=["onMousemove","onClick"],Qe={name:"ElRate"},Ue=B(K(P({},Qe),{props:Re,emits:We,setup(r,{expose:u,emit:s}){const e=r;function y(a,l){const o=f=>Q(f),S=Object.keys(l).map(f=>+f).filter(f=>{const x=l[f];return(o(x)?x.excluded:!1)?a<f:a<=f}).sort((f,x)=>f-x),m=l[S[0]];return o(m)&&m.value||m}const w=q(xe,void 0),L=q(Ve,void 0),le=ge(),i=Ce("rate"),{inputId:oe,isLabeledByFormItem:D}=Se(e,{formItemContext:L}),n=I(e.modelValue),C=I(-1),p=I(!0),te=c(()=>[i.b(),i.m(le.value)]),d=c(()=>e.disabled||(w==null?void 0:w.disabled)),se=c(()=>i.cssVarBlock({"void-color":e.voidColor,"disabled-void-color":e.disabledVoidColor,"fill-color":A.value})),M=c(()=>{let a="";return e.showScore?a=e.scoreTemplate.replace(/\{\s*value\s*\}/,d.value?`${e.modelValue}`:`${n.value}`):e.showText&&(a=e.texts[Math.ceil(n.value)-1]),a}),N=c(()=>e.modelValue*100-Math.floor(e.modelValue)*100),re=c(()=>G(e.colors)?{[e.lowThreshold]:e.colors[0],[e.highThreshold]:{value:e.colors[1],excluded:!0},[e.max]:e.colors[2]}:e.colors),A=c(()=>{const a=y(n.value,re.value);return Q(a)?"":a}),ne=c(()=>{let a="";return d.value?a=`${N.value}%`:e.allowHalf&&(a="50%"),{color:A.value,width:a}}),H=c(()=>G(e.icons)?{[e.lowThreshold]:e.icons[0],[e.highThreshold]:{value:e.icons[1],excluded:!0},[e.max]:e.icons[2]}:e.icons),ue=c(()=>y(e.modelValue,H.value)),ie=c(()=>d.value?e.disabledVoidIcon:e.voidIcon),ce=c(()=>y(n.value,H.value)),de=c(()=>{const a=Array.from({length:e.max}),l=n.value;return a.fill(ce.value,0,l),a.fill(ie.value,l,e.max),a});function k(a){const l=d.value&&N.value>0&&a-1<e.modelValue&&a>e.modelValue,o=e.allowHalf&&p.value&&a-.5<=n.value&&a>n.value;return l||o}function fe(a){d.value||(e.allowHalf&&p.value?(s(_,n.value),e.modelValue!==n.value&&s("change",n.value)):(s(_,a),e.modelValue!==a&&s("change",a)))}function ve(a){if(d.value)return;let l=n.value;const o=a.code;return o===V.up||o===V.right?(e.allowHalf?l+=.5:l+=1,a.stopPropagation(),a.preventDefault()):(o===V.left||o===V.down)&&(e.allowHalf?l-=.5:l-=1,a.stopPropagation(),a.preventDefault()),l=l<0?0:l,l=l>e.max?e.max:l,s(_,l),s("change",l),l}function z(a,l){if(!d.value){if(e.allowHalf){let o=l.target;J(o,i.e("item"))&&(o=o.querySelector(`.${i.e("icon")}`)),(o.clientWidth===0||J(o,i.e("decimal")))&&(o=o.parentNode),p.value=l.offsetX*2<=o.clientWidth,n.value=p.value?a-.5:a}else n.value=a;C.value=a}}function j(){d.value||(e.allowHalf&&(p.value=e.modelValue!==Math.floor(e.modelValue)),n.value=e.modelValue,C.value=-1)}return $e(()=>e.modelValue,a=>{n.value=a,p.value=e.modelValue!==Math.floor(e.modelValue)}),e.modelValue||s(_,0),u({setCurrentValue:z,resetCurrentValue:j}),(a,l)=>(v(),h("div",{id:t(oe),class:b([t(te),t(i).is("disabled",t(d))]),role:"slider","aria-label":t(D)?void 0:a.label||"rating","aria-labelledby":t(D)?t(L).labelId:void 0,"aria-valuenow":n.value,"aria-valuetext":t(M)||void 0,"aria-valuemin":"0","aria-valuemax":a.max,tabindex:"0",style:Y(t(se)),onKeydown:ve},[(v(!0),h(Ie,null,Te(a.max,(o,S)=>(v(),h("span",{key:S,class:b(t(i).e("item")),onMousemove:m=>z(o,m),onMouseleave:j,onClick:m=>fe(o)},[Ee(t(Z),{class:b([t(i).e("icon"),{hover:C.value===o},t(i).is("active",o<=n.value)])},{default:U(()=>[k(o)?E("v-if",!0):(v(),T(X(t(de)[o-1]),{key:0})),k(o)?(v(),T(t(Z),{key:1,style:Y(t(ne)),class:b([t(i).e("icon"),t(i).e("decimal")])},{default:U(()=>[(v(),T(X(t(ue))))]),_:1},8,["style","class"])):E("v-if",!0)]),_:2},1032,["class"])],42,Ge))),128)),a.showText||a.showScore?(v(),h("span",{key:0,class:b(t(i).e("text"))},Be(t(M)),3)):E("v-if",!0)],46,qe))}}));var Xe=Le(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ea=De(Xe);export{ea as E};
