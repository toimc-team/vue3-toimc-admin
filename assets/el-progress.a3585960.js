import{Y,Z as m,e as Z,v as q,bf as S,y as C,bg as P,bn as D,z as G,A as s,B as H,r as J,o as a,c as l,C as r,a as d,O as u,S as I,t as N,T as B,bo as T,F as W,j as z,w as K,D as Q,al as U}from"./index.c76706f6.js";import{c as F}from"./check.c6fc49fc.js";const X=Y({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:m(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:m([String,Array,Function]),default:""},format:{type:m(Function),default:e=>`${e}%`}}),x=Z({name:"ElProgress",components:{ElIcon:q,CircleCheck:S,CircleClose:C,Check:F,Close:P,WarningFilled:D},props:X,setup(e){const v=G("progress"),b=s(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:w(e.percentage)})),p=s(()=>(e.strokeWidth/e.width*100).toFixed(1)),f=s(()=>e.type==="circle"||e.type==="dashboard"?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),$=s(()=>{const t=f.value,i=e.type==="dashboard";return`
          M 50 50
          m 0 ${i?"":"-"}${t}
          a ${t} ${t} 0 1 1 0 ${i?"-":""}${t*2}
          a ${t} ${t} 0 1 1 0 ${i?"":"-"}${t*2}
          `}),n=s(()=>2*Math.PI*f.value),h=s(()=>e.type==="dashboard"?.75:1),y=s(()=>`${-1*n.value*(1-h.value)/2}px`),E=s(()=>({strokeDasharray:`${n.value*h.value}px, ${n.value}px`,strokeDashoffset:y.value})),V=s(()=>({strokeDasharray:`${n.value*h.value*(e.percentage/100)}px, ${n.value}px`,strokeDashoffset:y.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),A=s(()=>{let t;if(e.color)t=w(e.percentage);else switch(e.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t}),L=s(()=>e.status==="warning"?D:e.type==="line"?e.status==="success"?S:C:e.status==="success"?F:P),M=s(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),j=s(()=>e.format(e.percentage)),w=t=>{var i;const{color:c}=e;if(typeof c=="function")return c(t);if(typeof c=="string")return c;{const R=100/c.length,k=c.map((o,g)=>typeof o=="string"?{color:o,percentage:(g+1)*R}:o).sort((o,g)=>o.percentage-g.percentage);for(const o of k)if(o.percentage>t)return o.color;return(i=k[k.length-1])==null?void 0:i.color}},O=s(()=>({percentage:e.percentage}));return{ns:v,barStyle:b,relativeStrokeWidth:p,radius:f,trackPath:$,perimeter:n,rate:h,strokeDashoffset:y,trailPathStyle:E,circlePathStyle:V,stroke:A,statusIcon:L,progressTextSize:M,content:j,slotData:O}}}),_=["aria-valuenow"],ee={viewBox:"0 0 100 100"},te=["d","stroke","stroke-width"],se=["d","stroke","opacity","stroke-linecap","stroke-width"],ae={key:0};function re(e,v,b,p,f,$){const n=J("el-icon");return a(),l("div",{class:r([e.ns.b(),e.ns.m(e.type),e.ns.is(e.status),{[e.ns.m("without-text")]:!e.showText,[e.ns.m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(a(),l("div",{key:0,class:r(e.ns.b("bar"))},[d("div",{class:r(e.ns.be("bar","outer")),style:u({height:`${e.strokeWidth}px`})},[d("div",{class:r([e.ns.be("bar","inner"),{[e.ns.bem("bar","inner","indeterminate")]:e.indeterminate}]),style:u(e.barStyle)},[(e.showText||e.$slots.default)&&e.textInside?(a(),l("div",{key:0,class:r(e.ns.be("bar","innerText"))},[I(e.$slots,"default",B(T(e.slotData)),()=>[d("span",null,N(e.content),1)])],2)):W("v-if",!0)],6)],6)],2)):(a(),l("div",{key:1,class:r(e.ns.b("circle")),style:u({height:`${e.width}px`,width:`${e.width}px`})},[(a(),l("svg",ee,[d("path",{class:r(e.ns.be("circle","track")),d:e.trackPath,stroke:`var(${e.ns.cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":e.relativeStrokeWidth,fill:"none",style:u(e.trailPathStyle)},null,14,te),d("path",{class:r(e.ns.be("circle","path")),d:e.trackPath,stroke:e.stroke,fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":e.relativeStrokeWidth,style:u(e.circlePathStyle)},null,14,se)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(a(),l("div",{key:2,class:r(e.ns.e("text")),style:u({fontSize:`${e.progressTextSize}px`})},[I(e.$slots,"default",B(T(e.slotData)),()=>[e.status?(a(),z(n,{key:1},{default:K(()=>[(a(),z(Q(e.statusIcon)))]),_:1})):(a(),l("span",ae,N(e.content),1))])],6)):W("v-if",!0)],10,_)}var ne=H(x,[["render",re],["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ce=U(ne);export{ce as E};
