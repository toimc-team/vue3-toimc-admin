var De=Object.defineProperty,me=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ce=(e,t,a)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,R=(e,t)=>{for(var a in t||(t={}))ge.call(t,a)&&ce(e,a,t[a]);if(ae)for(var a of ae(t))ve.call(t,a)&&ce(e,a,t[a]);return e},H=(e,t)=>me(e,ye(t));import{d as P}from"./dayjs.min.4c578f98.js";import{s as le,x as U,ap as Ce,e as ue,av as oe,A as X,B,o as E,c as F,J as W,I as Z,t as $,C as o,H as de,a as N,F as x,W as L,L as ie,aF as he,bO as Q,bD as pe,bm as Ee,g as ke,b as V,w as O,l as K,k as q,c_ as Fe,V as fe,X as re,cl as se,j as Ae,aq as Be}from"./index.d88b9255.js";import{r as Y,l as Me,W as J}from"./utils2.a6a2dc41.js";const xe=(e,t)=>{const a=e.subtract(1,"month").endOf("month").date();return Y(t).map((b,s)=>a-(t-s-1))},_e=e=>{const t=e.daysInMonth();return Y(t).map((a,b)=>b+1)},we=e=>Y(e.length/7).map(t=>{const a=t*7;return e.slice(a,a+7)}),Se=le({selectedDay:{type:U(Object)},range:{type:U(Array)},date:{type:U(Object),required:!0},hideHeader:{type:Boolean}}),Te={pick:e=>Ce(e)},Ie={key:0},Oe=["onClick"],$e={name:"DateTable"},Ye=ue(H(R({},$e),{props:Se,emits:Te,setup(e,{expose:t,emit:a}){const b=e;P.extend(Me);const{t:s,lang:i}=oe(),m=X("calendar-table"),n=X("calendar-day"),p=P().locale(i.value),y=p.$locale().weekStart||0,D=B(()=>!!b.range&&!!b.range.length),g=B(()=>{let r=[];if(D.value){const[l,d]=b.range,f=Y(d.date()-l.date()+1).map(h=>({text:l.date()+h,type:"current"}));let c=f.length%7;c=c===0?0:7-c;const u=Y(c).map((h,C)=>({text:C+1,type:"next"}));r=f.concat(u)}else{const l=b.date.startOf("month").day(),d=xe(b.date,l-y).map(h=>({text:h,type:"prev"})),f=_e(b.date).map(h=>({text:h,type:"current"}));r=[...d,...f];const c=7-(r.length%7||7),u=Y(c).map((h,C)=>({text:C+1,type:"next"}));r=r.concat(u)}return we(r)}),M=B(()=>{const r=y;return r===0?J.map(l=>s(`el.datepicker.weeks.${l}`)):J.slice(r).concat(J.slice(0,r)).map(l=>s(`el.datepicker.weeks.${l}`))}),k=(r,l)=>{switch(l){case"prev":return b.date.startOf("month").subtract(1,"month").date(r);case"next":return b.date.startOf("month").add(1,"month").date(r);case"current":return b.date.date(r)}},S=({text:r,type:l})=>{const d=[l];if(l==="current"){const f=k(r,l);f.isSame(b.selectedDay,"day")&&d.push(n.is("selected")),f.isSame(p,"day")&&d.push(n.is("today"))}return d},A=({text:r,type:l})=>{const d=k(r,l);a("pick",d)},v=({text:r,type:l})=>{const d=k(r,l);return{isSelected:d.isSame(b.selectedDay),type:`${l}-month`,day:d.format("YYYY-MM-DD"),date:d.toDate()}};return t({getFormattedDate:k}),(r,l)=>(E(),F("table",{class:x([o(m).b(),o(m).is("range",o(D))]),cellspacing:"0",cellpadding:"0"},[r.hideHeader?de("v-if",!0):(E(),F("thead",Ie,[(E(!0),F(W,null,Z(o(M),d=>(E(),F("th",{key:d},$(d),1))),128))])),N("tbody",null,[(E(!0),F(W,null,Z(o(g),(d,f)=>(E(),F("tr",{key:f,class:x({[o(m).e("row")]:!0,[o(m).em("row","hide-border")]:f===0&&r.hideHeader})},[(E(!0),F(W,null,Z(d,(c,u)=>(E(),F("td",{key:u,class:x(S(c)),onClick:h=>A(c)},[N("div",{class:x(o(n).b())},[L(r.$slots,"dateCell",{data:v(c)},()=>[N("span",null,$(c.text),1)])],2)],10,Oe))),128))],2))),128))])],2))}}));var ne=ie(Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const je=e=>Ee(e)&&e.length===2&&e.every(t=>Q(t)),ze=le({modelValue:{type:Date},range:{type:U(Array),validator:je}}),Ve={[he]:e=>Q(e),[pe]:e=>Q(e)},Pe={name:"ElCalendar"},Ne=ue(H(R({},Pe),{props:ze,emits:Ve,setup(e,{expose:t,emit:a}){const b=e,s=X("calendar"),{t:i,lang:m}=oe(),n=ke(),p=P().locale(m.value),y=B({get(){return b.modelValue?g.value:n.value},set(f){if(!f)return;n.value=f;const c=f.toDate();a(pe,c),a(he,c)}}),D=B(()=>{if(!b.range)return[];const f=b.range.map(h=>P(h).locale(m.value)),[c,u]=f;return c.isAfter(u)?[]:c.isSame(u,"month")?r(c,u):c.add(1,"month").month()!==u.month()?[]:r(c,u)}),g=B(()=>b.modelValue?P(b.modelValue).locale(m.value):y.value?y.value:D.value.length?D.value[0][0]:p),M=B(()=>g.value.subtract(1,"month").date(1)),k=B(()=>g.value.add(1,"month").date(1)),S=B(()=>g.value.subtract(1,"year").date(1)),A=B(()=>g.value.add(1,"year").date(1)),v=B(()=>{const f=`el.datepicker.month${g.value.format("M")}`;return`${g.value.year()} ${i("el.datepicker.year")} ${i(f)}`}),r=(f,c)=>{const u=f.startOf("week"),h=c.endOf("week"),C=u.get("month"),w=h.get("month");if(C===w)return[[u,h]];if(C+1===w){const T=u.endOf("month"),_=h.startOf("month"),I=T.isSame(_,"week")?_.add(1,"week"):_;return[[u,T],[I.startOf("week"),h]]}else if(C+2===w||(C+1)%11===w){const T=u.endOf("month"),_=u.add(1,"month").startOf("month"),j=T.isSame(_,"week")?_.add(1,"week"):_,I=j.endOf("month"),z=h.startOf("month"),G=I.isSame(z,"week")?z.add(1,"week"):z;return[[u,T],[j.startOf("week"),I],[G.startOf("week"),h]]}else return[]},l=f=>{y.value=f},d=f=>{let c;f==="prev-month"?c=M.value:f==="next-month"?c=k.value:f==="prev-year"?c=S.value:f==="next-year"?c=A.value:c=p,!c.isSame(g.value,"day")&&l(c)};return t({selectedDay:y,pickDay:l,selectDate:d,calculateValidatedDateRange:r}),(f,c)=>(E(),F("div",{class:x(o(s).b())},[N("div",{class:x(o(s).e("header"))},[L(f.$slots,"header",{date:o(v)},()=>[N("div",{class:x(o(s).e("title"))},$(o(v)),3),o(D).length===0?(E(),F("div",{key:0,class:x(o(s).e("button-group"))},[V(o(Fe),null,{default:O(()=>[V(o(K),{size:"small",onClick:c[0]||(c[0]=u=>d("prev-month"))},{default:O(()=>[q($(o(i)("el.datepicker.prevMonth")),1)]),_:1}),V(o(K),{size:"small",onClick:c[1]||(c[1]=u=>d("today"))},{default:O(()=>[q($(o(i)("el.datepicker.today")),1)]),_:1}),V(o(K),{size:"small",onClick:c[2]||(c[2]=u=>d("next-month"))},{default:O(()=>[q($(o(i)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):de("v-if",!0)])],2),o(D).length===0?(E(),F("div",{key:0,class:x(o(s).e("body"))},[V(ne,{date:o(g),"selected-day":o(y),onPick:l},fe({_:2},[f.$slots.dateCell?{name:"dateCell",fn:O(u=>[L(f.$slots,"dateCell",re(se(u)))])}:void 0]),1032,["date","selected-day"])],2)):(E(),F("div",{key:1,class:x(o(s).e("body"))},[(E(!0),F(W,null,Z(o(D),(u,h)=>(E(),Ae(ne,{key:h,date:u[0],"selected-day":o(y),range:u,"hide-header":h!==0,onPick:l},fe({_:2},[f.$slots.dateCell?{name:"dateCell",fn:O(C=>[L(f.$slots,"dateCell",re(se(C)))])}:void 0]),1032,["date","selected-day","range","hide-header"]))),128))],2))],2))}}));var Ge=ie(Ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const He=Be(Ge);const Ue={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,92821,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["\u7532","\u4E59","\u4E19","\u4E01","\u620A","\u5DF1","\u5E9A","\u8F9B","\u58EC","\u7678"],Zhi:["\u5B50","\u4E11","\u5BC5","\u536F","\u8FB0","\u5DF3","\u5348","\u672A","\u7533","\u9149","\u620C","\u4EA5"],Animals:["\u9F20","\u725B","\u864E","\u5154","\u9F99","\u86C7","\u9A6C","\u7F8A","\u7334","\u9E21","\u72D7","\u732A"],festival:{"1-1":{title:"\u5143\u65E6\u8282"},"2-14":{title:"\u60C5\u4EBA\u8282"},"5-1":{title:"\u52B3\u52A8\u8282"},"5-4":{title:"\u9752\u5E74\u8282"},"6-1":{title:"\u513F\u7AE5\u8282"},"9-10":{title:"\u6559\u5E08\u8282"},"10-1":{title:"\u56FD\u5E86\u8282"},"12-25":{title:"\u5723\u8BDE\u8282"},"3-8":{title:"\u5987\u5973\u8282"},"3-12":{title:"\u690D\u6811\u8282"},"4-1":{title:"\u611A\u4EBA\u8282"},"5-12":{title:"\u62A4\u58EB\u8282"},"7-1":{title:"\u5EFA\u515A\u8282"},"8-1":{title:"\u5EFA\u519B\u8282"},"12-24":{title:"\u5E73\u5B89\u591C"}},lFestival:{"12-30":{title:"\u9664\u5915"},"1-1":{title:"\u6625\u8282"},"1-15":{title:"\u5143\u5BB5\u8282"},"2-2":{title:"\u9F99\u62AC\u5934"},"5-5":{title:"\u7AEF\u5348\u8282"},"7-7":{title:"\u4E03\u5915\u8282"},"7-15":{title:"\u4E2D\u5143\u8282"},"8-15":{title:"\u4E2D\u79CB\u8282"},"9-9":{title:"\u91CD\u9633\u8282"},"10-1":{title:"\u5BD2\u8863\u8282"},"10-15":{title:"\u4E0B\u5143\u8282"},"12-8":{title:"\u814A\u516B\u8282"},"12-23":{title:"\u5317\u65B9\u5C0F\u5E74"},"12-24":{title:"\u5357\u65B9\u5C0F\u5E74"}},getFestival(){return this.festival},getLunarFestival(){return this.lFestival},setFestival(e={}){this.festival=e},setLunarFestival(e={}){this.lFestival=e},solarTerm:["\u5C0F\u5BD2","\u5927\u5BD2","\u7ACB\u6625","\u96E8\u6C34","\u60CA\u86F0","\u6625\u5206","\u6E05\u660E","\u8C37\u96E8","\u7ACB\u590F","\u5C0F\u6EE1","\u8292\u79CD","\u590F\u81F3","\u5C0F\u6691","\u5927\u6691","\u7ACB\u79CB","\u5904\u6691","\u767D\u9732","\u79CB\u5206","\u5BD2\u9732","\u971C\u964D","\u7ACB\u51AC","\u5C0F\u96EA","\u5927\u96EA","\u51AC\u81F3"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341"],nStr2:["\u521D","\u5341","\u5EFF","\u5345"],nStr3:["\u6B63","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u51AC","\u814A"],lYearDays:function(e){let t,a=348;for(t=32768;t>8;t>>=1)a+=this.lunarInfo[e-1900]&t?1:0;return a+this.leapDays(e)},leapMonth:function(e){return this.lunarInfo[e-1900]&15},leapDays:function(e){return this.leapMonth(e)?this.lunarInfo[e-1900]&65536?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:this.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;const a=t-1;return a===1?e%4===0&&e%100!==0||e%400===0?29:28:this.solarMonth[a]},toGanZhiYear:function(e){let t=(e-3)%10,a=(e-3)%12;return t===0&&(t=10),a===0&&(a=12),this.Gan[t-1]+this.Zhi[a-1]},toAstro:function(e,t){const a="\u9B54\u7FAF\u6C34\u74F6\u53CC\u9C7C\u767D\u7F8A\u91D1\u725B\u53CC\u5B50\u5DE8\u87F9\u72EE\u5B50\u5904\u5973\u5929\u79E4\u5929\u874E\u5C04\u624B\u9B54\u7FAF",b=[20,19,21,21,21,22,23,23,23,23,22,22];return a.substr(e*2-(t<b[e-1]?2:0),2)+"\u5EA7"},toGanZhi:function(e){return this.Gan[e%10]+this.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100||t<1||t>24)return-1;const a=this.sTermInfo[e-1900],b=[parseInt("0x"+a.substr(0,5)).toString(),parseInt("0x"+a.substr(5,5)).toString(),parseInt("0x"+a.substr(10,5)).toString(),parseInt("0x"+a.substr(15,5)).toString(),parseInt("0x"+a.substr(20,5)).toString(),parseInt("0x"+a.substr(25,5)).toString()],s=[b[0].substr(0,1),b[0].substr(1,2),b[0].substr(3,1),b[0].substr(4,2),b[1].substr(0,1),b[1].substr(1,2),b[1].substr(3,1),b[1].substr(4,2),b[2].substr(0,1),b[2].substr(1,2),b[2].substr(3,1),b[2].substr(4,2),b[3].substr(0,1),b[3].substr(1,2),b[3].substr(3,1),b[3].substr(4,2),b[4].substr(0,1),b[4].substr(1,2),b[4].substr(3,1),b[4].substr(4,2),b[5].substr(0,1),b[5].substr(1,2),b[5].substr(3,1),b[5].substr(4,2)];return parseInt(s[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;let t=this.nStr3[e-1];return t+="\u6708",t},toChinaDay:function(e){let t;switch(e){case 10:t="\u521D\u5341";break;case 20:t="\u4E8C\u5341";break;case 30:t="\u4E09\u5341";break;default:t=this.nStr2[Math.floor(e/10)],t+=this.nStr1[e%10]}return t},getAnimal:function(e){return this.Animals[(e-4)%12]},solar2lunar:function(e,t,a){let b=parseInt(e),s=parseInt(t),i=parseInt(a);if(b<1900||b>2100||b===1900&&s===1&&i<31)return-1;let m;b?m=new Date(b,parseInt(s.toString())-1,i):m=new Date;let n,p=0,y=0;b=m.getFullYear(),s=m.getMonth()+1,i=m.getDate();let D=(Date.UTC(m.getFullYear(),m.getMonth(),m.getDate())-Date.UTC(1900,0,31))/864e5;for(n=1900;n<2101&&D>0;n++)y=this.lYearDays(n),D-=y;D<0&&(D+=y,n--);const g=new Date;let M=!1;g.getFullYear()===b&&g.getMonth()+1===s&&g.getDate()===i&&(M=!0);let k=m.getDay();const S=this.nStr1[k];k===0&&(k=7);const A=n;p=this.leapMonth(n);let v=!1;for(n=1;n<13&&D>0;n++)p>0&&n===p+1&&v===!1?(--n,v=!0,y=this.leapDays(A)):y=this.monthDays(A,n),v===!0&&n===p+1&&(v=!1),D-=y;D===0&&p>0&&n===p+1&&(v?v=!1:(v=!0,--n)),D<0&&(D+=y,--n);const r=n,l=D+1,d=s-1,f=this.toGanZhiYear(A),c=this.getTerm(b,s*2-1),u=this.getTerm(b,s*2);let h=this.toGanZhi((b-1900)*12+s+11);i>=c&&(h=this.toGanZhi((b-1900)*12+s+12));let C=!1,w;c===i&&(C=!0,w=this.solarTerm[s*2-2]),u===i&&(C=!0,w=this.solarTerm[s*2-1]);const T=Date.UTC(b,d,1,0,0,0,0)/864e5+25567+10,_=this.toGanZhi(T+i-1),j=this.toAstro(s,i),I=b+"-"+s+"-"+i,z=A+"-"+r+"-"+l,G=this.festival,ee=this.lFestival,te=s+"-"+i,be=r+"-"+l;return{date:I,lunarDate:z,festival:G[te]?G[te].title:null,lunarFestival:ee[be]?ee[be].title:null,lYear:A,lMonth:r,lDay:l,Animal:this.getAnimal(A),IMonthCn:(v?"\u95F0":"")+this.toChinaMonth(r),IDayCn:this.toChinaDay(l),cYear:b,cMonth:s,cDay:i,gzYear:f,gzMonth:h,gzDay:_,isToday:M,isLeap:v,nWeek:k,ncWeek:"\u661F\u671F"+S,isTerm:C,Term:w,astro:j}},lunar2solar:function(e,t,a,b){e=parseInt(e),t=parseInt(t),a=parseInt(a),b=!!b;const s=this.leapMonth(e);if(b&&s!==t||e===2100&&t===12&&a>1||e===1900&&t===1&&a<31)return-1;const i=this.monthDays(e,t);let m=i;if(b&&(m=this.leapDays(e)),e<1900||e>2100||a>m)return-1;let n=0,p;for(p=1900;p<e;p++)n+=this.lYearDays(p);let y=0,D=!1;for(p=1;p<t;p++)y=this.leapMonth(e),D||y<=p&&y>0&&(n+=this.leapDays(e),D=!0),n+=this.monthDays(e,p);b&&(n+=i);const g=Date.UTC(1900,1,30,0,0,0),M=new Date((n+a-31)*864e5+g),k=M.getUTCFullYear(),S=M.getUTCMonth()+1,A=M.getUTCDate();return this.solar2lunar(k,S,A)}};function Ke(e){return Ue.solar2lunar(e.split("-")[0],e.split("-")[1],e.split("-")[2])}export{He as E,Ke as s};
