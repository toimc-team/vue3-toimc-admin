var En=Object.defineProperty,Nn=Object.defineProperties;var wn=Object.getOwnPropertyDescriptors;var Re=Object.getOwnPropertySymbols;var Tn=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable;var qe=(e,n,a)=>n in e?En(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,oe=(e,n)=>{for(var a in n||(n={}))Tn.call(n,a)&&qe(e,a,n[a]);if(Re)for(var a of Re(n))Vn.call(n,a)&&qe(e,a,n[a]);return e},ve=(e,n)=>Nn(e,wn(n));import{e as le,am as Pn,o as k,c as M,a as Z,z as te,ah as De,v as Te,an as Je,ao as Qe,aj as ke,A as g,B as fe,r as w,F as q,j as K,a7 as ge,w as P,b as B,C as E,H as re,ap as Ye,aq as Ve,g as H,ar as Sn,G as ue,k as _e,t as X,as as xe,at as Le,au as Ue,av as Dn,aw as je,ax as me,ay as Ln,az as Mn,aA as ce,aB as he,aC as In,h as He,N as J,aD as Hn,a1 as en,aE as An,aF as ie,a9 as nn,aG as Bn,a4 as j,aH as be,aI as an,I as tn,aJ as zn,aK as Fn,y as On,aL as Kn,aM as Rn,aN as qn,aO as Un,aP as jn,aQ as Gn,aR as ln,aS as Wn,aT as sn,aU as Zn,aV as Xn,aW as Jn,aX as Qn,aY as Yn,aZ as _n,a_ as xn,a5 as de,a$ as ea,b0 as na,O as aa,a6 as Ne,S as we,b1 as on,l as ta,b2 as la}from"./index.2df1a13d.js";import{E as rn,a as sa}from"./el-checkbox.32c0f1bc.js";import{E as oa}from"./index2.d30758d7.js";import{c as dn}from"./check.e2a2fa8f.js";import{u as Ge,b as We}from"./index2.f47abd64.js";const ra=le({name:"Search"}),ia={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},da=Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),ua=[da];function ca(e,n,a,l,t,i){return k(),M("svg",ia,ua)}var ha=Pn(ra,[["render",ca]]),pa=le({name:"NodeContent",setup(){return{ns:te("cascader-node")}},render(){const{ns:e}=this,{node:n,panel:a}=this.$parent,{data:l,label:t}=n,{renderLabelFn:i}=a;return De("span",{class:e.e("label")},i?i({node:n,data:l}):t)}});const Ae=Symbol(),fa=le({name:"ElCascaderNode",components:{ElCheckbox:rn,ElRadio:oa,NodeContent:pa,ElIcon:Te,Check:dn,Loading:Je,ArrowRight:Qe},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:n}){const a=ke(Ae),l=te("cascader-node"),t=g(()=>a.isHoverMenu),i=g(()=>a.config.multiple),r=g(()=>a.config.checkStrictly),d=g(()=>{var C;return(C=a.checkedNodes[0])==null?void 0:C.uid}),v=g(()=>e.node.isDisabled),p=g(()=>e.node.isLeaf),h=g(()=>r.value&&!p.value||!v.value),T=g(()=>m(a.expandingNode)),u=g(()=>r.value&&a.checkedNodes.some(m)),m=C=>{var F;const{level:_,uid:se}=e.node;return((F=C==null?void 0:C.pathNodes[_-1])==null?void 0:F.uid)===se},b=()=>{T.value||a.expandNode(e.node)},S=C=>{const{node:F}=e;C!==F.checked&&a.handleCheckChange(F,C)},o=()=>{a.lazyLoad(e.node,()=>{p.value||b()})},D=C=>{!t.value||(z(),!p.value&&n("expand",C))},z=()=>{const{node:C}=e;!h.value||C.loading||(C.loaded?b():o())},R=()=>{t.value&&!p.value||(p.value&&!v.value&&!r.value&&!i.value?U(!0):z())},W=C=>{r.value?(S(C),e.node.loaded&&b()):U(C)},U=C=>{e.node.loaded?(S(C),!r.value&&b()):o()};return{panel:a,isHoverMenu:t,multiple:i,checkStrictly:r,checkedNodeId:d,isDisabled:v,isLeaf:p,expandable:h,inExpandingPath:T,inCheckedPath:u,ns:l,handleHoverExpand:D,handleExpand:z,handleClick:R,handleCheck:U,handleSelectCheck:W}}}),va=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],ga=Z("span",null,null,-1);function ma(e,n,a,l,t,i){const r=w("el-checkbox"),d=w("el-radio"),v=w("check"),p=w("el-icon"),h=w("node-content"),T=w("loading"),u=w("arrow-right");return k(),M("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:E([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...m)=>e.handleHoverExpand&&e.handleHoverExpand(...m)),onFocus:n[3]||(n[3]=(...m)=>e.handleHoverExpand&&e.handleHoverExpand(...m)),onClick:n[4]||(n[4]=(...m)=>e.handleClick&&e.handleClick(...m))},[q(" prefix "),e.multiple?(k(),K(r,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:n[0]||(n[0]=ge(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(k(),K(d,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:n[1]||(n[1]=ge(()=>{},["stop"]))},{default:P(()=>[q(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ga]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(k(),K(p,{key:2,class:E(e.ns.e("prefix"))},{default:P(()=>[B(v)]),_:1},8,["class"])):q("v-if",!0),q(" content "),B(h),q(" postfix "),e.isLeaf?q("v-if",!0):(k(),M(re,{key:3},[e.node.loading?(k(),K(p,{key:0,class:E([e.ns.is("loading"),e.ns.e("postfix")])},{default:P(()=>[B(T)]),_:1},8,["class"])):(k(),K(p,{key:1,class:E(["arrow-right",e.ns.e("postfix")])},{default:P(()=>[B(u)]),_:1},8,["class"]))],2112))],42,va)}var ka=fe(fa,[["render",ma],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Ca=le({name:"ElCascaderMenu",components:{Loading:Je,ElIcon:Te,ElScrollbar:Ye,ElCascaderNode:ka},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const n=xe(),a=te("cascader-menu"),{t:l}=Ve(),t=Sn();let i=null,r=null;const d=ke(Ae),v=H(null),p=g(()=>!e.nodes.length),h=g(()=>!d.initialLoaded),T=g(()=>`cascader-menu-${t}-${e.index}`),u=o=>{i=o.target},m=o=>{if(!(!d.isHoverMenu||!i||!v.value))if(i.contains(o.target)){b();const D=n.vnode.el,{left:z}=D.getBoundingClientRect(),{offsetWidth:R,offsetHeight:W}=D,U=o.clientX-z,C=i.offsetTop,F=C+i.offsetHeight;v.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${U} ${C} L${R} 0 V${C} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${U} ${F} L${R} ${W} V${F} Z" />
        `}else r||(r=window.setTimeout(S,d.config.hoverThreshold))},b=()=>{!r||(clearTimeout(r),r=null)},S=()=>{!v.value||(v.value.innerHTML="",b())};return{ns:a,panel:d,hoverZone:v,isEmpty:p,isLoading:h,menuId:T,t:l,handleExpand:u,handleMouseMove:m,clearHoverZone:S}}});function ba(e,n,a,l,t,i){const r=w("el-cascader-node"),d=w("loading"),v=w("el-icon"),p=w("el-scrollbar");return k(),K(p,{key:e.menuId,tag:"ul",role:"menu",class:E(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:P(()=>{var h;return[(k(!0),M(re,null,ue(e.nodes,T=>(k(),K(r,{key:T.uid,node:T,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(k(),M("div",{key:0,class:E(e.ns.e("empty-text"))},[B(v,{size:"14",class:E(e.ns.is("loading"))},{default:P(()=>[B(d)]),_:1},8,["class"]),_e(" "+X(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(k(),M("div",{key:1,class:E(e.ns.e("empty-text"))},X(e.t("el.cascader.noData")),3)):(h=e.panel)!=null&&h.isHoverMenu?(k(),M("svg",{key:2,ref:"hoverZone",class:E(e.ns.e("hover-zone"))},null,2)):q("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ya=fe(Ca,[["render",ba],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),Be=(e=>(e.CLICK="click",e.HOVER="hover",e))(Be||{});let $a=0;const Ea=e=>{const n=[e];let{parent:a}=e;for(;a;)n.unshift(a),a=a.parent;return n};class pe{constructor(n,a,l,t=!1){this.data=n,this.config=a,this.parent=l,this.root=t,this.uid=$a++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:r,children:d}=a,v=n[d],p=Ea(this);this.level=t?0:l?l.level+1:1,this.value=n[i],this.label=n[r],this.pathNodes=p,this.pathValues=p.map(h=>h.value),this.pathLabels=p.map(h=>h.label),this.childrenData=v,this.children=(v||[]).map(h=>new pe(h,a,this)),this.loaded=!a.lazy||this.isLeaf||!Le(v)}get isDisabled(){const{data:n,parent:a,config:l}=this,{disabled:t,checkStrictly:i}=l;return(Ue(t)?t(n,this):!!n[t])||!i&&(a==null?void 0:a.isDisabled)}get isLeaf(){const{data:n,config:a,childrenData:l,loaded:t}=this,{lazy:i,leaf:r}=a,d=Ue(r)?r(n,this):n[r];return Dn(d)?i&&!t?!1:!(Array.isArray(l)&&l.length):!!d}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:a,children:l}=this,t=new pe(n,this.config,this);return Array.isArray(a)?a.push(n):this.childrenData=[n],l.push(t),t}calcText(n,a){const l=n?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(n,...a){const l=`onParent${je(n)}`;this.children.forEach(t=>{t&&(t.broadcast(n,...a),t[l]&&t[l](...a))})}emit(n,...a){const{parent:l}=this,t=`onChild${je(n)}`;l&&(l[t]&&l[t](...a),l.emit(n,...a))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,a=n.filter(t=>!t.isDisabled),l=a.length?a.every(t=>t.checked):!1;this.setCheckState(l)}setCheckState(n){const a=this.children.length,l=this.children.reduce((t,i)=>{const r=i.checked?1:i.indeterminate?.5:0;return t+r},0);this.checked=this.loaded&&this.children.filter(t=>!t.isDisabled).every(t=>t.loaded&&t.checked)&&n,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}}const Me=(e,n)=>e.reduce((a,l)=>(l.isLeaf?a.push(l):(!n&&a.push(l),a=a.concat(Me(l.children,n))),a),[]);class Ze{constructor(n,a){this.config=a;const l=(n||[]).map(t=>new pe(t,this.config));this.nodes=l,this.allNodes=Me(l,!1),this.leafNodes=Me(l,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,a){const l=a?a.appendChild(n):new pe(n,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(n,a){n.forEach(l=>this.appendNode(l,a))}getNodeByValue(n,a=!1){return!n&&n!==0?null:this.getFlattedNodes(a).find(t=>me(t.value,n)||me(t.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:l,level:t})=>me(n.value,l)&&n.level===t)||null}}const un={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Na={expandTrigger:Be.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Ln,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},wa=e=>g(()=>oe(oe({},Na),e.props)),Xe=e=>{if(!e)return 0;const n=e.id.split("-");return Number(n[n.length-2])},Ta=e=>{if(!e)return;const n=e.querySelector("input");n?n.click():Mn(e)&&e.click()},Va=(e,n)=>{const a=n.slice(0),l=a.map(i=>i.uid),t=e.reduce((i,r)=>{const d=l.indexOf(r.uid);return d>-1&&(i.push(r),a.splice(d,1),l.splice(d,1)),i},[]);return t.push(...a),t},Pa=le({name:"ElCascaderPanel",components:{ElCascaderMenu:ya},props:ve(oe({},un),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[ce,he,"close","expand-change"],setup(e,{emit:n,slots:a}){let l=!1;const t=te("cascader"),i=wa(e);let r=null;const d=H(!0),v=H([]),p=H(null),h=H([]),T=H(null),u=H([]),m=g(()=>i.value.expandTrigger===Be.HOVER),b=g(()=>e.renderLabel||a.default),S=()=>{const{options:f}=e,y=i.value;l=!1,r=new Ze(f,y),h.value=[r.getNodes()],y.lazy&&Le(e.options)?(d.value=!1,o(void 0,$=>{$&&(r=new Ze($,y),h.value=[r.getNodes()]),d.value=!0,_(!1,!0)})):_(!1,!0)},o=(f,y)=>{const $=i.value;f=f||new pe({},$,void 0,!0),f.loading=!0;const L=V=>{const I=f,Q=I.root?null:I;V&&(r==null||r.appendNodes(V,Q)),I.loading=!1,I.loaded=!0,I.childrenData=I.childrenData||[],y&&y(V)};$.lazyLoad(f,L)},D=(f,y)=>{var $;const{level:L}=f,V=h.value.slice(0,L);let I;f.isLeaf?I=f.pathNodes[L-2]:(I=f,V.push(f.children)),(($=T.value)==null?void 0:$.uid)!==(I==null?void 0:I.uid)&&(T.value=f,h.value=V,!y&&n("expand-change",(f==null?void 0:f.pathValues)||[]))},z=(f,y,$=!0)=>{const{checkStrictly:L,multiple:V}=i.value,I=u.value[0];l=!0,!V&&(I==null||I.doCheck(!1)),f.doCheck(y),F(),$&&!V&&!L&&n("close"),!$&&!V&&!L&&R(f)},R=f=>{!f||(f=f.parent,R(f),f&&D(f))},W=f=>r==null?void 0:r.getFlattedNodes(f),U=f=>{var y;return(y=W(f))==null?void 0:y.filter($=>$.checked!==!1)},C=()=>{u.value.forEach(f=>f.doCheck(!1)),F()},F=()=>{var f;const{checkStrictly:y,multiple:$}=i.value,L=u.value,V=U(!y),I=Va(L,V),Q=I.map(A=>A.valueByOption);u.value=I,p.value=$?Q:(f=Q[0])!=null?f:null},_=(f=!1,y=!1)=>{const{modelValue:$}=e,{lazy:L,multiple:V,checkStrictly:I}=i.value,Q=!I;if(!(!d.value||l||!y&&me($,p.value)))if(L&&!f){const x=Ge(An(We($))).map(G=>r==null?void 0:r.getNodeByValue(G)).filter(G=>!!G&&!G.loaded&&!G.loading);x.length?x.forEach(G=>{o(G,()=>_(!1,y))}):_(!0,y)}else{const A=V?We($):[$],x=Ge(A.map(G=>r==null?void 0:r.getNodeByValue(G,Q)));se(x,!1),p.value=$}},se=(f,y)=>{const{checkStrictly:$}=i.value,L=u.value,V=f.filter(A=>!!A&&($||A.isLeaf)),I=r==null?void 0:r.getSameNode(T.value),Q=y&&I||V[0];Q?Q.pathNodes.forEach(A=>D(A,!0)):T.value=null,L.forEach(A=>A.doCheck(!1)),V.forEach(A=>A.doCheck(!0)),u.value=V,ie(Ce)},Ce=()=>{!nn||v.value.forEach(f=>{const y=f==null?void 0:f.$el;if(y){const $=y.querySelector(`.${t.namespace.value}-scrollbar__wrap`),L=y.querySelector(`.${t.b("node")}.${t.is("active")}`)||y.querySelector(`.${t.b("node")}.in-active-path`);Bn($,L)}})},ne=f=>{const y=f.target,{code:$}=f;switch($){case j.up:case j.down:{f.preventDefault();const L=$===j.up?-1:1;be(an(y,L,`.${t.b("node")}[tabindex="-1"]`));break}case j.left:{f.preventDefault();const L=v.value[Xe(y)-1],V=L==null?void 0:L.$el.querySelector(`.${t.b("node")}[aria-expanded="true"]`);be(V);break}case j.right:{f.preventDefault();const L=v.value[Xe(y)+1],V=L==null?void 0:L.$el.querySelector(`.${t.b("node")}[tabindex="-1"]`);be(V);break}case j.enter:Ta(y);break}};return In(Ae,He({config:i,expandingNode:T,checkedNodes:u,isHoverMenu:m,initialLoaded:d,renderLabelFn:b,lazyLoad:o,expandNode:D,handleCheckChange:z})),J([i,()=>e.options],S,{deep:!0,immediate:!0}),J(()=>e.modelValue,()=>{l=!1,_()}),J(p,f=>{me(f,e.modelValue)||(n(ce,f),n(he,f))}),Hn(()=>v.value=[]),en(()=>!Le(e.modelValue)&&_()),{ns:t,menuList:v,menus:h,checkedNodes:u,handleKeyDown:ne,handleCheckChange:z,getFlattedNodes:W,getCheckedNodes:U,clearCheckedNodes:C,calculateCheckedValue:F,scrollToExpandingNode:Ce}}});function Sa(e,n,a,l,t,i){const r=w("el-cascader-menu");return k(),M("div",{class:E([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:n[0]||(n[0]=(...d)=>e.handleKeyDown&&e.handleKeyDown(...d))},[(k(!0),M(re,null,ue(e.menus,(d,v)=>(k(),K(r,{key:v,ref_for:!0,ref:p=>e.menuList[v]=p,index:v,nodes:[...d]},null,8,["index","nodes"]))),128))],34)}var ye=fe(Pa,[["render",Sa],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);ye.install=e=>{e.component(ye.name,ye)};const Da=ye,La=40,Ma={large:36,default:32,small:28},Ia={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:n,placement:a}=e;["right","left","bottom","top"].includes(a)||(n.arrow.x=35)},requires:["arrow"]}]},Ha="ElCascader",Aa=le({name:Ha,components:{ElCascaderPanel:Da,ElInput:tn,ElTooltip:zn,ElScrollbar:Ye,ElTag:Fn,ElIcon:Te,CircleClose:On,Check:dn,ArrowDown:Kn},directives:{Clickoutside:Rn},props:ve(oe({},un),{size:{type:String,validator:qn},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,n)=>e.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Un.teleported,tagType:ve(oe({},jn.type),{default:"info"})}),emits:[ce,he,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:n}){let a=0,l=0;const t=te("cascader"),i=te("input"),{t:r}=Ve(),d=ke(Gn,{}),v=ke(ln,{}),p=H(null),h=H(null),T=H(null),u=H(null),m=H(null),b=H(!1),S=H(!1),o=H(!1),D=H(""),z=H(""),R=H([]),W=H([]),U=H([]),C=H(!1),F=g(()=>e.disabled||d.disabled),_=g(()=>e.placeholder||r("el.cascader.placeholder")),se=Wn(),Ce=g(()=>["small"].includes(se.value)?"small":"default"),ne=g(()=>!!e.props.multiple),f=g(()=>!e.filterable||ne.value),y=g(()=>ne.value?z.value:D.value),$=g(()=>{var s;return((s=u.value)==null?void 0:s.checkedNodes)||[]}),L=g(()=>!e.clearable||F.value||o.value||!S.value?!1:!!$.value.length),V=g(()=>{const{showAllLevels:s,separator:c}=e,N=$.value;return N.length?ne.value?" ":N[0].calcText(s,c):""}),I=g({get(){return e.modelValue},set(s){var c;n(ce,s),n(he,s),(c=v.validate)==null||c.call(v,"change").catch(N=>sn())}}),Q=g(()=>{var s,c;return(c=(s=p.value)==null?void 0:s.popperRef)==null?void 0:c.contentRef}),A=s=>{var c,N,O;if(!F.value&&(s=s!=null?s:!b.value,s!==b.value)){if(b.value=s,(N=(c=h.value)==null?void 0:c.input)==null||N.setAttribute("aria-expanded",`${s}`),s)x(),ie((O=u.value)==null?void 0:O.scrollToExpandingNode);else if(e.filterable){const{value:ee}=V;D.value=ee,z.value=ee}n("visible-change",s)}},x=()=>{ie(()=>{var s;(s=p.value)==null||s.updatePopper()})},G=()=>{o.value=!1},Pe=s=>{const{showAllLevels:c,separator:N}=e;return{node:s,key:s.uid,text:s.calcText(c,N),hitState:!1,closable:!F.value&&!s.isDisabled,isCollapseTag:!1}},ze=s=>{var c;const N=s.node;N.doCheck(!1),(c=u.value)==null||c.calculateCheckedValue(),n("remove-tag",N.valueByOption)},pn=()=>{if(!ne.value)return;const s=$.value,c=[],N=[];if(s.forEach(O=>N.push(Pe(O))),W.value=N,s.length){const[O,...ee]=s,ae=ee.length;c.push(Pe(O)),ae&&(e.collapseTags?c.push({key:-1,text:`+ ${ae}`,closable:!1,isCollapseTag:!0}):ee.forEach(Y=>c.push(Pe(Y))))}R.value=c},Fe=()=>{var s,c;const{filterMethod:N,showAllLevels:O,separator:ee}=e,ae=(c=(s=u.value)==null?void 0:s.getFlattedNodes(!e.props.checkStrictly))==null?void 0:c.filter(Y=>Y.isDisabled?!1:(Y.calcText(O,ee),N(Y,y.value)));ne.value&&(R.value.forEach(Y=>{Y.hitState=!1}),W.value.forEach(Y=>{Y.hitState=!1})),o.value=!0,U.value=ae,x()},Oe=()=>{var s;let c;o.value&&m.value?c=m.value.$el.querySelector(`.${t.e("suggestion-item")}`):c=(s=u.value)==null?void 0:s.$el.querySelector(`.${t.b("node")}[tabindex="-1"]`),c&&(c.focus(),!o.value&&c.click())},Se=()=>{var s,c;const N=(s=h.value)==null?void 0:s.input,O=T.value,ee=(c=m.value)==null?void 0:c.$el;if(!(!nn||!N)){if(ee){const ae=ee.querySelector(`.${t.e("suggestion-list")}`);ae.style.minWidth=`${N.offsetWidth}px`}if(O){const{offsetHeight:ae}=O,Y=R.value.length>0?`${Math.max(ae+6,a)}px`:`${a}px`;N.style.height=Y,x()}}},fn=s=>{var c;return(c=u.value)==null?void 0:c.getCheckedNodes(s)},vn=s=>{x(),n("expand-change",s)},gn=s=>{var c;const N=(c=s.target)==null?void 0:c.value;if(s.type==="compositionend")C.value=!1,ie(()=>Ke(N));else{const O=N[N.length-1]||"";C.value=!_n(O)}},mn=s=>{if(!C.value)switch(s.code){case j.enter:A();break;case j.down:A(!0),ie(Oe),s.preventDefault();break;case j.esc:b.value===!0&&(s.preventDefault(),s.stopPropagation(),A(!1));break;case j.tab:A(!1);break}},kn=()=>{var s;(s=u.value)==null||s.clearCheckedNodes(),A(!1)},Cn=s=>{var c,N;const{checked:O}=s;ne.value?(c=u.value)==null||c.handleCheckChange(s,!O,!1):(!O&&((N=u.value)==null||N.handleCheckChange(s,!0,!1)),A(!1))},bn=s=>{const c=s.target,{code:N}=s;switch(N){case j.up:case j.down:{const O=N===j.up?-1:1;be(an(c,O,`.${t.e("suggestion-item")}[tabindex="-1"]`));break}case j.enter:c.click();break}},yn=()=>{const s=R.value,c=s[s.length-1];l=z.value?0:l+1,!(!c||!l)&&(c.hitState?ze(c):c.hitState=!0)},$n=Zn(()=>{const{value:s}=y;if(!s)return;const c=e.beforeFilter(s);Xn(c)?c.then(Fe).catch(()=>{}):c!==!1?Fe():G()},e.debounce),Ke=(s,c)=>{!b.value&&A(!0),!(c!=null&&c.isComposing)&&(s?$n():G())};return J(o,x),J([$,F],pn),J(R,()=>{ie(()=>Se())}),J(V,s=>D.value=s,{immediate:!0}),en(()=>{var s;const c=(s=h.value)==null?void 0:s.$el;a=(c==null?void 0:c.offsetHeight)||Ma[se.value]||La,Jn(c,Se)}),Qn(()=>{var s;Yn((s=h.value)==null?void 0:s.$el,Se)}),{popperOptions:Ia,tooltipRef:p,popperPaneRef:Q,input:h,tagWrapper:T,panel:u,suggestionPanel:m,popperVisible:b,inputHover:S,inputPlaceholder:_,filtering:o,presentText:V,checkedValue:I,inputValue:D,searchInputValue:z,presentTags:R,allPresentTags:W,suggestions:U,isDisabled:F,isOnComposition:C,realSize:se,tagSize:Ce,multiple:ne,readonly:f,clearBtnVisible:L,nsCascader:t,nsInput:i,t:r,togglePopperVisible:A,hideSuggestionPanel:G,deleteTag:ze,focusFirstNode:Oe,getCheckedNodes:fn,handleExpandChange:vn,handleKeyDown:mn,handleComposition:gn,handleClear:kn,handleSuggestionClick:Cn,handleSuggestionKeyDown:bn,handleDelete:yn,handleInput:Ke}}}),Ba={key:0},za={class:"el-cascader__collapse-tags"},Fa=["placeholder"],Oa=["onClick"];function Ka(e,n,a,l,t,i){const r=w("circle-close"),d=w("el-icon"),v=w("arrow-down"),p=w("el-input"),h=w("el-tag"),T=w("el-tooltip"),u=w("el-cascader-panel"),m=w("check"),b=w("el-scrollbar"),S=xn("clickoutside");return k(),K(T,{ref:"tooltipRef",visible:e.popperVisible,"onUpdate:visible":n[17]||(n[17]=o=>e.popperVisible=o),teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:P(()=>[de((k(),M("div",{class:E([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:aa(e.$attrs.style),onClick:n[11]||(n[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:n[12]||(n[12]=(...o)=>e.handleKeyDown&&e.handleKeyDown(...o)),onMouseenter:n[13]||(n[13]=o=>e.inputHover=!0),onMouseleave:n[14]||(n[14]=o=>e.inputHover=!1)},[B(p,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":n[1]||(n[1]=o=>e.inputValue=o),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:E(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:n[2]||(n[2]=o=>e.$emit("focus",o)),onBlur:n[3]||(n[3]=o=>e.$emit("blur",o)),onInput:e.handleInput},{suffix:P(()=>[e.clearBtnVisible?(k(),K(d,{key:"clear",class:E([e.nsInput.e("icon"),"icon-circle-close"]),onClick:ge(e.handleClear,["stop"])},{default:P(()=>[B(r)]),_:1},8,["class","onClick"])):(k(),K(d,{key:"arrow-down",class:E([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:n[0]||(n[0]=ge(o=>e.togglePopperVisible(),["stop"]))},{default:P(()=>[B(v)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(k(),M("div",{key:0,ref:"tagWrapper",class:E(e.nsCascader.e("tags"))},[(k(!0),M(re,null,ue(e.presentTags,o=>(k(),K(h,{key:o.key,type:e.tagType,size:e.tagSize,hit:o.hitState,closable:o.closable,"disable-transitions":"",onClose:D=>e.deleteTag(o)},{default:P(()=>[o.isCollapseTag===!1?(k(),M("span",Ba,X(o.text),1)):(k(),K(T,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:P(()=>[Z("span",null,X(o.text),1)]),content:P(()=>[Z("div",za,[(k(!0),M(re,null,ue(e.allPresentTags,(D,z)=>(k(),M("div",{key:z,class:"el-cascader__collapse-tag"},[(k(),K(h,{key:D.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:D.hitState,closable:D.closable,"disable-transitions":"",onClose:R=>e.deleteTag(D)},{default:P(()=>[Z("span",null,X(D.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))]))),128))])]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?de((k(),M("input",{key:0,"onUpdate:modelValue":n[4]||(n[4]=o=>e.searchInputValue=o),type:"text",class:E(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:n[5]||(n[5]=o=>e.handleInput(e.searchInputValue,o)),onClick:n[6]||(n[6]=ge(o=>e.togglePopperVisible(!0),["stop"])),onKeydown:n[7]||(n[7]=ea((...o)=>e.handleDelete&&e.handleDelete(...o),["delete"])),onCompositionstart:n[8]||(n[8]=(...o)=>e.handleComposition&&e.handleComposition(...o)),onCompositionupdate:n[9]||(n[9]=(...o)=>e.handleComposition&&e.handleComposition(...o)),onCompositionend:n[10]||(n[10]=(...o)=>e.handleComposition&&e.handleComposition(...o))},null,42,Fa)),[[na,e.searchInputValue]]):q("v-if",!0)],2)):q("v-if",!0)],38)),[[S,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:P(()=>[de(B(u,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":n[15]||(n[15]=o=>e.checkedValue=o),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:n[16]||(n[16]=o=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Ne,!e.filtering]]),e.filterable?de((k(),K(b,{key:0,ref:"suggestionPanel",tag:"ul",class:E(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:P(()=>[e.suggestions.length?(k(!0),M(re,{key:0},ue(e.suggestions,o=>(k(),M("li",{key:o.uid,class:E([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",o.checked)]),tabindex:-1,onClick:D=>e.handleSuggestionClick(o)},[Z("span",null,X(o.text),1),o.checked?(k(),K(d,{key:0},{default:P(()=>[B(m)]),_:1})):q("v-if",!0)],10,Oa))),128)):we(e.$slots,"empty",{key:1},()=>[Z("li",{class:E(e.nsCascader.e("empty-text"))},X(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Ne,e.filtering]]):q("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var $e=fe(Aa,[["render",Ka],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);$e.install=e=>{e.component($e.name,$e)};const Ra=$e,rt=Ra,Ie="checked-change",qa={data:{type:Array,default(){return[]}},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},Ua=(e,n)=>{const{emit:a}=xe(),l=g(()=>e.props.label||"label"),t=g(()=>e.props.key||"key"),i=g(()=>e.props.disabled||"disabled"),r=g(()=>e.data.filter(u=>typeof e.filterMethod=="function"?e.filterMethod(n.query,u):(u[l.value]||u[t.value].toString()).toLowerCase().includes(n.query.toLowerCase()))),d=g(()=>r.value.filter(u=>!u[i.value])),v=g(()=>{const u=n.checked.length,m=e.data.length,{noChecked:b,hasChecked:S}=e.format;return b&&S?u>0?S.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,m.toString()):b.replace(/\${total}/g,m.toString()):`${u}/${m}`}),p=g(()=>{const u=n.checked.length;return u>0&&u<d.value.length}),h=()=>{const u=d.value.map(m=>m[t.value]);n.allChecked=u.length>0&&u.every(m=>n.checked.includes(m))},T=u=>{n.checked=u?d.value.map(m=>m[t.value]):[]};return J(()=>n.checked,(u,m)=>{if(h(),n.checkChangeByUser){const b=u.concat(m).filter(S=>!u.includes(S)||!m.includes(S));a(Ie,u,b)}else a(Ie,u),n.checkChangeByUser=!0}),J(d,()=>{h()}),J(()=>e.data,()=>{const u=[],m=r.value.map(b=>b[t.value]);n.checked.forEach(b=>{m.includes(b)&&u.push(b)}),n.checkChangeByUser=!1,n.checked=u}),J(()=>e.defaultChecked,(u,m)=>{if(m&&u.length===m.length&&u.every(o=>m.includes(o)))return;const b=[],S=d.value.map(o=>o[t.value]);u.forEach(o=>{S.includes(o)&&b.push(o)}),n.checkChangeByUser=!1,n.checked=b},{immediate:!0}),{labelProp:l,keyProp:t,disabledProp:i,filteredData:r,checkableData:d,checkedSummary:v,isIndeterminate:p,updateAllChecked:h,handleAllCheckedChange:T}},ja=le({name:"ElTransferPanel",components:{ElCheckboxGroup:sa,ElCheckbox:rn,ElInput:tn,OptionContent:({option:e})=>e},props:qa,emits:[Ie],setup(e,{slots:n}){const{t:a}=Ve(),l=te("transfer"),t=He({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:i,keyProp:r,disabledProp:d,filteredData:v,checkedSummary:p,isIndeterminate:h,handleAllCheckedChange:T}=Ua(e,t),u=g(()=>t.query.length>0&&v.value.length===0),m=g(()=>!!n.default()[0].children.length),{checked:b,allChecked:S,query:o,inputHover:D,checkChangeByUser:z}=on(t);return{ns:l,labelProp:i,keyProp:r,disabledProp:d,filteredData:v,checkedSummary:p,isIndeterminate:h,handleAllCheckedChange:T,checked:b,allChecked:S,query:o,inputHover:D,checkChangeByUser:z,hasNoMatch:u,SearchIcon:ha,hasFooter:m,t:a}}});function Ga(e,n,a,l,t,i){const r=w("el-checkbox"),d=w("el-input"),v=w("option-content"),p=w("el-checkbox-group");return k(),M("div",{class:E(e.ns.b("panel"))},[Z("p",{class:E(e.ns.be("panel","header"))},[B(r,{modelValue:e.allChecked,"onUpdate:modelValue":n[0]||(n[0]=h=>e.allChecked=h),indeterminate:e.isIndeterminate,onChange:e.handleAllCheckedChange},{default:P(()=>[_e(X(e.title)+" ",1),Z("span",null,X(e.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Z("div",{class:E([e.ns.be("panel","body"),e.ns.is("with-footer",e.hasFooter)])},[e.filterable?(k(),K(d,{key:0,modelValue:e.query,"onUpdate:modelValue":n[1]||(n[1]=h=>e.query=h),class:E(e.ns.be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":e.SearchIcon,clearable:"",onMouseenter:n[2]||(n[2]=h=>e.inputHover=!0),onMouseleave:n[3]||(n[3]=h=>e.inputHover=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):q("v-if",!0),de(B(p,{modelValue:e.checked,"onUpdate:modelValue":n[4]||(n[4]=h=>e.checked=h),class:E([e.ns.is("filterable",e.filterable),e.ns.be("panel","list")])},{default:P(()=>[(k(!0),M(re,null,ue(e.filteredData,h=>(k(),K(r,{key:h[e.keyProp],class:E(e.ns.be("panel","item")),label:h[e.keyProp],disabled:h[e.disabledProp]},{default:P(()=>[B(v,{option:e.optionRender(h)},null,8,["option"])]),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Ne,!e.hasNoMatch&&e.data.length>0]]),de(Z("p",{class:E(e.ns.be("panel","empty"))},X(e.hasNoMatch?e.t("el.transfer.noMatch"):e.t("el.transfer.noData")),3),[[Ne,e.hasNoMatch||e.data.length===0]])],2),e.hasFooter?(k(),M("p",{key:0,class:E(e.ns.be("panel","footer"))},[we(e.$slots,"default")],2)):q("v-if",!0)],2)}var Wa=fe(ja,[["render",Ga],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Za=e=>{const n=g(()=>e.props.key),a=g(()=>e.data.reduce((i,r)=>(i[r[n.value]]=r)&&i,{})),l=g(()=>e.data.filter(i=>!e.modelValue.includes(i[n.value]))),t=g(()=>e.targetOrder==="original"?e.data.filter(i=>e.modelValue.includes(i[n.value])):e.modelValue.reduce((i,r)=>{const d=a.value[r];return d&&i.push(d),i},[]));return{propsKey:n,sourceData:l,targetData:t}},cn="left-check-change",hn="right-check-change",Xa=(e,n)=>({onSourceCheckedChange:(t,i)=>{e.leftChecked=t,i!==void 0&&n(cn,t,i)},onTargetCheckedChange:(t,i)=>{e.rightChecked=t,i!==void 0&&n(hn,t,i)}}),Ja=(e,n,a,l)=>{const t=(d,v,p)=>{l(ce,d),l(he,d,v,p)};return{addToLeft:()=>{const d=e.modelValue.slice();n.rightChecked.forEach(v=>{const p=d.indexOf(v);p>-1&&d.splice(p,1)}),t(d,"left",n.rightChecked)},addToRight:()=>{let d=e.modelValue.slice();const v=e.data.filter(p=>{const h=p[a.value];return n.leftChecked.includes(h)&&!e.modelValue.includes(h)}).map(p=>p[a.value]);d=e.targetOrder==="unshift"?v.concat(d):d.concat(v),e.targetOrder==="original"&&(d=e.data.filter(p=>d.includes(p[a.value])).map(p=>p[a.value])),t(d,"right",n.leftChecked)}}},Qa=le({name:"ElTransfer",components:{TransferPanel:Wa,ElButton:ta,ElIcon:Te,ArrowLeft:la,ArrowRight:Qe},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:e=>["original","push","unshift"].includes(e)}},emits:[ce,he,cn,hn],setup(e,{emit:n,slots:a}){const{t:l}=Ve(),t=te("transfer"),i=ke(ln,{}),r=He({leftChecked:[],rightChecked:[]}),{propsKey:d,sourceData:v,targetData:p}=Za(e),{onSourceCheckedChange:h,onTargetCheckedChange:T}=Xa(r,n),{addToLeft:u,addToRight:m}=Ja(e,r,d,n),b=H(),S=H(),o=C=>{switch(C){case"left":b.value.query="";break;case"right":S.value.query="";break}},D=g(()=>e.buttonTexts.length===2),z=g(()=>e.titles[0]||l("el.transfer.titles.0")),R=g(()=>e.titles[1]||l("el.transfer.titles.1")),W=g(()=>e.filterPlaceholder||l("el.transfer.filterPlaceholder"));J(()=>e.modelValue,()=>{var C;(C=i.validate)==null||C.call(i,"change").catch(F=>sn())});const U=g(()=>C=>e.renderContent?e.renderContent(De,C):a.default?a.default({option:C}):De("span",C[e.props.label]||C[e.props.key]));return ve(oe({ns:t,sourceData:v,targetData:p,onSourceCheckedChange:h,onTargetCheckedChange:T,addToLeft:u,addToRight:m},on(r)),{hasButtonTexts:D,leftPanelTitle:z,rightPanelTitle:R,panelFilterPlaceholder:W,clearQuery:o,leftPanel:b,rightPanel:S,optionRender:U})}}),Ya={key:0},_a={key:0};function xa(e,n,a,l,t,i){const r=w("transfer-panel"),d=w("arrow-left"),v=w("el-icon"),p=w("el-button"),h=w("arrow-right");return k(),M("div",{class:E(e.ns.b())},[B(r,{ref:"leftPanel",data:e.sourceData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,title:e.leftPanelTitle,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:e.props,onCheckedChange:e.onSourceCheckedChange},{default:P(()=>[we(e.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:E(e.ns.e("buttons"))},[B(p,{type:"primary",class:E([e.ns.e("button"),e.ns.is("with-texts",e.hasButtonTexts)]),disabled:e.rightChecked.length===0,onClick:e.addToLeft},{default:P(()=>[B(v,null,{default:P(()=>[B(d)]),_:1}),e.buttonTexts[0]!==void 0?(k(),M("span",Ya,X(e.buttonTexts[0]),1)):q("v-if",!0)]),_:1},8,["class","disabled","onClick"]),B(p,{type:"primary",class:E([e.ns.e("button"),e.ns.is("with-texts",e.hasButtonTexts)]),disabled:e.leftChecked.length===0,onClick:e.addToRight},{default:P(()=>[e.buttonTexts[1]!==void 0?(k(),M("span",_a,X(e.buttonTexts[1]),1)):q("v-if",!0),B(v,null,{default:P(()=>[B(h)]),_:1})]),_:1},8,["class","disabled","onClick"])],2),B(r,{ref:"rightPanel",data:e.targetData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:e.rightPanelTitle,"default-checked":e.rightDefaultChecked,props:e.props,onCheckedChange:e.onTargetCheckedChange},{default:P(()=>[we(e.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2)}var Ee=fe(Qa,[["render",xa],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/index.vue"]]);Ee.install=e=>{e.component(Ee.name,Ee)};const et=Ee,it=et;export{rt as E,it as a};
