var ua=Object.defineProperty,ia=Object.defineProperties;var ca=Object.getOwnPropertyDescriptors;var Tt=Object.getOwnPropertySymbols;var da=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Vt=(f,c,l)=>c in f?ua(f,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):f[c]=l,De=(f,c)=>{for(var l in c||(c={}))da.call(c,l)&&Vt(f,l,c[l]);if(Tt)for(var l of Tt(c))fa.call(c,l)&&Vt(f,l,c[l]);return f},qe=(f,c)=>ia(f,ca(c));import{d as W}from"./dayjs.min.5ea46fba.js";import{bw as at,s as ke,x as ce,z as pa,v as va,L as je,e as Ae,av as ze,A as _e,am as Le,aV as ma,aW as ha,g as j,R as Ve,aK as xe,aY as Ot,B as O,b4 as Se,aC as ba,y as ga,bx as ya,aX as ka,C as e,by as wa,aH as yt,o as _,j as ye,w as le,M as Qe,F as v,S as Yt,a9 as et,D as me,G as ft,H as fe,c as N,a as F,W as it,t as de,T as Et,aO as Da,a6 as ge,aZ as Sa,a3 as Ca,J as be,I as Ce,k as Ze,au as Pa,a7 as Re,b as A,bz as Ma,aQ as _a,aA as $a,aa as Ta,b2 as ot,bA as Bt,bB as Lt,b6 as zt,bC as Va,bt as rt,aR as kt,a8 as lt,bD as ct,bb as wt,at as pt,bE as dt,l as mt,az as Dt,ax as Kt,h as Oa}from"./index.58bcf13a.js";import{v as It,p as Rt,f as xt,m as ht,b as bt,d as Ya,r as Ht,e as Ut,a as Wt,l as Ia}from"./utils.43748c0b.js";import{v as At}from"./index.c279dd0e.js";const cl=f=>[...new Set(f)],tt=f=>!f&&f!==0?[]:Array.isArray(f)?f:[f],_t=Symbol();var jt={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,h=/\d\d/,m=/\d\d?/,D=/\d*[^-_:/,()\s\d]+/,P={},k=function(s){return(s=+s)+(s>68?1900:2e3)},w=function(s){return function(d){this[s]=+d}},Y=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(d){if(!d||d==="Z")return 0;var b=d.match(/([+-]|\d\d)/g),V=60*b[1]+(+b[2]||0);return V===0?0:b[0]==="+"?-V:V}(s)}],B=function(s){var d=P[s];return d&&(d.indexOf?d:d.s.concat(d.f))},M=function(s,d){var b,V=P.meridiem;if(V){for(var u=1;u<=24;u+=1)if(s.indexOf(V(u,0,d))>-1){b=u>12;break}}else b=s===(d?"pm":"PM");return b},p={A:[D,function(s){this.afternoon=M(s,!1)}],a:[D,function(s){this.afternoon=M(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[h,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[m,w("seconds")],ss:[m,w("seconds")],m:[m,w("minutes")],mm:[m,w("minutes")],H:[m,w("hours")],h:[m,w("hours")],HH:[m,w("hours")],hh:[m,w("hours")],D:[m,w("day")],DD:[h,w("day")],Do:[D,function(s){var d=P.ordinal,b=s.match(/\d+/);if(this.day=b[0],d)for(var V=1;V<=31;V+=1)d(V).replace(/\[|\]/g,"")===s&&(this.day=V)}],M:[m,w("month")],MM:[h,w("month")],MMM:[D,function(s){var d=B("months"),b=(B("monthsShort")||d.map(function(V){return V.slice(0,3)})).indexOf(s)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[D,function(s){var d=B("months").indexOf(s)+1;if(d<1)throw new Error;this.month=d%12||d}],Y:[/[+-]?\d+/,w("year")],YY:[h,function(s){this.year=k(s)}],YYYY:[/\d{4}/,w("year")],Z:Y,ZZ:Y};function C(s){var d,b;d=s,b=P&&P.formats;for(var V=(s=d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,q,G){var Z=G&&G.toUpperCase();return q||b[G]||l[G]||b[Z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ne,J,re){return J||re.slice(1)})})).match(n),u=V.length,y=0;y<u;y+=1){var R=V[y],L=p[R],K=L&&L[0],x=L&&L[1];V[y]=x?{regex:K,parser:x}:R.replace(/^\[|\]$/g,"")}return function(H){for(var q={},G=0,Z=0;G<u;G+=1){var ne=V[G];if(typeof ne=="string")Z+=ne.length;else{var J=ne.regex,re=ne.parser,Q=H.slice(Z),oe=J.exec(Q)[0];re.call(q,oe),H=H.replace(oe,"")}}return function(r){var a=r.afternoon;if(a!==void 0){var o=r.hours;a?o<12&&(r.hours+=12):o===12&&(r.hours=0),delete r.afternoon}}(q),q}}return function(s,d,b){b.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(k=s.parseTwoDigitYear);var V=d.prototype,u=V.parse;V.parse=function(y){var R=y.date,L=y.utc,K=y.args;this.$u=L;var x=K[1];if(typeof x=="string"){var H=K[2]===!0,q=K[3]===!0,G=H||q,Z=K[2];q&&(Z=K[2]),P=this.$locale(),!H&&Z&&(P=b.Ls[Z]),this.$d=function(Q,oe,r){try{if(["x","X"].indexOf(oe)>-1)return new Date((oe==="X"?1e3:1)*Q);var a=C(oe)(Q),o=a.year,g=a.month,E=a.day,X=a.hours,ee=a.minutes,te=a.seconds,pe=a.milliseconds,se=a.zone,$e=new Date,Te=E||(o||g?1:$e.getDate()),Pe=o||$e.getFullYear(),we=0;o&&!g||(we=g>0?g-1:$e.getMonth());var Oe=X||0,he=ee||0,Me=te||0,ae=pe||0;return se?new Date(Date.UTC(Pe,we,Te,Oe,he,Me,ae+60*se.offset*1e3)):r?new Date(Date.UTC(Pe,we,Te,Oe,he,Me,ae)):new Date(Pe,we,Te,Oe,he,Me,ae)}catch{return new Date("")}}(R,x,L),this.init(),Z&&Z!==!0&&(this.$L=this.locale(Z).$L),G&&R!=this.format(x)&&(this.$d=new Date("")),P={}}else if(x instanceof Array)for(var ne=x.length,J=1;J<=ne;J+=1){K[1]=x[J-1];var re=b.apply(this,K);if(re.isValid()){this.$d=re.$d,this.$L=re.$L,this.init();break}J===ne&&(this.$d=new Date(""))}else u.call(this,y)}}})})(jt);var Ra=jt.exports;const Nt=["hours","minutes","seconds"],Ft="HH:mm:ss",st="YYYY-MM-DD",xa={date:st,dates:st,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${st} ${Ft}`,monthrange:"YYYY-MM",daterange:st,datetimerange:`${st} ${Ft}`},Gt=ke({disabledHours:{type:ce(Function)},disabledMinutes:{type:ce(Function)},disabledSeconds:{type:ce(Function)}}),Aa=ke({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),qt=ke(qe(De({id:{type:ce([Array,String])},name:{type:ce([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ce([String,Object]),default:pa},editable:{type:Boolean,default:!0},prefixIcon:{type:ce([String,Object]),default:""},size:va,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},modelValue:{type:ce([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ce([Date,Array])},defaultTime:{type:ce([Date,Array])},isRange:{type:Boolean,default:!1}},Gt),{disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ce([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean})),Na=["id","name","placeholder","value","disabled","readonly"],Fa=["id","name","placeholder","value","disabled","readonly"],Ea={name:"Picker"},Ba=Ae(qe(De({},Ea),{props:qt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(f,{expose:c,emit:l}){const n=f,{lang:h}=ze(),m=_e("date"),D=_e("input"),P=_e("range"),k=Le(ma,{}),w=Le(ha,{}),Y=Le("ElPopperOptions",{}),B=j(),M=j(),p=j(!1),C=j(!1),s=j(null);let d=!1,b=!1;Ve(p,t=>{t?s.value=n.modelValue:(ae.value=null,xe(()=>{V(n.modelValue)}))});const V=(t,S)=>{var U;(S||!It(t,s.value))&&(l("change",t),n.validateEvent&&((U=w.validate)==null||U.call(w,"change").catch(ue=>Ot())))},u=t=>{if(!It(n.modelValue,t)){let S;Se(t)?S=t.map(U=>xt(U,n.valueFormat,h.value)):t&&(S=xt(t,n.valueFormat,h.value)),l("update:modelValue",t&&S,h.value)}},y=t=>{l("keydown",t)},R=O(()=>{if(M.value){const t=we.value?M.value:M.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),L=(t,S,U)=>{const ue=R.value;!ue.length||(!U||U==="min"?(ue[0].setSelectionRange(t,S),ue[0].focus()):U==="max"&&(ue[1].setSelectionRange(t,S),ue[1].focus()))},K=()=>{ne(!0,!0),xe(()=>{b=!1})},x=(t="",S=!1)=>{S||K(),p.value=S;let U;Se(t)?U=t.map(ue=>ue.toDate()):U=t&&t.toDate(),ae.value=null,u(U)},H=()=>{C.value=!0},q=()=>{l("visible-change",!0)},G=t=>{(t==null?void 0:t.key)===ge.esc&&ne(!0,!0)},Z=()=>{C.value=!1,b=!1,l("visible-change",!1)},ne=(t=!0,S=!1)=>{b=S;const[U,ue]=e(R);let T=U;!t&&we.value&&(T=ue),T&&T.focus()},J=t=>{n.readonly||oe.value||p.value||b||(p.value=!0,l("focus",t))};let re;const Q=t=>{const S=async()=>{setTimeout(()=>{var U,ue;re===S&&(!(((U=B.value)==null?void 0:U.isFocusInsideContent())&&!d)&&R.value.filter(T=>T.contains(document.activeElement)).length===0&&(Ne(),p.value=!1,l("blur",t),n.validateEvent&&((ue=w.validate)==null||ue.call(w,"blur").catch(T=>Ot()))),d=!1)},0)};re=S,S()},oe=O(()=>n.disabled||k.disabled),r=O(()=>{let t;if(pe.value?ve.value.getDefaultValue&&(t=ve.value.getDefaultValue()):Se(n.modelValue)?t=n.modelValue.map(S=>Rt(S,n.valueFormat,h.value)):t=Rt(n.modelValue,n.valueFormat,h.value),ve.value.getRangeAvailableTime){const S=ve.value.getRangeAvailableTime(t);ba(S,t)||(t=S,u(Se(t)?t.map(U=>U.toDate()):t.toDate()))}return Se(t)&&t.some(S=>!S)&&(t=[]),t}),a=O(()=>{if(!ve.value.panelReady)return"";const t=Ge(r.value);return Se(ae.value)?[ae.value[0]||t&&t[0]||"",ae.value[1]||t&&t[1]||""]:ae.value!==null?ae.value:!g.value&&pe.value||!p.value&&pe.value?"":t?E.value?t.join(", "):t:""}),o=O(()=>n.type.includes("time")),g=O(()=>n.type.startsWith("time")),E=O(()=>n.type==="dates"),X=O(()=>n.prefixIcon||(o.value?ga:ya)),ee=j(!1),te=t=>{n.readonly||oe.value||ee.value&&(t.stopPropagation(),K(),u(null),V(null,!0),ee.value=!1,p.value=!1,ve.value.handleClear&&ve.value.handleClear())},pe=O(()=>{const{modelValue:t}=n;return!t||Se(t)&&!t.filter(Boolean).length}),se=async t=>{var S;n.readonly||oe.value||(((S=t.target)==null?void 0:S.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(p.value=!0)},$e=()=>{n.readonly||oe.value||!pe.value&&n.clearable&&(ee.value=!0)},Te=()=>{ee.value=!1},Pe=t=>{var S;(((S=t.touches[0].target)==null?void 0:S.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(p.value=!0)},we=O(()=>n.type.includes("range")),Oe=ka(),he=O(()=>{var t,S;return(S=(t=e(B))==null?void 0:t.popperRef)==null?void 0:S.contentRef}),Me=O(()=>{var t;return e(we)?e(M):(t=e(M))==null?void 0:t.$el});wa(Me,t=>{const S=e(he),U=e(Me);S&&(t.target===S||t.composedPath().includes(S))||t.target===U||t.composedPath().includes(U)||(p.value=!1)});const ae=j(null),Ne=()=>{if(ae.value){const t=Ye(a.value);t&&Ke(t)&&(u(Se(t)?t.map(S=>S.toDate()):t.toDate()),ae.value=null)}ae.value===""&&(u(null),V(null),ae.value=null)},Ye=t=>t?ve.value.parseUserInput(t):null,Ge=t=>t?ve.value.formatToString(t):null,Ke=t=>ve.value.isValidValue(t),Ie=async t=>{const{code:S}=t;if(y(t),S===ge.esc){p.value===!0&&(p.value=!1,t.preventDefault(),t.stopPropagation());return}if(S===ge.down&&(ve.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),p.value===!1&&(p.value=!0,await xe()),ve.value.handleFocusPicker)){ve.value.handleFocusPicker();return}if(S===ge.tab){d=!0;return}if(S===ge.enter||S===ge.numpadEnter){(ae.value===null||ae.value===""||Ke(Ye(a.value)))&&(Ne(),p.value=!1),t.stopPropagation();return}if(ae.value){t.stopPropagation();return}ve.value.handleKeydownInput&&ve.value.handleKeydownInput(t)},Fe=t=>{ae.value=t,p.value||(p.value=!0)},ut=t=>{const S=t.target;ae.value?ae.value=[S.value,ae.value[1]]:ae.value=[S.value,null]},Xe=t=>{const S=t.target;ae.value?ae.value=[ae.value[0],S.value]:ae.value=[null,S.value]},He=()=>{var t;const S=ae.value,U=Ye(S&&S[0]),ue=e(r);if(U&&U.isValid()){ae.value=[Ge(U),((t=a.value)==null?void 0:t[1])||null];const T=[U,ue&&(ue[1]||null)];Ke(T)&&(u(T),ae.value=null)}},nt=()=>{var t;const S=e(ae),U=Ye(S&&S[1]),ue=e(r);if(U&&U.isValid()){ae.value=[((t=e(a))==null?void 0:t[0])||null,Ge(U)];const T=[ue&&ue[0],U];Ke(T)&&(u(T),ae.value=null)}},ve=j({}),Ue=t=>{ve.value[t[0]]=t[1],ve.value.panelReady=!0},i=t=>{l("calendar-change",t)},$=(t,S,U)=>{l("panel-change",t,S,U)};return yt("EP_PICKER_BASE",{props:n}),c({focus:ne,handleFocusInput:J,handleBlurInput:Q,onPick:x}),(t,S)=>(_(),ye(e(Da),Et({ref_key:"refPopper",ref:B,visible:p.value,"onUpdate:visible":S[2]||(S[2]=U=>p.value=U),effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(m).namespace.value}-zoom-in-top`,"popper-class":[`${e(m).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(Y),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:H,onShow:q,onHide:Z}),{default:le(()=>[e(we)?(_(),N("div",{key:1,ref_key:"inputRef",ref:M,class:v([e(m).b("editor"),e(m).bm("editor",t.type),e(D).e("wrapper"),e(m).is("disabled",e(oe)),e(m).is("active",p.value),e(P).b("editor"),e(Oe)?e(P).bm("editor",e(Oe)):"",t.$attrs.class]),style:Yt(t.$attrs.style),onClick:J,onMousedown:se,onMouseenter:$e,onMouseleave:Te,onTouchstart:Pe,onKeydown:Ie},[e(X)?(_(),ye(e(me),{key:0,class:v([e(D).e("icon"),e(P).e("icon")]),onMousedown:se,onTouchstart:Pe},{default:le(()=>[(_(),ye(ft(e(X))))]),_:1},8,["class"])):fe("v-if",!0),F("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(a)&&e(a)[0],disabled:e(oe),readonly:!t.editable||t.readonly,class:v(e(P).b("input")),onInput:ut,onChange:He,onFocus:J,onBlur:Q},null,42,Na),it(t.$slots,"range-separator",{},()=>[F("span",{class:v(e(P).b("separator"))},de(t.rangeSeparator),3)]),F("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(a)&&e(a)[1],disabled:e(oe),readonly:!t.editable||t.readonly,class:v(e(P).b("input")),onFocus:J,onBlur:Q,onInput:Xe,onChange:nt},null,42,Fa),t.clearIcon?(_(),ye(e(me),{key:1,class:v([e(D).e("icon"),e(P).e("close-icon"),{[e(P).e("close-icon--hidden")]:!ee.value}]),onClick:te},{default:le(()=>[(_(),ye(ft(t.clearIcon)))]),_:1},8,["class"])):fe("v-if",!0)],38)):(_(),ye(e(Qe),{key:0,id:t.id,ref_key:"inputRef",ref:M,"container-role":"combobox","model-value":e(a),name:t.name,size:e(Oe),disabled:e(oe),placeholder:t.placeholder,class:v([e(m).b("editor"),e(m).bm("editor",t.type),t.$attrs.class]),style:Yt(t.$attrs.style),readonly:!t.editable||t.readonly||e(E)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":t.validateEvent,onInput:Fe,onFocus:J,onBlur:Q,onKeydown:Ie,onChange:Ne,onMousedown:se,onMouseenter:$e,onMouseleave:Te,onTouchstart:Pe,onClick:S[0]||(S[0]=et(()=>{},["stop"]))},{prefix:le(()=>[e(X)?(_(),ye(e(me),{key:0,class:v(e(D).e("icon")),onMousedown:se,onTouchstart:Pe},{default:le(()=>[(_(),ye(ft(e(X))))]),_:1},8,["class"])):fe("v-if",!0)]),suffix:le(()=>[ee.value&&t.clearIcon?(_(),ye(e(me),{key:0,class:v(`${e(D).e("icon")} clear-icon`),onClick:et(te,["stop"])},{default:le(()=>[(_(),ye(ft(t.clearIcon)))]),_:1},8,["class","onClick"])):fe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","validate-event","onKeydown"]))]),content:le(()=>[it(t.$slots,"default",{visible:p.value,actualVisible:C.value,parsedValue:e(r),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:x,onSelectRange:L,onSetPickerOption:Ue,onCalendarChange:i,onPanelChange:$,onKeydown:G,onMousedown:S[1]||(S[1]=et(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}}));var La=je(Ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const za=ke(qe(De({},Aa),{datetimeRole:String,parsedValue:{type:ce(Object)}})),Ka=({getAvailableHours:f,getAvailableMinutes:c,getAvailableSeconds:l})=>{const n=(D,P,k,w)=>{const Y={hour:f,minute:c,second:l};let B=D;return["hour","minute","second"].forEach(M=>{if(Y[M]){let p;const C=Y[M];switch(M){case"minute":{p=C(B.hour(),P,w);break}case"second":{p=C(B.hour(),B.minute(),P,w);break}default:{p=C(P,w);break}}if((p==null?void 0:p.length)&&!p.includes(B[M]())){const s=k?0:p.length-1;B=B[M](p[s])}}}),B},h={};return{timePickerOptions:h,getAvailableTime:n,onSetOption:([D,P])=>{h[D]=P}}},gt=f=>{const c=(n,h)=>n||h,l=n=>n!==!0;return f.map(c).filter(l)},Zt=(f,c,l)=>({getHoursList:(D,P)=>ht(24,f&&(()=>f==null?void 0:f(D,P))),getMinutesList:(D,P,k)=>ht(60,c&&(()=>c==null?void 0:c(D,P,k))),getSecondsList:(D,P,k,w)=>ht(60,l&&(()=>l==null?void 0:l(D,P,k,w)))}),Ha=(f,c,l)=>{const{getHoursList:n,getMinutesList:h,getSecondsList:m}=Zt(f,c,l);return{getAvailableHours:(w,Y)=>gt(n(w,Y)),getAvailableMinutes:(w,Y,B)=>gt(h(w,Y,B)),getAvailableSeconds:(w,Y,B,M)=>gt(m(w,Y,B,M))}},Ua=f=>{const c=j(f.parsedValue);return Ve(()=>f.visible,l=>{l||(c.value=f.parsedValue)}),c},Wa=ke(De({role:{type:String,required:!0},spinnerDate:{type:ce(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ce(String),default:""}},Gt)),ja=["onClick"],Ga=["onMouseenter"],qa=Ae({__name:"basic-time-spinner",props:Wa,emits:["change","select-range","set-option"],setup(f,{emit:c}){const l=f,n=_e("time"),{getHoursList:h,getMinutesList:m,getSecondsList:D}=Zt(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let P=!1;const k=j(),w=j(),Y=j(),B=j(),M={hours:w,minutes:Y,seconds:B},p=O(()=>l.showSeconds?Nt:Nt.slice(0,2)),C=O(()=>{const{spinnerDate:r}=l,a=r.hour(),o=r.minute(),g=r.second();return{hours:a,minutes:o,seconds:g}}),s=O(()=>{const{hours:r,minutes:a}=e(C);return{hours:h(l.role),minutes:m(r,l.role),seconds:D(r,a,l.role)}}),d=O(()=>{const{hours:r,minutes:a,seconds:o}=e(C);return{hours:bt(r,23),minutes:bt(a,59),seconds:bt(o,59)}}),b=Sa(r=>{P=!1,y(r)},200),V=r=>{if(!!!l.amPmMode)return"";const o=l.amPmMode==="A";let g=r<12?" am":" pm";return o&&(g=g.toUpperCase()),g},u=r=>{let a;switch(r){case"hours":a=[0,2];break;case"minutes":a=[3,5];break;case"seconds":a=[6,8];break}const[o,g]=a;c("select-range",o,g),k.value=r},y=r=>{K(r,e(C)[r])},R=()=>{y("hours"),y("minutes"),y("seconds")},L=r=>r.querySelector(`.${n.namespace.value}-scrollbar__wrap`),K=(r,a)=>{if(l.arrowControl)return;const o=e(M[r]);o&&o.$el&&(L(o.$el).scrollTop=Math.max(0,a*x(r)))},x=r=>{const a=e(M[r]);return(a==null?void 0:a.$el.querySelector("li").offsetHeight)||0},H=()=>{G(1)},q=()=>{G(-1)},G=r=>{k.value||u("hours");const a=k.value;let o=e(C)[a];const g=k.value==="hours"?24:60;o=(o+r+g)%g,Z(a,o),K(a,o),xe(()=>u(a))},Z=(r,a)=>{if(e(s)[r][a])return;const{hours:E,minutes:X,seconds:ee}=e(C);let te;switch(r){case"hours":te=l.spinnerDate.hour(a).minute(X).second(ee);break;case"minutes":te=l.spinnerDate.hour(E).minute(a).second(ee);break;case"seconds":te=l.spinnerDate.hour(E).minute(X).second(a);break}c("change",te)},ne=(r,{value:a,disabled:o})=>{o||(Z(r,a),u(r),K(r,a))},J=r=>{P=!0,b(r);const a=Math.min(Math.round((L(e(M[r]).$el).scrollTop-(re(r)*.5-10)/x(r)+3)/x(r)),r==="hours"?23:59);Z(r,a)},re=r=>e(M[r]).$el.offsetHeight,Q=()=>{const r=a=>{const o=e(M[a]);o&&o.$el&&(L(o.$el).onscroll=()=>{J(a)})};r("hours"),r("minutes"),r("seconds")};Ca(()=>{xe(()=>{!l.arrowControl&&Q(),R(),l.role==="start"&&u("hours")})});const oe=(r,a)=>{M[a].value=r};return c("set-option",[`${l.role}_scrollDown`,G]),c("set-option",[`${l.role}_emitSelectRange`,u]),Ve(()=>l.spinnerDate,()=>{P||R()}),(r,a)=>(_(),N("div",{class:v([e(n).b("spinner"),{"has-seconds":r.showSeconds}])},[r.arrowControl?fe("v-if",!0):(_(!0),N(be,{key:0},Ce(e(p),o=>(_(),ye(e(Pa),{key:o,ref_for:!0,ref:g=>oe(g,o),class:v(e(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:g=>u(o),onMousemove:g=>y(o)},{default:le(()=>[(_(!0),N(be,null,Ce(e(s)[o],(g,E)=>(_(),N("li",{key:E,class:v([e(n).be("spinner","item"),e(n).is("active",E===e(C)[o]),e(n).is("disabled",g)]),onClick:X=>ne(o,{value:E,disabled:g})},[o==="hours"?(_(),N(be,{key:0},[Ze(de(("0"+(r.amPmMode?E%12||12:E)).slice(-2))+de(V(E)),1)],64)):(_(),N(be,{key:1},[Ze(de(("0"+E).slice(-2)),1)],64))],10,ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),r.arrowControl?(_(!0),N(be,{key:1},Ce(e(p),o=>(_(),N("div",{key:o,class:v([e(n).be("spinner","wrapper"),e(n).is("arrow")]),onMouseenter:g=>u(o)},[Re((_(),ye(e(me),{class:v(["arrow-up",e(n).be("spinner","arrow")])},{default:le(()=>[A(e(Ma))]),_:1},8,["class"])),[[e(At),q]]),Re((_(),ye(e(me),{class:v(["arrow-down",e(n).be("spinner","arrow")])},{default:le(()=>[A(e(_a))]),_:1},8,["class"])),[[e(At),H]]),F("ul",{class:v(e(n).be("spinner","list"))},[(_(!0),N(be,null,Ce(e(d)[o],(g,E)=>(_(),N("li",{key:E,class:v([e(n).be("spinner","item"),e(n).is("active",g===e(C)[o]),e(n).is("disabled",e(s)[o][g])])},[typeof g=="number"?(_(),N(be,{key:0},[o==="hours"?(_(),N(be,{key:0},[Ze(de(("0"+(r.amPmMode?g%12||12:g)).slice(-2))+de(V(g)),1)],64)):(_(),N(be,{key:1},[Ze(de(("0"+g).slice(-2)),1)],64))],64)):fe("v-if",!0)],2))),128))],2)],42,Ga))),128)):fe("v-if",!0)],2))}});var Za=je(qa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Xa=Ae({__name:"panel-time-pick",props:za,emits:["pick","select-range","set-picker-option"],setup(f,{emit:c}){const l=f,n=Le("EP_PICKER_BASE"),{arrowControl:h,disabledHours:m,disabledMinutes:D,disabledSeconds:P,defaultValue:k}=n.props,{getAvailableHours:w,getAvailableMinutes:Y,getAvailableSeconds:B}=Ha(m,D,P),M=_e("time"),{t:p,lang:C}=ze(),s=j([0,2]),d=Ua(l),b=O(()=>$a(l.actualVisible)?`${M.namespace.value}-zoom-in-top`:""),V=O(()=>l.format.includes("ss")),u=O(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),y=r=>{const a=W(r).locale(C.value),o=J(a);return a.isSame(o)},R=()=>{c("pick",d.value,!1)},L=(r=!1,a=!1)=>{a||c("pick",l.parsedValue,r)},K=r=>{if(!l.visible)return;const a=J(r).millisecond(0);c("pick",a,!0)},x=(r,a)=>{c("select-range",r,a),s.value=[r,a]},H=r=>{const a=[0,3].concat(V.value?[6]:[]),o=["hours","minutes"].concat(V.value?["seconds"]:[]),E=(a.indexOf(s.value[0])+r+a.length)%a.length;G.start_emitSelectRange(o[E])},q=r=>{const a=r.code,{left:o,right:g,up:E,down:X}=ge;if([o,g].includes(a)){H(a===o?-1:1),r.preventDefault();return}if([E,X].includes(a)){const ee=a===E?-1:1;G.start_scrollDown(ee),r.preventDefault();return}},{timePickerOptions:G,onSetOption:Z,getAvailableTime:ne}=Ka({getAvailableHours:w,getAvailableMinutes:Y,getAvailableSeconds:B}),J=r=>ne(r,l.datetimeRole||"",!0),re=r=>r?W(r,l.format).locale(C.value):null,Q=r=>r?r.format(l.format):null,oe=()=>W(k).locale(C.value);return c("set-picker-option",["isValidValue",y]),c("set-picker-option",["formatToString",Q]),c("set-picker-option",["parseUserInput",re]),c("set-picker-option",["handleKeydownInput",q]),c("set-picker-option",["getRangeAvailableTime",J]),c("set-picker-option",["getDefaultValue",oe]),(r,a)=>(_(),ye(Ta,{name:e(b)},{default:le(()=>[r.actualVisible||r.visible?(_(),N("div",{key:0,class:v(e(M).b("panel"))},[F("div",{class:v([e(M).be("panel","content"),{"has-seconds":e(V)}])},[A(Za,{ref:"spinner",role:r.datetimeRole||"start","arrow-control":e(h),"show-seconds":e(V),"am-pm-mode":e(u),"spinner-date":r.parsedValue,"disabled-hours":e(m),"disabled-minutes":e(D),"disabled-seconds":e(P),onChange:K,onSetOption:e(Z),onSelectRange:x},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),F("div",{class:v(e(M).be("panel","footer"))},[F("button",{type:"button",class:v([e(M).be("panel","btn"),"cancel"]),onClick:R},de(e(p)("el.datepicker.cancel")),3),F("button",{type:"button",class:v([e(M).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=o=>L())},de(e(p)("el.datepicker.confirm")),3)],2)],2)):fe("v-if",!0)]),_:1},8,["name"]))}});var St=je(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Xt={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){return function(l,n,h){var m=n.prototype,D=m.format;h.en.ordinal=function(P){var k=["th","st","nd","rd"],w=P%100;return"["+P+(k[(w-20)%10]||k[w]||k[0])+"]"},m.format=function(P){var k=this,w=this.$locale();if(!this.isValid())return D.bind(this)(P);var Y=this.$utils(),B=(P||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(M){switch(M){case"Q":return Math.ceil((k.$M+1)/3);case"Do":return w.ordinal(k.$D);case"gggg":return k.weekYear();case"GGGG":return k.isoWeekYear();case"wo":return w.ordinal(k.week(),"W");case"w":case"ww":return Y.s(k.week(),M==="w"?1:2,"0");case"W":case"WW":return Y.s(k.isoWeek(),M==="W"?1:2,"0");case"k":case"kk":return Y.s(String(k.$H===0?24:k.$H),M==="k"?1:2,"0");case"X":return Math.floor(k.$d.getTime()/1e3);case"x":return k.$d.getTime();case"z":return"["+k.offsetName()+"]";case"zzz":return"["+k.offsetName("long")+"]";default:return M}});return D.bind(this)(B)}}})})(Xt);var Ja=Xt.exports,Jt={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){var l="week",n="year";return function(h,m,D){var P=m.prototype;P.week=function(k){if(k===void 0&&(k=null),k!==null)return this.add(7*(k-this.week()),"day");var w=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var Y=D(this).startOf(n).add(1,n).date(w),B=D(this).endOf(l);if(Y.isBefore(B))return 1}var M=D(this).startOf(n).date(w).startOf(l).subtract(1,"millisecond"),p=this.diff(M,l,!0);return p<0?D(this).startOf("week").week():Math.ceil(p)},P.weeks=function(k){return k===void 0&&(k=null),this.week(k)}}})})(Jt);var Qa=Jt.exports,Qt={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){return function(l,n){n.prototype.weekYear=function(){var h=this.month(),m=this.week(),D=this.year();return m===1&&h===11?D+1:h===0&&m>=52?D-1:D}}})})(Qt);var en=Qt.exports,ea={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){return function(l,n,h){n.prototype.dayOfYear=function(m){var D=Math.round((h(this).startOf("day")-h(this).startOf("year"))/864e5)+1;return m==null?D:this.add(m-D,"day")}}})})(ea);var tn=ea.exports,ta={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){return function(l,n){n.prototype.isSameOrAfter=function(h,m){return this.isSame(h,m)||this.isAfter(h,m)}}})})(ta);var an=ta.exports,aa={exports:{}};(function(f,c){(function(l,n){f.exports=n()})(at,function(){return function(l,n){n.prototype.isSameOrBefore=function(h,m){return this.isSame(h,m)||this.isBefore(h,m)}}})})(aa);var nn=aa.exports;const ln=ke({type:{type:ce(String),default:"date"}}),sn=["date","dates","year","month","week","range"],$t=ke({disabledDate:{type:ce(Function)},date:{type:ce(Object),required:!0},minDate:{type:ce(Object)},maxDate:{type:ce(Object)},parsedValue:{type:ce([Object,Array])},rangeState:{type:ce(Object),default:()=>({endDate:null,selecting:!1})}}),na=ke({type:{type:ce(String),required:!0,values:Ya}}),la=ke({unlinkPanels:Boolean,parsedValue:{type:ce(Array)}}),sa=f=>({type:String,values:sn,default:f}),on=ke(qe(De({},na),{parsedValue:{type:ce([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}})),rn=ke(qe(De({},$t),{cellClassName:{type:ce(Function)},showWeekNumber:Boolean,selectionMode:sa("date")})),Ct=f=>{if(!Se(f))return!1;const[c,l]=f;return W.isDayjs(c)&&W.isDayjs(l)&&c.isSameOrBefore(l)},oa=(f,{lang:c,unit:l,unlinkPanels:n})=>{let h;if(Se(f)){let[m,D]=f.map(P=>W(P).locale(c));return n||(D=m.add(1,l)),[m,D]}else f?h=W(f):h=W();return h=h.locale(c),[h,h.add(1,l)]},un=(f,c,{columnIndexOffset:l,startDate:n,nextEndDate:h,now:m,unit:D,relativeDateGetter:P,setCellMetadata:k,setRowMetadata:w})=>{for(let Y=0;Y<f.row;Y++){const B=c[Y];for(let M=0;M<f.column;M++){let p=B[M+l];p||(p={row:Y,column:M,type:"normal",inRange:!1,start:!1,end:!1});const C=Y*f.column+M,s=P(C);p.dayjs=s,p.date=s.toDate(),p.timestamp=s.valueOf(),p.type="normal",p.inRange=!!(n&&s.isSameOrAfter(n,D)&&h&&s.isSameOrBefore(h,D))||!!(n&&s.isSameOrBefore(n,D)&&h&&s.isSameOrAfter(h,D)),n!=null&&n.isSameOrAfter(h)?(p.start=!!h&&s.isSame(h,D),p.end=n&&s.isSame(n,D)):(p.start=!!n&&s.isSame(n,D),p.end=!!h&&s.isSame(h,D)),s.isSame(m,D)&&(p.type="today"),k==null||k(p,{rowIndex:Y,columnIndex:M}),B[M+l]=p}w==null||w(B)}},cn=ke({cell:{type:ce(Object)}});var dn=Ae({name:"ElDatePickerCell",props:cn,setup(f){const c=_e("date-table-cell"),{slots:l}=Le(_t);return()=>{const{cell:n}=f;if(l.default){const h=l.default(n).filter(m=>m.patchFlag!==-2&&m.type.toString()!=="Symbol(Comment)");if(h.length)return h}return A("div",{class:c.b()},[A("span",{class:c.e("text")},[n==null?void 0:n.text])])}}});const fn=["aria-label"],pn={key:0,scope:"col"},vn=["aria-label"],mn=["aria-current","aria-selected","tabindex"],hn=Ae({__name:"basic-date-table",props:rn,emits:["changerange","pick","select"],setup(f,{expose:c,emit:l}){const n=f,h=_e("date-table"),{t:m,lang:D}=ze(),P=j(),k=j(),w=j(),Y=j(),B=j([[],[],[],[],[],[]]),M=n.date.$locale().weekStart||7,p=n.date.locale("en").localeData().weekdaysShort().map(a=>a.toLowerCase()),C=O(()=>M>3?7-M:-M),s=O(()=>{const a=n.date.startOf("month");return a.subtract(a.day()||7,"day")}),d=O(()=>p.concat(p).slice(M,M+7)),b=O(()=>K.value.flat().some(a=>a.isCurrent)),V=O(()=>{const a=n.date.startOf("month"),o=a.day()||7,g=a.daysInMonth(),E=a.subtract(1,"month").daysInMonth();return{startOfMonthDay:o,dateCountOfMonth:g,dateCountOfLastMonth:E}}),u=O(()=>n.selectionMode==="dates"?tt(n.parsedValue):[]),y=(a,{count:o,rowIndex:g,columnIndex:E})=>{const{startOfMonthDay:X,dateCountOfMonth:ee,dateCountOfLastMonth:te}=e(V),pe=e(C);if(g>=0&&g<=1){const se=X+pe<0?7+X+pe:X+pe;if(E+g*7>=se)return a.text=o,!0;a.text=te-(se-E%7)+1+g*7,a.type="prev-month"}else return o<=ee?a.text=o:(a.text=o-ee,a.type="next-month"),!0;return!1},R=(a,{columnIndex:o,rowIndex:g},E)=>{const{disabledDate:X,cellClassName:ee}=n,te=e(u),pe=y(a,{count:E,rowIndex:g,columnIndex:o}),se=a.dayjs.toDate();return a.selected=te.find($e=>$e.valueOf()===a.dayjs.valueOf()),a.isSelected=!!a.selected,a.isCurrent=q(a),a.disabled=X==null?void 0:X(se),a.customClass=ee==null?void 0:ee(se),pe},L=a=>{if(n.selectionMode==="week"){const[o,g]=n.showWeekNumber?[1,7]:[0,6],E=r(a[o+1]);a[o].inRange=E,a[o].start=E,a[g].inRange=E,a[g].end=E}},K=O(()=>{const{minDate:a,maxDate:o,rangeState:g,showWeekNumber:E}=n,X=C.value,ee=B.value,te="day";let pe=1;if(E)for(let se=0;se<6;se++)ee[se][0]||(ee[se][0]={type:"week",text:s.value.add(se*7+1,te).week()});return un({row:6,column:7},ee,{startDate:a,columnIndexOffset:E?1:0,nextEndDate:g.endDate||o||g.selecting&&a||null,now:W().locale(e(D)).startOf(te),unit:te,relativeDateGetter:se=>s.value.add(se-X,te),setCellMetadata:(...se)=>{R(...se,pe)&&(pe+=1)},setRowMetadata:L}),ee});Ve(()=>n.date,async()=>{var a,o;(a=P.value)!=null&&a.contains(document.activeElement)&&(await xe(),(o=k.value)==null||o.focus())});const x=async()=>{var a;(a=k.value)==null||a.focus()},H=(a="")=>["normal","today"].includes(a),q=a=>n.selectionMode==="date"&&H(a.type)&&G(a,n.parsedValue),G=(a,o)=>o?W(o).locale(D.value).isSame(n.date.date(Number(a.text)),"day"):!1,Z=a=>{const o=[];return H(a.type)&&!a.disabled?(o.push("available"),a.type==="today"&&o.push("today")):o.push(a.type),q(a)&&o.push("current"),a.inRange&&(H(a.type)||n.selectionMode==="week")&&(o.push("in-range"),a.start&&o.push("start-date"),a.end&&o.push("end-date")),a.disabled&&o.push("disabled"),a.selected&&o.push("selected"),a.customClass&&o.push(a.customClass),o.join(" ")},ne=(a,o)=>{const g=a*7+(o-(n.showWeekNumber?1:0))-C.value;return s.value.add(g,"day")},J=a=>{var o;if(!n.rangeState.selecting)return;let g=a.target;if(g.tagName==="SPAN"&&(g=(o=g.parentNode)==null?void 0:o.parentNode),g.tagName==="DIV"&&(g=g.parentNode),g.tagName!=="TD")return;const E=g.parentNode.rowIndex-1,X=g.cellIndex;K.value[E][X].disabled||(E!==w.value||X!==Y.value)&&(w.value=E,Y.value=X,l("changerange",{selecting:!0,endDate:ne(E,X)}))},re=a=>!b.value&&(a==null?void 0:a.text)===1&&a.type==="normal"||a.isCurrent,Q=a=>{!b.value&&n.selectionMode==="date"&&oe(a,!0)},oe=(a,o=!1)=>{const g=a.target.closest("td");if(!g||g.tagName!=="TD")return;const E=g.parentNode.rowIndex-1,X=g.cellIndex,ee=K.value[E][X];if(ee.disabled||ee.type==="week")return;const te=ne(E,X);if(n.selectionMode==="range")!n.rangeState.selecting||!n.minDate?(l("pick",{minDate:te,maxDate:null}),l("select",!0)):(te>=n.minDate?l("pick",{minDate:n.minDate,maxDate:te}):l("pick",{minDate:te,maxDate:n.minDate}),l("select",!1));else if(n.selectionMode==="date")l("pick",te,o);else if(n.selectionMode==="week"){const pe=te.week(),se=`${te.year()}w${pe}`;l("pick",{year:te.year(),week:pe,value:se,date:te.startOf("week")})}else if(n.selectionMode==="dates"){const pe=ee.selected?tt(n.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==te.valueOf()):tt(n.parsedValue).concat([te]);l("pick",pe)}},r=a=>{if(n.selectionMode!=="week")return!1;let o=n.date.startOf("day");if(a.type==="prev-month"&&(o=o.subtract(1,"month")),a.type==="next-month"&&(o=o.add(1,"month")),o=o.date(Number.parseInt(a.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const g=(n.parsedValue.day()-M+7)%7-1;return n.parsedValue.subtract(g,"day").isSame(o,"day")}return!1};return c({focus:x}),(a,o)=>(_(),N("table",{role:"grid","aria-label":e(m)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:v([e(h).b(),{"is-week-mode":a.selectionMode==="week"}]),onClick:oe,onMousemove:J},[F("tbody",{ref_key:"tbodyRef",ref:P},[F("tr",null,[a.showWeekNumber?(_(),N("th",pn,de(e(m)("el.datepicker.week")),1)):fe("v-if",!0),(_(!0),N(be,null,Ce(e(d),(g,E)=>(_(),N("th",{key:E,scope:"col","aria-label":e(m)("el.datepicker.weeksFull."+g)},de(e(m)("el.datepicker.weeks."+g)),9,vn))),128))]),(_(!0),N(be,null,Ce(e(K),(g,E)=>(_(),N("tr",{key:E,class:v([e(h).e("row"),{current:r(g[1])}])},[(_(!0),N(be,null,Ce(g,(X,ee)=>(_(),N("td",{key:`${E}.${ee}`,ref_for:!0,ref:te=>{re(X)&&(k.value=te)},class:v(Z(X)),"aria-current":X.isCurrent?"date":void 0,"aria-selected":X.isCurrent,tabindex:re(X)?0:-1,onFocus:Q},[A(e(dn),{cell:X},null,8,["cell"])],42,mn))),128))],2))),128))],512)],42,fn))}});var Pt=je(hn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const bn=ke(qe(De({},$t),{selectionMode:sa("month")})),gn=["aria-label"],yn=["aria-selected","aria-label","tabindex","onKeydown"],kn={class:"cell"},wn=Ae({__name:"basic-month-table",props:bn,emits:["changerange","pick","select"],setup(f,{expose:c,emit:l}){const n=f,h=(y,R,L)=>{const K=W().locale(L).startOf("month").month(R).year(y),x=K.daysInMonth();return Ht(x).map(H=>K.add(H,"day").toDate())},m=_e("month-table"),{t:D,lang:P}=ze(),k=j(),w=j(),Y=j(n.date.locale("en").localeData().monthsShort().map(y=>y.toLowerCase())),B=j([[],[],[]]),M=j(),p=j(),C=O(()=>{var y,R;const L=B.value,K=W().locale(P.value).startOf("month");for(let x=0;x<3;x++){const H=L[x];for(let q=0;q<4;q++){const G=H[q]||(H[q]={row:x,column:q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});G.type="normal";const Z=x*4+q,ne=n.date.startOf("year").month(Z),J=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;G.inRange=!!(n.minDate&&ne.isSameOrAfter(n.minDate,"month")&&J&&ne.isSameOrBefore(J,"month"))||!!(n.minDate&&ne.isSameOrBefore(n.minDate,"month")&&J&&ne.isSameOrAfter(J,"month")),(y=n.minDate)!=null&&y.isSameOrAfter(J)?(G.start=!!(J&&ne.isSame(J,"month")),G.end=n.minDate&&ne.isSame(n.minDate,"month")):(G.start=!!(n.minDate&&ne.isSame(n.minDate,"month")),G.end=!!(J&&ne.isSame(J,"month"))),K.isSame(ne)&&(G.type="today"),G.text=Z,G.disabled=((R=n.disabledDate)==null?void 0:R.call(n,ne.toDate()))||!1}}return L}),s=()=>{var y;(y=w.value)==null||y.focus()},d=y=>{const R={},L=n.date.year(),K=new Date,x=y.text;return R.disabled=n.disabledDate?h(L,x,P.value).every(n.disabledDate):!1,R.current=tt(n.parsedValue).findIndex(H=>W.isDayjs(H)&&H.year()===L&&H.month()===x)>=0,R.today=K.getFullYear()===L&&K.getMonth()===x,y.inRange&&(R["in-range"]=!0,y.start&&(R["start-date"]=!0),y.end&&(R["end-date"]=!0)),R},b=y=>{const R=n.date.year(),L=y.text;return tt(n.date).findIndex(K=>K.year()===R&&K.month()===L)>=0},V=y=>{var R;if(!n.rangeState.selecting)return;let L=y.target;if(L.tagName==="A"&&(L=(R=L.parentNode)==null?void 0:R.parentNode),L.tagName==="DIV"&&(L=L.parentNode),L.tagName!=="TD")return;const K=L.parentNode.rowIndex,x=L.cellIndex;C.value[K][x].disabled||(K!==M.value||x!==p.value)&&(M.value=K,p.value=x,l("changerange",{selecting:!0,endDate:n.date.startOf("year").month(K*4+x)}))},u=y=>{var R;const L=(R=y.target)==null?void 0:R.closest("td");if((L==null?void 0:L.tagName)!=="TD"||Bt(L,"disabled"))return;const K=L.cellIndex,H=L.parentNode.rowIndex*4+K,q=n.date.startOf("year").month(H);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&q>=n.minDate?l("pick",{minDate:n.minDate,maxDate:q}):l("pick",{minDate:q,maxDate:n.minDate}),l("select",!1)):(l("pick",{minDate:q,maxDate:null}),l("select",!0)):l("pick",H)};return Ve(()=>n.date,async()=>{var y,R;(y=k.value)!=null&&y.contains(document.activeElement)&&(await xe(),(R=w.value)==null||R.focus())}),c({focus:s}),(y,R)=>(_(),N("table",{role:"grid","aria-label":e(D)("el.datepicker.monthTablePrompt"),class:v(e(m).b()),onClick:u,onMousemove:V},[F("tbody",{ref_key:"tbodyRef",ref:k},[(_(!0),N(be,null,Ce(e(C),(L,K)=>(_(),N("tr",{key:K},[(_(!0),N(be,null,Ce(L,(x,H)=>(_(),N("td",{key:H,ref_for:!0,ref:q=>b(x)&&(w.value=q),class:v(d(x)),"aria-selected":`${b(x)}`,"aria-label":e(D)(`el.datepicker.month${+x.text+1}`),tabindex:b(x)?0:-1,onKeydown:[ot(et(u,["prevent","stop"]),["space"]),ot(et(u,["prevent","stop"]),["enter"])]},[F("div",null,[F("span",kn,de(e(D)("el.datepicker.months."+Y.value[x.text])),1)])],42,yn))),128))]))),128))],512)],42,gn))}});var Mt=je(wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Dn,disabledDate:Sn,parsedValue:Cn}=$t,Pn=ke({date:Dn,disabledDate:Sn,parsedValue:Cn}),Mn=["aria-label"],_n=["aria-selected","tabindex","onKeydown"],$n={class:"cell"},Tn={key:1},Vn=Ae({__name:"basic-year-table",props:Pn,emits:["pick"],setup(f,{expose:c,emit:l}){const n=f,h=(s,d)=>{const b=W(String(s)).locale(d).startOf("year"),u=b.endOf("year").dayOfYear();return Ht(u).map(y=>b.add(y,"day").toDate())},m=_e("year-table"),{t:D,lang:P}=ze(),k=j(),w=j(),Y=O(()=>Math.floor(n.date.year()/10)*10),B=()=>{var s;(s=w.value)==null||s.focus()},M=s=>{const d={},b=W().locale(P.value);return d.disabled=n.disabledDate?h(s,P.value).every(n.disabledDate):!1,d.current=tt(n.parsedValue).findIndex(V=>V.year()===s)>=0,d.today=b.year()===s,d},p=s=>s===Y.value&&n.date.year()<Y.value&&n.date.year()>Y.value+9||tt(n.date).findIndex(d=>d.year()===s)>=0,C=s=>{const b=s.target.closest("td");if(b){if(Bt(b.parentNode,"disabled"))return;const V=b.textContent||b.innerText;l("pick",Number(V))}};return Ve(()=>n.date,async()=>{var s,d;(s=k.value)!=null&&s.contains(document.activeElement)&&(await xe(),(d=w.value)==null||d.focus())}),c({focus:B}),(s,d)=>(_(),N("table",{role:"grid","aria-label":e(D)("el.datepicker.yearTablePrompt"),class:v(e(m).b()),onClick:C},[F("tbody",{ref_key:"tbodyRef",ref:k},[(_(),N(be,null,Ce(3,(b,V)=>F("tr",{key:V},[(_(),N(be,null,Ce(4,(u,y)=>(_(),N(be,{key:V+"_"+y},[V*4+y<10?(_(),N("td",{key:0,ref_for:!0,ref:R=>p(e(Y)+V*4+y)&&(w.value=R),class:v(["available",M(e(Y)+V*4+y)]),"aria-selected":`${p(e(Y)+V*4+y)}`,tabindex:p(e(Y)+V*4+y)?0:-1,onKeydown:[ot(et(C,["prevent","stop"]),["space"]),ot(et(C,["prevent","stop"]),["enter"])]},[F("span",$n,de(e(Y)+V*4+y),1)],42,_n)):(_(),N("td",Tn))],64))),64))])),64))],512)],10,Mn))}});var On=je(Vn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Yn=["onClick"],In=["aria-label"],Rn=["aria-label"],xn=["aria-label"],An=["aria-label"],Nn=Ae({__name:"panel-date-pick",props:on,emits:["pick","set-picker-option","panel-change"],setup(f,{emit:c}){const l=f,n=(i,$,t)=>!0,h=_e("picker-panel"),m=_e("date-picker"),D=Lt(),P=zt(),{t:k,lang:w}=ze(),Y=Le("EP_PICKER_BASE"),B=Le(Va),{shortcuts:M,disabledDate:p,cellClassName:C,defaultTime:s,arrowControl:d}=Y.props,b=rt(Y.props,"defaultValue"),V=j(),u=j(W().locale(w.value)),y=O(()=>W(s).locale(w.value)),R=O(()=>u.value.month()),L=O(()=>u.value.year()),K=j([]),x=j(null),H=j(null),q=i=>K.value.length>0?n(i,K.value,l.format||"HH:mm:ss"):!0,G=i=>s&&!we.value?y.value.year(i.year()).month(i.month()).date(i.date()):te.value?i.millisecond(0):i.startOf("day"),Z=(i,...$)=>{if(!i)c("pick",i,...$);else if(Se(i)){const t=i.map(G);c("pick",t,...$)}else c("pick",G(i),...$);x.value=null,H.value=null},ne=(i,$)=>{if(a.value==="date"){i=i;let t=l.parsedValue?l.parsedValue.year(i.year()).month(i.month()).date(i.date()):i;q(t)||(t=K.value[0][0].year(i.year()).month(i.month()).date(i.date())),u.value=t,Z(t,te.value||$)}else a.value==="week"?Z(i.date):a.value==="dates"&&Z(i,!0)},J=i=>{const $=i?"add":"subtract";u.value=u.value[$](1,"month"),Ue("month")},re=i=>{const $=u.value,t=i?"add":"subtract";u.value=Q.value==="year"?$[t](10,"year"):$[t](1,"year"),Ue("year")},Q=j("date"),oe=O(()=>{const i=k("el.datepicker.year");if(Q.value==="year"){const $=Math.floor(L.value/10)*10;return i?`${$} ${i} - ${$+9} ${i}`:`${$} - ${$+9}`}return`${L.value} ${i}`}),r=i=>{const $=Dt(i.value)?i.value():i.value;if($){Z(W($).locale(w.value));return}i.onClick&&i.onClick({attrs:D,slots:P,emit:c})},a=O(()=>{const{type:i}=l;return["week","month","year","dates"].includes(i)?i:"date"}),o=O(()=>a.value==="date"?Q.value:a.value),g=O(()=>!!M.length),E=async i=>{u.value=u.value.startOf("month").month(i),a.value==="month"?Z(u.value,!1):(Q.value="date",["month","year","date","week"].includes(a.value)&&(Z(u.value,!0),await xe(),He())),Ue("month")},X=async i=>{a.value==="year"?(u.value=u.value.startOf("year").year(i),Z(u.value,!1)):(u.value=u.value.year(i),Q.value="month",["month","year","date","week"].includes(a.value)&&(Z(u.value,!0),await xe(),He())),Ue("year")},ee=async i=>{Q.value=i,await xe(),He()},te=O(()=>l.type==="datetime"||l.type==="datetimerange"),pe=O(()=>te.value||a.value==="dates"),se=()=>{if(a.value==="dates")Z(l.parsedValue);else{let i=l.parsedValue;if(!i){const $=W(s).locale(w.value),t=Xe();i=$.year(t.year()).month(t.month()).date(t.date())}u.value=i,Z(i)}},$e=()=>{const $=W().locale(w.value).toDate();(!p||!p($))&&q($)&&(u.value=W().locale(w.value),Z(u.value))},Te=O(()=>Ut(l.format)),Pe=O(()=>Wt(l.format)),we=O(()=>{if(H.value)return H.value;if(!(!l.parsedValue&&!b.value))return(l.parsedValue||u.value).format(Te.value)}),Oe=O(()=>{if(x.value)return x.value;if(!(!l.parsedValue&&!b.value))return(l.parsedValue||u.value).format(Pe.value)}),he=j(!1),Me=()=>{he.value=!0},ae=()=>{he.value=!1},Ne=i=>({hour:i.hour(),minute:i.minute(),second:i.second(),year:i.year(),month:i.month(),date:i.date()}),Ye=(i,$,t)=>{const{hour:S,minute:U,second:ue}=Ne(i),T=l.parsedValue?l.parsedValue.hour(S).minute(U).second(ue):i;u.value=T,Z(u.value,!0),t||(he.value=$)},Ge=i=>{const $=W(i,Te.value).locale(w.value);if($.isValid()&&q($)){const{year:t,month:S,date:U}=Ne(u.value);u.value=$.year(t).month(S).date(U),H.value=null,he.value=!1,Z(u.value,!0)}},Ke=i=>{const $=W(i,Pe.value).locale(w.value);if($.isValid()){if(p&&p($.toDate()))return;const{hour:t,minute:S,second:U}=Ne(u.value);u.value=$.hour(t).minute(S).second(U),x.value=null,Z(u.value,!0)}},Ie=i=>W.isDayjs(i)&&i.isValid()&&(p?!p(i.toDate()):!0),Fe=i=>a.value==="dates"?i.map($=>$.format(l.format)):i.format(l.format),ut=i=>W(i,l.format).locale(w.value),Xe=()=>{const i=W(b.value).locale(w.value);if(!b.value){const $=y.value;return W().hour($.hour()).minute($.minute()).second($.second()).locale(w.value)}return i},He=async()=>{var i;["week","month","year","date"].includes(a.value)&&((i=V.value)==null||i.focus(),a.value==="week"&&ve(ge.down))},nt=i=>{const{code:$}=i;[ge.up,ge.down,ge.left,ge.right,ge.home,ge.end,ge.pageUp,ge.pageDown].includes($)&&(ve($),i.stopPropagation(),i.preventDefault()),[ge.enter,ge.space].includes($)&&x.value===null&&H.value===null&&(i.preventDefault(),Z(u.value,!1))},ve=i=>{var $;const{up:t,down:S,left:U,right:ue,home:T,end:I,pageUp:z,pageDown:We}=ge,Je={year:{[t]:-4,[S]:4,[U]:-1,[ue]:1,offset:(ie,Be)=>ie.setFullYear(ie.getFullYear()+Be)},month:{[t]:-4,[S]:4,[U]:-1,[ue]:1,offset:(ie,Be)=>ie.setMonth(ie.getMonth()+Be)},week:{[t]:-1,[S]:1,[U]:-1,[ue]:1,offset:(ie,Be)=>ie.setDate(ie.getDate()+Be*7)},date:{[t]:-7,[S]:7,[U]:-1,[ue]:1,[T]:ie=>-ie.getDay(),[I]:ie=>-ie.getDay()+6,[z]:ie=>-new Date(ie.getFullYear(),ie.getMonth(),0).getDate(),[We]:ie=>new Date(ie.getFullYear(),ie.getMonth()+1,0).getDate(),offset:(ie,Be)=>ie.setDate(ie.getDate()+Be)}},Ee=u.value.toDate();for(;Math.abs(u.value.diff(Ee,"year",!0))<1;){const ie=Je[o.value];if(!ie)return;if(ie.offset(Ee,Dt(ie[i])?ie[i](Ee):($=ie[i])!=null?$:0),p&&p(Ee))break;const Be=W(Ee).locale(w.value);u.value=Be,c("pick",Be,!0);break}},Ue=i=>{c("panel-change",u.value.toDate(),i,Q.value)};return Ve(()=>a.value,i=>{if(["month","year"].includes(i)){Q.value=i;return}Q.value="date"},{immediate:!0}),Ve(()=>Q.value,()=>{B==null||B.updatePopper()}),Ve(()=>b.value,i=>{i&&(u.value=Xe())},{immediate:!0}),Ve(()=>l.parsedValue,i=>{if(i){if(a.value==="dates"||Array.isArray(i))return;u.value=i}else u.value=Xe()},{immediate:!0}),c("set-picker-option",["isValidValue",Ie]),c("set-picker-option",["formatToString",Fe]),c("set-picker-option",["parseUserInput",ut]),c("set-picker-option",["handleFocusPicker",He]),(i,$)=>(_(),N("div",{class:v([e(h).b(),e(m).b(),{"has-sidebar":i.$slots.sidebar||e(g),"has-time":e(te)}])},[F("div",{class:v(e(h).e("body-wrapper"))},[it(i.$slots,"sidebar",{class:v(e(h).e("sidebar"))}),e(g)?(_(),N("div",{key:0,class:v(e(h).e("sidebar"))},[(_(!0),N(be,null,Ce(e(M),(t,S)=>(_(),N("button",{key:S,type:"button",class:v(e(h).e("shortcut")),onClick:U=>r(t)},de(t.text),11,Yn))),128))],2)):fe("v-if",!0),F("div",{class:v(e(h).e("body"))},[e(te)?(_(),N("div",{key:0,class:v(e(m).e("time-header"))},[F("span",{class:v(e(m).e("editor-wrap"))},[A(e(Qe),{placeholder:e(k)("el.datepicker.selectDate"),"model-value":e(Oe),size:"small",onInput:$[0]||($[0]=t=>x.value=t),onChange:Ke},null,8,["placeholder","model-value"])],2),Re((_(),N("span",{class:v(e(m).e("editor-wrap"))},[A(e(Qe),{placeholder:e(k)("el.datepicker.selectTime"),"model-value":e(we),size:"small",onFocus:Me,onInput:$[1]||($[1]=t=>H.value=t),onChange:Ge},null,8,["placeholder","model-value"]),A(e(St),{visible:he.value,format:e(Te),"time-arrow-control":e(d),"parsed-value":u.value,onPick:Ye},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(kt),ae]])],2)):fe("v-if",!0),Re(F("div",{class:v([e(m).e("header"),(Q.value==="year"||Q.value==="month")&&e(m).e("header--bordered")])},[F("span",{class:v(e(m).e("prev-btn"))},[F("button",{type:"button","aria-label":e(k)("el.datepicker.prevYear"),class:v(["d-arrow-left",e(h).e("icon-btn")]),onClick:$[2]||($[2]=t=>re(!1))},[A(e(me),null,{default:le(()=>[A(e(ct))]),_:1})],10,In),Re(F("button",{type:"button","aria-label":e(k)("el.datepicker.prevMonth"),class:v([e(h).e("icon-btn"),"arrow-left"]),onClick:$[3]||($[3]=t=>J(!1))},[A(e(me),null,{default:le(()=>[A(e(wt))]),_:1})],10,Rn),[[lt,Q.value==="date"]])],2),F("span",{role:"button",class:v(e(m).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:$[4]||($[4]=ot(t=>ee("year"),["enter"])),onClick:$[5]||($[5]=t=>ee("year"))},de(e(oe)),35),Re(F("span",{role:"button","aria-live":"polite",tabindex:"0",class:v([e(m).e("header-label"),{active:Q.value==="month"}]),onKeydown:$[6]||($[6]=ot(t=>ee("month"),["enter"])),onClick:$[7]||($[7]=t=>ee("month"))},de(e(k)(`el.datepicker.month${e(R)+1}`)),35),[[lt,Q.value==="date"]]),F("span",{class:v(e(m).e("next-btn"))},[Re(F("button",{type:"button","aria-label":e(k)("el.datepicker.nextMonth"),class:v([e(h).e("icon-btn"),"arrow-right"]),onClick:$[8]||($[8]=t=>J(!0))},[A(e(me),null,{default:le(()=>[A(e(pt))]),_:1})],10,xn),[[lt,Q.value==="date"]]),F("button",{type:"button","aria-label":e(k)("el.datepicker.nextYear"),class:v([e(h).e("icon-btn"),"d-arrow-right"]),onClick:$[9]||($[9]=t=>re(!0))},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],10,An)],2)],2),[[lt,Q.value!=="time"]]),F("div",{class:v(e(h).e("content")),onKeydown:nt},[Q.value==="date"?(_(),ye(Pt,{key:0,ref_key:"currentViewRef",ref:V,"selection-mode":e(a),date:u.value,"parsed-value":i.parsedValue,"disabled-date":e(p),"cell-class-name":e(C),onPick:ne},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):fe("v-if",!0),Q.value==="year"?(_(),ye(On,{key:1,ref_key:"currentViewRef",ref:V,date:u.value,"disabled-date":e(p),"parsed-value":i.parsedValue,onPick:X},null,8,["date","disabled-date","parsed-value"])):fe("v-if",!0),Q.value==="month"?(_(),ye(Mt,{key:2,ref_key:"currentViewRef",ref:V,date:u.value,"parsed-value":i.parsedValue,"disabled-date":e(p),onPick:E},null,8,["date","parsed-value","disabled-date"])):fe("v-if",!0)],34)],2)],2),Re(F("div",{class:v(e(h).e("footer"))},[Re(A(e(mt),{text:"",size:"small",class:v(e(h).e("link-btn")),onClick:$e},{default:le(()=>[Ze(de(e(k)("el.datepicker.now")),1)]),_:1},8,["class"]),[[lt,e(a)!=="dates"]]),A(e(mt),{plain:"",size:"small",class:v(e(h).e("link-btn")),onClick:se},{default:le(()=>[Ze(de(e(k)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[lt,e(pe)&&Q.value==="date"]])],2))}});var Fn=je(Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const En=ke(De(De({},na),la)),Bn=f=>{const{emit:c}=Kt(),l=Lt(),n=zt();return m=>{const D=Dt(m.value)?m.value():m.value;if(D){c("pick",[W(D[0]).locale(f.value),W(D[1]).locale(f.value)]);return}m.onClick&&m.onClick({attrs:l,slots:n,emit:c})}},ra=(f,{defaultValue:c,leftDate:l,rightDate:n,unit:h,onParsedValueChanged:m})=>{const{emit:D}=Kt(),{pickerNs:P}=Le(_t),k=_e("date-range-picker"),{t:w,lang:Y}=ze(),B=Bn(Y),M=j(),p=j(),C=j({endDate:null,selecting:!1}),s=u=>{C.value=u},d=(u=!1)=>{const y=e(M),R=e(p);Ct([y,R])&&D("pick",[y,R],u)},b=u=>{C.value.selecting=u,u||(C.value.endDate=null)},V=()=>{const[u,y]=oa(e(c),{lang:e(Y),unit:h,unlinkPanels:f.unlinkPanels});M.value=void 0,p.value=void 0,l.value=u,n.value=y};return Ve(c,u=>{u&&V()},{immediate:!0}),Ve(()=>f.parsedValue,u=>{if(Se(u)&&u.length===2){const[y,R]=u;M.value=y,l.value=y,p.value=R,m(e(M),e(p))}else V()},{immediate:!0}),{minDate:M,maxDate:p,rangeState:C,lang:Y,ppNs:P,drpNs:k,handleChangeRange:s,handleRangeConfirm:d,handleShortcutClick:B,onSelect:b,t:w}},Ln=["onClick"],zn=["disabled"],Kn=["disabled"],Hn=["disabled"],Un=["disabled"],Wn=Ae({__name:"panel-date-range",props:En,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(f,{emit:c}){const l=f,n="month",h=Le("EP_PICKER_BASE"),{disabledDate:m,cellClassName:D,format:P,defaultTime:k,arrowControl:w,clearable:Y}=h.props,B=rt(h.props,"shortcuts"),M=rt(h.props,"defaultValue"),{lang:p}=ze(),C=j(W().locale(p.value)),s=j(W().locale(p.value).add(1,n)),{minDate:d,maxDate:b,rangeState:V,ppNs:u,drpNs:y,handleChangeRange:R,handleRangeConfirm:L,handleShortcutClick:K,onSelect:x,t:H}=ra(l,{defaultValue:M,leftDate:C,rightDate:s,unit:n,onParsedValueChanged:ue}),q=j({min:null,max:null}),G=j({min:null,max:null}),Z=O(()=>`${C.value.year()} ${H("el.datepicker.year")} ${H(`el.datepicker.month${C.value.month()+1}`)}`),ne=O(()=>`${s.value.year()} ${H("el.datepicker.year")} ${H(`el.datepicker.month${s.value.month()+1}`)}`),J=O(()=>C.value.year()),re=O(()=>C.value.month()),Q=O(()=>s.value.year()),oe=O(()=>s.value.month()),r=O(()=>!!B.value.length),a=O(()=>q.value.min!==null?q.value.min:d.value?d.value.format(ee.value):""),o=O(()=>q.value.max!==null?q.value.max:b.value||d.value?(b.value||d.value).format(ee.value):""),g=O(()=>G.value.min!==null?G.value.min:d.value?d.value.format(X.value):""),E=O(()=>G.value.max!==null?G.value.max:b.value||d.value?(b.value||d.value).format(X.value):""),X=O(()=>Ut(P)),ee=O(()=>Wt(P)),te=()=>{C.value=C.value.subtract(1,"year"),l.unlinkPanels||(s.value=C.value.add(1,"month")),he("year")},pe=()=>{C.value=C.value.subtract(1,"month"),l.unlinkPanels||(s.value=C.value.add(1,"month")),he("month")},se=()=>{l.unlinkPanels?s.value=s.value.add(1,"year"):(C.value=C.value.add(1,"year"),s.value=C.value.add(1,"month")),he("year")},$e=()=>{l.unlinkPanels?s.value=s.value.add(1,"month"):(C.value=C.value.add(1,"month"),s.value=C.value.add(1,"month")),he("month")},Te=()=>{C.value=C.value.add(1,"year"),he("year")},Pe=()=>{C.value=C.value.add(1,"month"),he("month")},we=()=>{s.value=s.value.subtract(1,"year"),he("year")},Oe=()=>{s.value=s.value.subtract(1,"month"),he("month")},he=T=>{c("panel-change",[C.value.toDate(),s.value.toDate()],T)},Me=O(()=>{const T=(re.value+1)%12,I=re.value+1>=12?1:0;return l.unlinkPanels&&new Date(J.value+I,T)<new Date(Q.value,oe.value)}),ae=O(()=>l.unlinkPanels&&Q.value*12+oe.value-(J.value*12+re.value+1)>=12),Ne=O(()=>!(d.value&&b.value&&!V.value.selecting&&Ct([d.value,b.value]))),Ye=O(()=>l.type==="datetime"||l.type==="datetimerange"),Ge=(T,I)=>{if(!!T)return k?W(k[I]||k).locale(p.value).year(T.year()).month(T.month()).date(T.date()):T},Ke=(T,I=!0)=>{const z=T.minDate,We=T.maxDate,Je=Ge(z,0),Ee=Ge(We,1);b.value===Ee&&d.value===Je||(c("calendar-change",[z.toDate(),We&&We.toDate()]),b.value=Ee,d.value=Je,!(!I||Ye.value)&&L())},Ie=j(!1),Fe=j(!1),ut=()=>{Ie.value=!1},Xe=()=>{Fe.value=!1},He=(T,I)=>{q.value[I]=T;const z=W(T,ee.value).locale(p.value);if(z.isValid()){if(m&&m(z.toDate()))return;I==="min"?(C.value=z,d.value=(d.value||C.value).year(z.year()).month(z.month()).date(z.date()),l.unlinkPanels||(s.value=z.add(1,"month"),b.value=d.value.add(1,"month"))):(s.value=z,b.value=(b.value||s.value).year(z.year()).month(z.month()).date(z.date()),l.unlinkPanels||(C.value=z.subtract(1,"month"),d.value=b.value.subtract(1,"month")))}},nt=(T,I)=>{q.value[I]=null},ve=(T,I)=>{G.value[I]=T;const z=W(T,X.value).locale(p.value);z.isValid()&&(I==="min"?(Ie.value=!0,d.value=(d.value||C.value).hour(z.hour()).minute(z.minute()).second(z.second()),(!b.value||b.value.isBefore(d.value))&&(b.value=d.value)):(Fe.value=!0,b.value=(b.value||s.value).hour(z.hour()).minute(z.minute()).second(z.second()),s.value=b.value,b.value&&b.value.isBefore(d.value)&&(d.value=b.value)))},Ue=(T,I)=>{G.value[I]=null,I==="min"?(C.value=d.value,Ie.value=!1):(s.value=b.value,Fe.value=!1)},i=(T,I,z)=>{G.value.min||(T&&(C.value=T,d.value=(d.value||C.value).hour(T.hour()).minute(T.minute()).second(T.second())),z||(Ie.value=I),(!b.value||b.value.isBefore(d.value))&&(b.value=d.value,s.value=T))},$=(T,I,z)=>{G.value.max||(T&&(s.value=T,b.value=(b.value||s.value).hour(T.hour()).minute(T.minute()).second(T.second())),z||(Fe.value=I),b.value&&b.value.isBefore(d.value)&&(d.value=b.value))},t=()=>{C.value=oa(e(M),{lang:e(p),unit:"month",unlinkPanels:l.unlinkPanels})[0],s.value=C.value.add(1,"month"),c("pick",null)},S=T=>Se(T)?T.map(I=>I.format(P)):T.format(P),U=T=>Se(T)?T.map(I=>W(I,P).locale(p.value)):W(T,P).locale(p.value);function ue(T,I){if(l.unlinkPanels&&I){const z=(T==null?void 0:T.year())||0,We=(T==null?void 0:T.month())||0,Je=I.year(),Ee=I.month();s.value=z===Je&&We===Ee?I.add(1,n):I}else s.value=C.value.add(1,n),I&&(s.value=s.value.hour(I.hour()).minute(I.minute()).second(I.second()))}return c("set-picker-option",["isValidValue",Ct]),c("set-picker-option",["parseUserInput",U]),c("set-picker-option",["formatToString",S]),c("set-picker-option",["handleClear",t]),(T,I)=>(_(),N("div",{class:v([e(u).b(),e(y).b(),{"has-sidebar":T.$slots.sidebar||e(r),"has-time":e(Ye)}])},[F("div",{class:v(e(u).e("body-wrapper"))},[it(T.$slots,"sidebar",{class:v(e(u).e("sidebar"))}),e(r)?(_(),N("div",{key:0,class:v(e(u).e("sidebar"))},[(_(!0),N(be,null,Ce(e(B),(z,We)=>(_(),N("button",{key:We,type:"button",class:v(e(u).e("shortcut")),onClick:Je=>e(K)(z)},de(z.text),11,Ln))),128))],2)):fe("v-if",!0),F("div",{class:v(e(u).e("body"))},[e(Ye)?(_(),N("div",{key:0,class:v(e(y).e("time-header"))},[F("span",{class:v(e(y).e("editors-wrap"))},[F("span",{class:v(e(y).e("time-picker-wrap"))},[A(e(Qe),{size:"small",disabled:e(V).selecting,placeholder:e(H)("el.datepicker.startDate"),class:v(e(y).e("editor")),"model-value":e(a),onInput:I[0]||(I[0]=z=>He(z,"min")),onChange:I[1]||(I[1]=z=>nt(z,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Re((_(),N("span",{class:v(e(y).e("time-picker-wrap"))},[A(e(Qe),{size:"small",class:v(e(y).e("editor")),disabled:e(V).selecting,placeholder:e(H)("el.datepicker.startTime"),"model-value":e(g),onFocus:I[2]||(I[2]=z=>Ie.value=!0),onInput:I[3]||(I[3]=z=>ve(z,"min")),onChange:I[4]||(I[4]=z=>Ue(z,"min"))},null,8,["class","disabled","placeholder","model-value"]),A(e(St),{visible:Ie.value,format:e(X),"datetime-role":"start","time-arrow-control":e(w),"parsed-value":C.value,onPick:i},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(kt),ut]])],2),F("span",null,[A(e(me),null,{default:le(()=>[A(e(pt))]),_:1})]),F("span",{class:v([e(y).e("editors-wrap"),"is-right"])},[F("span",{class:v(e(y).e("time-picker-wrap"))},[A(e(Qe),{size:"small",class:v(e(y).e("editor")),disabled:e(V).selecting,placeholder:e(H)("el.datepicker.endDate"),"model-value":e(o),readonly:!e(d),onInput:I[5]||(I[5]=z=>He(z,"max")),onChange:I[6]||(I[6]=z=>nt(z,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Re((_(),N("span",{class:v(e(y).e("time-picker-wrap"))},[A(e(Qe),{size:"small",class:v(e(y).e("editor")),disabled:e(V).selecting,placeholder:e(H)("el.datepicker.endTime"),"model-value":e(E),readonly:!e(d),onFocus:I[7]||(I[7]=z=>e(d)&&(Fe.value=!0)),onInput:I[8]||(I[8]=z=>ve(z,"max")),onChange:I[9]||(I[9]=z=>Ue(z,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),A(e(St),{"datetime-role":"end",visible:Fe.value,format:e(X),"time-arrow-control":e(w),"parsed-value":s.value,onPick:$},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(kt),Xe]])],2)],2)):fe("v-if",!0),F("div",{class:v([[e(u).e("content"),e(y).e("content")],"is-left"])},[F("div",{class:v(e(y).e("header"))},[F("button",{type:"button",class:v([e(u).e("icon-btn"),"d-arrow-left"]),onClick:te},[A(e(me),null,{default:le(()=>[A(e(ct))]),_:1})],2),F("button",{type:"button",class:v([e(u).e("icon-btn"),"arrow-left"]),onClick:pe},[A(e(me),null,{default:le(()=>[A(e(wt))]),_:1})],2),T.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(ae),class:v([[e(u).e("icon-btn"),{"is-disabled":!e(ae)}],"d-arrow-right"]),onClick:Te},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],10,zn)):fe("v-if",!0),T.unlinkPanels?(_(),N("button",{key:1,type:"button",disabled:!e(Me),class:v([[e(u).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-right"]),onClick:Pe},[A(e(me),null,{default:le(()=>[A(e(pt))]),_:1})],10,Kn)):fe("v-if",!0),F("div",null,de(e(Z)),1)],2),A(Pt,{"selection-mode":"range",date:C.value,"min-date":e(d),"max-date":e(b),"range-state":e(V),"disabled-date":e(m),"cell-class-name":e(D),onChangerange:e(R),onPick:Ke,onSelect:e(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),F("div",{class:v([[e(u).e("content"),e(y).e("content")],"is-right"])},[F("div",{class:v(e(y).e("header"))},[T.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(ae),class:v([[e(u).e("icon-btn"),{"is-disabled":!e(ae)}],"d-arrow-left"]),onClick:we},[A(e(me),null,{default:le(()=>[A(e(ct))]),_:1})],10,Hn)):fe("v-if",!0),T.unlinkPanels?(_(),N("button",{key:1,type:"button",disabled:!e(Me),class:v([[e(u).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-left"]),onClick:Oe},[A(e(me),null,{default:le(()=>[A(e(wt))]),_:1})],10,Un)):fe("v-if",!0),F("button",{type:"button",class:v([e(u).e("icon-btn"),"d-arrow-right"]),onClick:se},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],2),F("button",{type:"button",class:v([e(u).e("icon-btn"),"arrow-right"]),onClick:$e},[A(e(me),null,{default:le(()=>[A(e(pt))]),_:1})],2),F("div",null,de(e(ne)),1)],2),A(Pt,{"selection-mode":"range",date:s.value,"min-date":e(d),"max-date":e(b),"range-state":e(V),"disabled-date":e(m),"cell-class-name":e(D),onChangerange:e(R),onPick:Ke,onSelect:e(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Ye)?(_(),N("div",{key:0,class:v(e(u).e("footer"))},[e(Y)?(_(),ye(e(mt),{key:0,text:"",size:"small",class:v(e(u).e("link-btn")),onClick:t},{default:le(()=>[Ze(de(e(H)("el.datepicker.clear")),1)]),_:1},8,["class"])):fe("v-if",!0),A(e(mt),{plain:"",size:"small",class:v(e(u).e("link-btn")),disabled:e(Ne),onClick:I[10]||(I[10]=z=>e(L)(!1))},{default:le(()=>[Ze(de(e(H)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):fe("v-if",!0)],2))}});var jn=je(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Gn=ke(De({},la)),qn=["pick","set-picker-option"],Zn=({unlinkPanels:f,leftDate:c,rightDate:l})=>{const{t:n}=ze(),h=()=>{c.value=c.value.subtract(1,"year"),f||(l.value=l.value.subtract(1,"year"))},m=()=>{f||(c.value=c.value.add(1,"year")),l.value=l.value.add(1,"year")},D=()=>{c.value=c.value.add(1,"year")},P=()=>{l.value=l.value.subtract(1,"year")},k=O(()=>`${c.value.year()} ${n("el.datepicker.year")}`),w=O(()=>`${l.value.year()} ${n("el.datepicker.year")}`),Y=O(()=>c.value.year()),B=O(()=>l.value.year()===c.value.year()?c.value.year()+1:l.value.year());return{leftPrevYear:h,rightNextYear:m,leftNextYear:D,rightPrevYear:P,leftLabel:k,rightLabel:w,leftYear:Y,rightYear:B}},Xn=["onClick"],Jn=["disabled"],Qn=["disabled"],el={name:"DatePickerMonthRange"},tl=Ae(qe(De({},el),{props:Gn,emits:qn,setup(f,{emit:c}){const l=f,n="year",{lang:h}=ze(),m=Le("EP_PICKER_BASE"),{shortcuts:D,disabledDate:P,format:k}=m.props,w=rt(m.props,"defaultValue"),Y=j(W().locale(h.value)),B=j(W().locale(h.value).add(1,n)),{minDate:M,maxDate:p,rangeState:C,ppNs:s,drpNs:d,handleChangeRange:b,handleRangeConfirm:V,handleShortcutClick:u,onSelect:y}=ra(l,{defaultValue:w,leftDate:Y,rightDate:B,unit:n,onParsedValueChanged:oe}),R=O(()=>!!D.length),{leftPrevYear:L,rightNextYear:K,leftNextYear:x,rightPrevYear:H,leftLabel:q,rightLabel:G,leftYear:Z,rightYear:ne}=Zn({unlinkPanels:rt(l,"unlinkPanels"),leftDate:Y,rightDate:B}),J=O(()=>l.unlinkPanels&&ne.value>Z.value+1),re=(r,a=!0)=>{const o=r.minDate,g=r.maxDate;p.value===g&&M.value===o||(p.value=g,M.value=o,a&&V())},Q=r=>r.map(a=>a.format(k));function oe(r,a){if(l.unlinkPanels&&a){const o=(r==null?void 0:r.year())||0,g=a.year();B.value=o===g?a.add(1,n):a}else B.value=Y.value.add(1,n)}return c("set-picker-option",["formatToString",Q]),(r,a)=>(_(),N("div",{class:v([e(s).b(),e(d).b(),{"has-sidebar":Boolean(r.$slots.sidebar)||e(R)}])},[F("div",{class:v(e(s).e("body-wrapper"))},[it(r.$slots,"sidebar",{class:v(e(s).e("sidebar"))}),e(R)?(_(),N("div",{key:0,class:v(e(s).e("sidebar"))},[(_(!0),N(be,null,Ce(e(D),(o,g)=>(_(),N("button",{key:g,type:"button",class:v(e(s).e("shortcut")),onClick:E=>e(u)(o)},de(o.text),11,Xn))),128))],2)):fe("v-if",!0),F("div",{class:v(e(s).e("body"))},[F("div",{class:v([[e(s).e("content"),e(d).e("content")],"is-left"])},[F("div",{class:v(e(d).e("header"))},[F("button",{type:"button",class:v([e(s).e("icon-btn"),"d-arrow-left"]),onClick:a[0]||(a[0]=(...o)=>e(L)&&e(L)(...o))},[A(e(me),null,{default:le(()=>[A(e(ct))]),_:1})],2),r.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(J),class:v([[e(s).e("icon-btn"),{[e(s).is("disabled")]:!e(J)}],"d-arrow-right"]),onClick:a[1]||(a[1]=(...o)=>e(x)&&e(x)(...o))},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],10,Jn)):fe("v-if",!0),F("div",null,de(e(q)),1)],2),A(Mt,{"selection-mode":"range",date:Y.value,"min-date":e(M),"max-date":e(p),"range-state":e(C),"disabled-date":e(P),onChangerange:e(b),onPick:re,onSelect:e(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),F("div",{class:v([[e(s).e("content"),e(d).e("content")],"is-right"])},[F("div",{class:v(e(d).e("header"))},[r.unlinkPanels?(_(),N("button",{key:0,type:"button",disabled:!e(J),class:v([[e(s).e("icon-btn"),{"is-disabled":!e(J)}],"d-arrow-left"]),onClick:a[2]||(a[2]=(...o)=>e(H)&&e(H)(...o))},[A(e(me),null,{default:le(()=>[A(e(ct))]),_:1})],10,Qn)):fe("v-if",!0),F("button",{type:"button",class:v([e(s).e("icon-btn"),"d-arrow-right"]),onClick:a[3]||(a[3]=(...o)=>e(K)&&e(K)(...o))},[A(e(me),null,{default:le(()=>[A(e(dt))]),_:1})],2),F("div",null,de(e(G)),1)],2),A(Mt,{"selection-mode":"range",date:B.value,"min-date":e(M),"max-date":e(p),"range-state":e(C),"disabled-date":e(P),onChangerange:e(b),onPick:re,onSelect:e(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}}));var al=je(tl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const nl=function(f){switch(f){case"daterange":case"datetimerange":return jn;case"monthrange":return al;default:return Fn}};W.extend(Ia);W.extend(Ja);W.extend(Ra);W.extend(Qa);W.extend(en);W.extend(tn);W.extend(an);W.extend(nn);var ll=Ae({name:"ElDatePicker",install:null,props:De(De({},qt),ln),emits:["update:modelValue"],setup(f,{expose:c,emit:l,slots:n}){const h=_e("picker-panel");yt("ElPopperOptions",Oa(rt(f,"popperOptions"))),yt(_t,{slots:n,pickerNs:h});const m=j();c({focus:(k=!0)=>{var w;(w=m.value)==null||w.focus(k)}});const P=k=>{l("update:modelValue",k)};return()=>{var k;const w=(k=f.format)!=null?k:xa[f.type]||st,Y=nl(f.type);return A(La,Et(f,{format:w,type:f.type,ref:m,"onUpdate:modelValue":P}),{default:B=>A(Y,B,null),"range-separator":n["range-separator"]})}}});const vt=ll;vt.install=f=>{f.component(vt.name,vt)};const dl=vt;export{La as C,Ft as D,dl as E,Za as T,tt as a,Ua as b,Ra as c,Ha as d,Ka as e,qt as f,St as g,Aa as t,cl as u};
